"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[5335],{75335:(e,s,l)=>{l.r(s),l.d(s,{default:()=>B});var a=l(9950),t=l(4695),n=l.n(t),c=l(52867);const r=e=>{n().fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then((s=>{s.value?e():s.dismiss}))};var i=l(5216),d=l(86781),o=l(68459),m=l(8966),h=l(21432),x=l(95942),p=l(51960),j=l(90246),f=l(97937),b=l(54810),u=l(70804),w=l(1093),g=l(44414);function y(e){let{feeds:s,wallId:l,deleteExtraFeed:a}=e;return(0,g.jsxs)(w.A,{className:"mb-0 pb-3",size:"lg",responsive:!0,children:[(0,g.jsx)("thead",{className:"thead-light",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"fw-bold",children:"Feeds"}),(0,g.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:50},children:"Total Posts"}),(0,g.jsx)("th",{className:"fw-bold text-nowrap pe-6 text-end",style:{minWidth:100},children:(0,g.jsxs)(f.A,{variant:"danger",size:"sm",onClick:()=>r((()=>a(l,(e=>{if(e&&e.length>0)return e.map((e=>"".concat(e.id)))})(s)))),wallid:l,children:[(0,g.jsx)(b.gc,{type:"solid",icon:"trash-can",iconClass:"me-1"}),"Delete All"]})})]})}),(0,g.jsx)("tbody",{children:s.length>0?s.map(((e,s)=>{return(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:50},children:(0,g.jsxs)("p",{className:"mb-0 line-clamp-2 line-clamp",style:{maxWidth:300},children:[(t=e.feedsFilterprefix,t?t.includes("<i class")?(0,g.jsxs)(g.Fragment,{children:[(0,u.Ay)(t)," "]}):t:""),e.name," - ",e.feedsFiltername]})}),(0,g.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:100},children:"".concat(e.totalrecords>1?"Posts":"Post",": ").concat(e.totalrecords)}),(0,g.jsx)("td",{className:"text-end pe-6",children:(0,g.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:(0,g.jsx)(h.A,{placement:"top",overlay:(0,g.jsx)(x.A,{children:"Delete"}),children:(0,g.jsx)(f.A,{variant:"icon",className:"btn-active-primary border-0",onClick:()=>r((()=>a(l,["".concat(e.id)]))),children:(0,g.jsx)(b.gc,{type:"solid",icon:"trash-can"})})})})})]},s);var t})):null})]})}var v=l(44268),N=l(45276),A=l(73878),k=l(28429);const I=function(){const[e,s]=(0,a.useState)(!0),l=(0,k.Zp)(),t=()=>s(!1);return(0,A.wA)(),(0,g.jsx)(v.A,{show:e,onHide:t,backdrop:"static",size:"lg",keyboard:!1,centered:!0,children:(0,g.jsxs)(v.A.Body,{children:[(0,g.jsx)(f.A,{variant:"close",className:"position-absolute end-0 top-0 m-5",onClick:t}),(0,g.jsxs)("div",{className:"py-lg-8 py-5 text-center",children:[(0,g.jsx)(N.A,{className:"mb-8",src:(0,b.pc)("media/images/error/warning.svg"),width:"60",height:"60"}),(0,g.jsx)("h2",{className:"h3",children:"You're Running Extra Gallery/Feeds!"}),(0,g.jsx)("p",{className:"mb-6 fs-7 text-muted fw-medium",children:"To enjoy uninterrupted services,kindly revoke the additional gallery/feed or upgrade your plan."}),(0,g.jsxs)("div",{className:"text-center mb-4",children:[(0,g.jsx)(f.A,{variant:"primary",className:"m-2 btn-min-w",onClick:()=>{l("/price"),t()},children:"Upgrade Now"}),(0,g.jsx)(f.A,{variant:"outline-primary",className:"m-2 btn-min-w",onClick:t,children:"Revoke"})]}),(0,g.jsx)("div",{className:"f-center",children:(0,g.jsx)(f.A,{variant:"link",onClick:()=>{l("/content/moderation/".concat(localStorage.getItem("wallId")?localStorage.getItem("wallId"):"")),t()},children:"Skip"})})]})]})})};var C=l(14313),F=l(66345);const _=function(e){let{feedsList:s,deleteWall:l,deleteFeedFromWall:t,extraGallery:n,extraFeeds:u}=e;const[w,v]=(0,a.useState)(0),N=(e,s)=>{(new C.A).post(F.S_I,{feedId:s,isCollaborator:0}).then((l=>{if(l.data&&Object.keys(l.data).length>0){const{message:a}=l.data;(0,c.k1)(a),t(e,s)}})).catch((e=>{}))};return(0,g.jsx)(i.A,{className:"limit_excced_ py-4",children:(0,g.jsxs)(i.A.Body,{children:[(0,g.jsxs)(d.A,{className:"me-6 gx-0 px-3",children:[(0,g.jsx)(o.A,{children:(0,g.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:"Gallery"})}),(0,g.jsx)(o.A,{children:(0,g.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:"Feeds"})}),(0,g.jsx)(o.A,{children:(0,g.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:"Network"})}),(0,g.jsx)(o.A,{children:(0,g.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0 text-end",children:"Action"})})]}),(0,g.jsx)(m.A,{onChange:e=>v(e[0]),flush:!0,children:s.map(((e,s)=>{const a=e&&e.feed.length>0?e.feed.map((e=>e.Networkicon)):[],t=!!(e&&e.feed.length>0);return(0,g.jsxs)(m.A.Item,{eventKey:e.wallId,className:"mb-4",children:[(0,g.jsx)(m.A.Header,{className:t?"":"arrow_disabled",children:(0,g.jsxs)(d.A,{className:"w-100",children:[(0,g.jsx)(o.A,{children:(0,g.jsx)("div",{className:"overflow-hidden p-2",style:{maxWidth:200},children:(0,g.jsx)("p",{className:"fw-bold mb-0 line-clamp-2 line-clamp",children:e.wallname})})}),(0,g.jsx)(o.A,{children:(0,g.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:e.feed.length})}),(0,g.jsx)(o.A,{children:(0,g.jsx)("p",{className:"fw-bold text-nowrap px-2 mb-0",children:a.length>0?(0,g.jsxs)("div",{className:"symbol-group symbol-hover flex-nowrap",children:[a.slice(0,3).map(((e,s)=>(0,g.jsx)(h.A,{placement:"top",overlay:(0,g.jsx)(x.A,{children:e.replace("fa-","")}),children:(0,g.jsx)("div",{className:"symbol symbol-34 symbol-circle bg-light border",children:(0,g.jsx)("span",{className:"symbol-label text-white fw-bold text-uppercase fs-7",children:(0,g.jsx)(p.A,{src:(0,b.pc)("media/icons/social-icons/".concat(e.replace("fa-",""),".svg")),height:16,width:16,alt:e.replace("fa-",""),fluid:!0})})})},s))),a.length>3?(0,g.jsx)(h.A,{placement:"top",overlay:(0,g.jsx)(j.A,{children:(0,g.jsx)("div",{className:"tooltip_symbol d-flex flex-wrap p-3",children:a.slice(3,a.length).map(((e,s)=>(0,g.jsx)("div",{className:"symbol symbol-34 symbol-circle bg-light border mx-1",children:(0,g.jsx)("span",{className:"symbol-label text-white fw-bold text-uppercase fs-7",children:(0,g.jsx)(p.A,{src:(0,b.pc)("media/icons/social-icons/".concat((0,c.EC)(2),".svg")),height:16,width:16,alt:e.replace("fa-",""),fluid:!0})})},s)))})}),children:(0,g.jsx)("div",{className:"symbol symbol-34 symbol-circle cursor-pointer",children:(0,g.jsxs)("span",{className:"symbol-label bg-primary fs-8 fw-semibold",children:["+",a.length-3]})})}):null]}):" -- "})}),(0,g.jsx)(o.A,{className:"text-end",children:(0,g.jsx)(h.A,{placement:"top",overlay:(0,g.jsx)(x.A,{children:"Delete"}),children:(0,g.jsx)(f.A,{variant:"icon",size:"sm",className:"btn-active-primary",onClick:()=>r((()=>{return s=e.wallId,void(new C.A).post(F.BI$,{wallId:"".concat(s),isCollaborator:0}).then((e=>{if(e.data&&Object.keys(e.data).length>0){const{response_message:a}=e.data;(0,c.k1)(a),setTimeout((()=>{l(s)}),500)}})).catch((e=>{}));var s})),children:(0,g.jsx)(b.gc,{type:"solid",icon:"trash-can"})})})})]})}),t?(0,g.jsx)(m.A.Body,{className:"px-0",children:(0,g.jsx)("div",{className:"border rounded-1 p-3 overflow-hidden",children:(0,g.jsx)(y,{feeds:e.feed,wallId:e.wallId,deleteExtraFeed:N})})}):null]},e.wallId)}))}),(0,g.jsx)(I,{}),(0,g.jsx)("div",{className:"mt-5",children:(0,g.jsxs)("p",{className:"fs-8 text-muted text-center mb-0",children:["You have exceeded your plan's limit. Delete extra"," ",(0,g.jsxs)("strong",{children:[n?"Gallery (".concat(n,")"):""," ",u?"Feeds (".concat(u,")"):""]})," ","for a seamless experience."]})})]})})};var W=l(45358),S=l(88749);const B=function(){const[e,s]=(0,a.useState)([]),[l,t]=(0,a.useState)(0),[n,c]=(0,a.useState)(0),r=(0,A.d4)((e=>{var s,l;return null===(s=e.authorized)||void 0===s||null===(l=s.userData)||void 0===l?void 0:l.user_data}),A.bN),i=(0,A.wA)(),d=(0,k.Zp)();(0,a.useEffect)((()=>{o()}),[]);const o=()=>{(new C.A).post(F.Npq).then((e=>{if(e.data&&Object.keys(e.data).length>0){const{responseData:l}=e.data;if(l&&Object.keys(l).length>0){const{wallList:e,delete_extra_feed:a,delete_extra_gallery:n}=l;t(n),c(a),e.length>0&&s(e)}}})).catch((e=>{}))};return(0,g.jsx)("div",{className:"d-flex flex-column flex-column-fluid align-items-center justify-content-center w-100 flex-position-center full-content",children:(0,g.jsxs)(W.A,{children:[(0,g.jsx)("div",{className:"mb-6 f-center",children:(0,g.jsx)(p.A,{src:(0,b.pc)("media/logo/tagshop-icon.svg"),height:50,width:50,alt:"Tagshop",fluid:!0})}),(0,g.jsx)(_,{feedsList:e,extraFeeds:n,extraGallery:l,deleteWall:l=>{const a=e.filter((e=>e.wallId!=l));s(a),o(),i((0,S.ug)((()=>{}))),parseInt(null===r||void 0===r?void 0:r.feeds)<=a.length&&d("/home")},deleteFeedFromWall:(l,a)=>{const t=a.map((e=>Number(e))),n=e.map((e=>{if(e.wallId===l){const s=e.feed.filter((e=>-1===t.indexOf(e.id)));e.feed=s}return e}));s(n),o(),i((0,S.ug)((()=>{}))),parseInt(null===r||void 0===r?void 0:r.feeds)<=n.length&&d("/home")}})]})})}}}]);