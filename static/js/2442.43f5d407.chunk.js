"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[2442],{82442:(e,s,a)=>{a.r(s),a.d(s,{default:()=>E});var l=a(9950),i=a(45358),t=a(5216),n=a(86781),c=a(68459),r=a(17595),o=a(75623),d=a(77407),h=a(34483),m=a(19360),x=a(1093),p=a(97937),g=a(42074),y=a(18633),j=a(73878),b=a(1391),u=a(4695),A=a.n(u),v=a(54810),C=a(88053),N=a(52867),f=a(80322),k=a(74283),w=a(44414);const G=[{name:"Website",type:"website"},{name:"Email Campaigns",type:"email_camp"},{name:"Shopon.bio",type:"shopon"}],S=[{name:"Analytics",type:"analytics"},{name:"Apps & More",type:"apps_more"}];class _ extends l.Component{constructor(){super(...arguments),this.state={isAdmin:!0,emailId:"",userType:1,createGallery:!1,viewGallery:[],editGallery:[],website:0,email_camp:0,manageAccount:0,manageFeed:0,analytics:1,isEmailError:!1,loading:!0,isChanged:!1,isEdit:!1,isSuperAdmin:!1,shopon:0,apps_more:0,product_catalog:0},this.checkEditInvite=()=>{const{userData:e,params:s}=this.props;s&&Object.keys(s).length>0&&s.id?(0,f.BH)(s.id).then((e=>{const{responseData:s}=e.data;this.getCollaboratorData(s)})).catch((e=>this.setState({loading:!1},(()=>{})))):this.setState({isAdmin:!(!e||""!=e.collaborator&&"0"!=e.collaborator.activeAccount),loading:!1})},this.getCollaboratorData=e=>{const{allWalls:s}=this.props,a=k.A.parse(window.location.search),{networkManager:l,otherSettings:i,publish:t,contentGallery:n,product_catalog:c}=e.permissions;1==e.role?this.setState({isAdmin:!(Object.keys(a).length>0),emailId:e["UserCollab.emailId"],loading:!1,isEdit:!0}):this.setState({isAdmin:!1,emailId:e["UserCollab.emailId"],createGallery:n.createGallery,viewGallery:n.viewGallery.includes("0")?s.map((e=>e.id)):s.filter((e=>n.viewGallery.includes(String(e.id)))).map((e=>e.id)),editGallery:n.editGallery.includes("0")?s.map((e=>e.id)):s.filter((e=>n.editGallery.includes(String(e.id)))).map((e=>e.id)),email_camp:t.email_camp,website:t.website,shopon:t.shopon,manageAccount:l.manageAccount,manageFeed:l.manageFeed,apps_more:i.apps_more,analytics:i.analytics,product_catalog:c,loading:!1,isEdit:!0})},this.onChangeMailId=e=>{this.setState({emailId:e.target.value,isChanged:!0,isEmailError:!1})},this.onSelectGallery=(e,s)=>{let{viewGallery:a,editGallery:l,galleryList:i}=this.state;1==s?(a.includes(e)?a=a.filter((s=>s!=e)):a.push(e),this.setState({viewGallery:a,isChanged:!0})):2==s&&(l.includes(e)?(l=l.filter((s=>s!=e)),a=a.filter((s=>s!=e))):(l.push(e),a.includes(e)||a.push(e)),this.setState({editGallery:l,viewGallery:a,isChanged:!0}))},this.onSelectAllGallerys=(e,s)=>{const{allWalls:a}=this.props;1==s?this.setState({viewGallery:e.target.checked?a.map((e=>e.id)):[],isChanged:!0}):2==s&&this.setState({viewGallery:e.target.checked?a.map((e=>e.id)):[],isChanged:!0,editGallery:e.target.checked?a.map((e=>e.id)):[]})},this.onCreateGallery=e=>{this.setState({createGallery:!!e.target.checked,isChanged:!0})},this.onChangePermission=(e,s)=>{0==this.state[e]?this.setState({[e]:s}):this.setState({[e]:this.state[e]==s?0:s})},this.onCancel=()=>{this.state.isChanged?A().fire({title:this.state.isEdit?"Confirming cancellation":"Are you sure?",text:this.state.isEdit?"All changes will be discarded.":"All selections will be deleted permanently.",icon:"warning",showCancelButton:!0,confirmButtonText:this.state.isEdit?"Yes, Cancel it!":"Yes, proceed."}).then((e=>{e.isConfirmed&&this.props.navigate("/collaborator")})):this.props.navigate("/collaborator")},this.onSubmit=()=>{const{emailId:e,viewGallery:s,editGallery:a,isAdmin:l,isEdit:i}=this.state,{createCollaborator:t,collaboratorList:n}=this.props;if(e.trim().length>0&&(0,N.DT)(e)){const c=n.length>0?n.filter((s=>s["UserCollab.emailId"]==e)):[];if(!i&&c.length>0)(0,N.r$)("Email already exists.");else if(0==l&&0==s.length&&0==a.length)(0,N.r$)("Please select atleast 1 Gallery.");else{t(this.createPayload(),(()=>this.props.navigate("/collaborator")),!!i||null)}}else(e.trim().length<=0||!(0,N.DT)(e))&&(this.setState({isEmailError:!0}),(0,N.r$)("Enter valid email address."))},this.createPayload=()=>{const{isAdmin:e,emailId:s,website:a,shopon:l,email_camp:i,manageAccount:t,manageFeed:n,analytics:c,apps_more:r,createGallery:o,viewGallery:d,editGallery:h,product_catalog:m}=this.state,{allWalls:x}=this.props;return e?{emailId:s,userType:1}:{emailId:s,userType:2,permission:{contentGallery:{createGallery:o?2:0,viewGallery:d.length==x.length?"0":String(d),editGallery:h.length==x.length?"0":String(h)},publish:{website:a,email_camp:i,shopon:l},networkManager:{manageAccount:t,manageFeed:n},otherSettings:{analytics:1==c||2==c?c:1,apps_more:r},product_catalog:m}}}}componentDidMount(){this.checkEditInvite()}render(){const{isAdmin:e,manageAccount:s,manageFeed:a,createGallery:l,isEmailError:j,loading:b,emailId:u,isEdit:A,editGallery:N,viewGallery:f,product_catalog:k}=this.state,{allWalls:_,userData:E}=this.props;return(0,w.jsxs)("div",{className:"d-flex flex-column flex-column-fluid full-content",children:[(0,w.jsx)("div",{className:"subheader",children:(0,w.jsx)(i.A,{fluid:!0,children:(0,w.jsxs)("div",{className:"nav nav-underline",children:[(0,w.jsx)("div",{className:"nav-item",children:(0,w.jsx)(g.N_,{to:"/profile",className:"nav-link",children:"Profile"})}),(0,w.jsx)("div",{className:"nav-item",children:(0,w.jsx)(g.N_,{to:"/transactions",className:"nav-link",children:"Plan Details"})}),(0,w.jsx)("div",{className:"nav-item",children:(0,w.jsx)(g.N_,{to:"/social-account",className:"nav-link",children:"Social Accounts"})}),(0,w.jsx)("div",{className:"nav-item",children:(0,w.jsx)(g.N_,{to:"/collaborator",className:"nav-link active",children:"Collaborator"})})]})})}),(0,w.jsx)("div",{className:"container",children:(0,w.jsx)(t.A,{className:"mb-xl-5 mb-4",style:{minHeight:"calc(100vh - 250px)"},children:b?(0,w.jsx)(y.a,{}):(0,w.jsxs)(t.A.Body,{className:"p-lg-6",children:[(0,w.jsxs)("div",{style:{minHeight:"calc(100vh - 330px)"},children:[(0,w.jsxs)("div",{className:"pb-3 mb-8 border-bottom",children:[(0,w.jsx)(n.A,{className:"mb-4",children:(0,w.jsxs)(c.A,{xl:5,lg:6,children:[(0,w.jsxs)(r.A.Label,{htmlFor:"basic-url",children:["Email Address",(0,w.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,w.jsxs)("div",{className:"d-flex align-items-start",children:[(0,w.jsxs)(o.A,{className:"mb-3 me-3",style:{maxWidth:600},children:[(0,w.jsx)(o.A.Text,{className:"text-dark",children:(0,w.jsx)(v.gc,{type:"solid",icon:"user-plus"})}),(0,w.jsx)(r.A.Control,{size:"lg","aria-label":"Text input with dropdown button",placeholder:"Enter email address",onChange:this.onChangeMailId,value:u,className:j?"is-invalid":""}),j&&(0,w.jsx)(r.A.Control.Feedback,{type:"invalid",className:"d-block",children:"Enter valid email address."})]}),!E||""!=E.collaborator&&"0"!=E.collaborator.activeAccount?null:(0,w.jsxs)(d.A,{variant:"outline-secondary",className:"mb-3",size:"lg",title:e?"Admin":"Manager",children:[(0,w.jsx)(h.A.Item,{onClick:()=>this.setState({isAdmin:!0}),children:"Admin"}),(0,w.jsx)(h.A.Item,{onClick:()=>this.setState({isAdmin:!1}),children:"Manager"})]})]})]})}),(0,w.jsxs)(m.A,{variant:"primary",className:"border border-primary",children:[(0,w.jsx)(m.A.Heading,{className:"f-center alert_icon_head",children:(0,w.jsx)("span",{className:"f-center",children:e?"Admin *":"Manager *"})}),(0,w.jsx)("p",{className:"fw-medium mb-0 fs-8 text-gray-700",children:e?"The Admin role enjoys full access to the Tagshop, allowing them to perform all functionalities and allowing them to add other managers.":"The Manager role, in contrast, has limited access to the Tagshop and its functionalities. Their access is determined by the permissions they have been granted."})]})]}),e?null:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(n.A,{children:[(0,w.jsxs)(c.A,{lg:4,children:[(0,w.jsxs)("h4",{className:"h5",children:[(0,w.jsx)(v.gc,{icon:"image",iconClass:"me-1 fs-6"}),"Content Gallery ",(0,w.jsx)("span",{className:"text-danger",children:"*"})]}),(0,w.jsx)("p",{children:"Collect posts from your preferred social channels in a curated content gallery. Moderate and modify the content, turn it shoppable and request rights directly from Tagshop to leverage it on your marketing touchpoints."})]}),(0,w.jsx)(c.A,{lg:8,children:(0,w.jsx)(t.A,{className:"mb-6 shadow-none",children:(0,w.jsxs)(t.A.Body,{className:"p-xxl-6",children:[(0,w.jsxs)("div",{className:"mb-2 d-flex flex-wrap",children:[(0,w.jsx)(r.A.Check,{inline:!0,label:"View All Gallery",name:"vGallery",className:"me-3 mb-2",type:"checkbox",id:"inline-view",onChange:e=>this.onSelectAllGallerys(e,N.length>0&&N.length==f.length?2:1),checked:f.length==_.length&&_.length>0}),(0,w.jsx)(r.A.Check,{inline:!0,label:"Edit All Gallery",name:"eGallery",className:"me-3 mb-2",type:"checkbox",id:"inline-edit",onChange:e=>this.onSelectAllGallerys(e,2),checked:N.length==_.length&&_.length>0}),(0,w.jsx)(r.A.Check,{inline:!0,label:"Create New Gallery",name:"createGallery",className:"me-3 mb-2",type:"checkbox",id:"inline-create",onChange:this.onCreateGallery,checked:l})]}),(0,w.jsx)(t.A,{className:"mb-0 shadow-none overflow-hidden",children:(0,w.jsx)(t.A.Body,{className:"pe-lg-4 ps-lg-6 bg-gray-100",children:_.map((e=>(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-between py-2 border-bottom",children:[(0,w.jsx)("div",{className:"d-flex align-items-center w-100",style:{maxWidth:"calc(100% - 150px)"},children:(0,w.jsxs)("div",{className:"d-flex align-items-center w-100",children:[(0,w.jsx)(C.A,{className:"symbol symbol-38 rounded-2 flex-shrink-0 me-2 overflow-hidden",imageSize:38,symbolClass:"symbol-label fs-6 bg-primary",name:e.name,profileUrl:"",networkId:""}),(0,w.jsxs)("div",{className:"overflow-hidden w-100 d-flex flex-grow-1 flex-column",children:[(0,w.jsx)("p",{className:"text-gray-dark fw-semibold mb-0 text-ellipsis fs-8",children:e.name}),(0,w.jsxs)("span",{className:"fs-9 mb-0 text-gray-500 fw-medium text-ellipsis d-block",children:[e.totalPost," Posts"]})]})]})}),(0,w.jsxs)("div",{className:"my-2 d-flex",children:[(0,w.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"View",name:"gallery_action",className:"me-3 me-xl-10",type:"checkbox",id:"gallery-action-view",checked:f.includes(e.id),onChange:()=>this.onSelectGallery(e.id,N.includes(e.id)?2:1)}),(0,w.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"Edit",name:"gallery_action",type:"checkbox",id:"gallery-action-edit",onChange:s=>this.onSelectGallery(e.id,2),checked:!!N.includes(e.id)})]},"gallery-action-view")]},e.id)))})})]})})})]}),(0,w.jsxs)(n.A,{children:[(0,w.jsxs)(c.A,{lg:4,children:[(0,w.jsxs)("h4",{className:"h5",children:[(0,w.jsx)(v.gc,{icon:"bag-shopping",iconClass:"me-1 fs-6"}),"Product Catalog"]}),(0,w.jsx)("p",{children:"It is a list of products you can sync across platforms (Shopify, WooCommerce, Magento), including essential details like descriptions, images, and pricing to help customers make purchasing decisions."})]}),(0,w.jsx)(c.A,{lg:8,children:(0,w.jsx)(t.A,{className:"mb-6 shadow-none",children:(0,w.jsx)(t.A.Body,{className:"p-xxl-6",children:(0,w.jsx)(x.A,{borderless:!0,responsive:!0,className:"mb-0",children:(0,w.jsx)("tbody",{children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"fw-medium",children:"Products"}),(0,w.jsx)("td",{className:"text-end",children:(0,w.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,w.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"View",name:"prod-view",className:"me-3 me-xl-10",type:"checkbox",id:"prod-view",checked:2==k||1==k,onChange:e=>this.onChangePermission("product_catalog",2==k?2:1)}),(0,w.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"Edit",name:"prod-edit",type:"checkbox",id:"prod-edit",onChange:e=>this.onChangePermission("product_catalog",2),checked:2==k})]})})]})})})})})})]}),(0,w.jsxs)(n.A,{children:[(0,w.jsxs)(c.A,{lg:4,children:[(0,w.jsxs)("h4",{className:"h5",children:[(0,w.jsx)(v.gc,{icon:"paper-plane",iconClass:"me-1 fs-6"}),"Publishing Touchpoints"]}),(0,w.jsx)("p",{children:"Seamlessly publish your curated assets, such as shoppable UGC galleries, and shop the looks on websites, product pages, email campaigns, and within social bios with Shopon.bio. "})]}),(0,w.jsx)(c.A,{lg:8,children:(0,w.jsx)(t.A,{className:"mb-6 shadow-none",children:(0,w.jsx)(t.A.Body,{className:"p-xxl-6",children:(0,w.jsx)(x.A,{borderless:!0,responsive:!0,className:"mb-0",children:(0,w.jsx)("tbody",{children:G.map(((e,s)=>(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"fw-medium",children:e.name}),(0,w.jsx)("td",{className:"text-end",children:(0,w.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,w.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"View",name:e.type,className:"me-3 me-xl-10",type:"checkbox",id:e.type,checked:2==this.state[e.type]||1==this.state[e.type],onChange:s=>this.onChangePermission(e.type,2==this.state[e.type]?2:1)}),(0,w.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"Edit",name:e.type,type:"checkbox",id:e.type,onChange:s=>this.onChangePermission(e.type,2),checked:2==this.state[e.type]})]},s)})]})))})})})})})]}),(0,w.jsxs)(n.A,{children:[(0,w.jsxs)(c.A,{lg:4,children:[(0,w.jsxs)("h4",{className:"h5",children:[(0,w.jsx)(v.gc,{icon:"grid-2-plus",iconClass:"me-1 fs-6"}),"Network Manager"]}),(0,w.jsx)("p",{children:"The Network Manager, accessible via your My Profile tab, enables you to explore Social Accounts. You can add up to 5 social networks to expand your professional network. "})]}),(0,w.jsx)(c.A,{lg:8,children:(0,w.jsx)(t.A,{className:"mb-6 shadow-none",children:(0,w.jsx)(t.A.Body,{className:"p-xxl-6",children:(0,w.jsx)(x.A,{borderless:!0,responsive:!0,className:"mb-0",children:(0,w.jsxs)("tbody",{children:[(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"fw-medium",children:"Add & Manage Accounts"}),(0,w.jsx)("td",{className:"text-end",children:(0,w.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,w.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"View",name:"socialAccount_action",className:"me-3 me-xl-10",type:"checkbox",id:"socialAccount-action-view",checked:2==s||1==s,onChange:()=>this.onChangePermission("manageAccount",2==s?2:1)}),(0,w.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"Edit",name:"socialAccount_action",type:"checkbox",id:"socialAccount-action-edit",onChange:e=>this.onChangePermission("manageAccount",2),checked:2==s})]},"socialAccount-action-view")})]}),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"fw-medium",children:"Create & Manage Feeds"}),(0,w.jsx)("td",{className:"text-end",children:(0,w.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,w.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"View",name:"connection_action",className:"me-3 me-xl-10",type:"checkbox",id:"connection-action-view",checked:1==a||2==a,onChange:()=>this.onChangePermission("manageFeed",2==a?2:1)}),(0,w.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"Edit",name:"connection_action",type:"checkbox",id:"connection-action-edit",onChange:e=>this.onChangePermission("manageFeed",2),checked:2==a})]},"connection-action-view")})]})]})})})})})]}),(0,w.jsxs)(n.A,{children:[(0,w.jsxs)(c.A,{lg:4,children:[(0,w.jsxs)("h4",{className:"h5",children:[(0,w.jsx)(v.gc,{icon:"grid-2",iconClass:"me-1 fs-6"}),"Additional Features"]}),(0,w.jsx)("p",{children:"Additional features include Style Studio for branding, Auto-Moderation, and Creators and Insights for content management. For a comprehensive suite of tools, you'll also find All Access, Apps and More, and Analytics. "})]}),(0,w.jsx)(c.A,{lg:8,children:(0,w.jsx)(t.A,{className:"mb-6 shadow-none",children:(0,w.jsx)(t.A.Body,{className:"p-xxl-6",children:(0,w.jsx)(x.A,{borderless:!0,responsive:!0,className:"mb-0",children:(0,w.jsx)("tbody",{children:S.map(((e,s)=>(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"fw-medium",children:e.name}),(0,w.jsx)("td",{className:"text-end",children:(0,w.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,w.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"View",name:e.type,className:"me-3 me-xl-10",type:"checkbox",id:e.type,checked:2==this.state[e.type]||1==this.state[e.type]||"analytics"==e.type,onChange:s=>this.onChangePermission(e.type,2),disabled:"analytics"==e.type}),(0,w.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"Edit",name:e.type,type:"checkbox",id:e.type,onChange:s=>this.onChangePermission(e.type,2),checked:2==this.state[e.type]})]},s)})]})))})})})})})]})]})]}),(0,w.jsx)("div",{className:"d-flex justify-content-end align-items-center flex-wrap mt-3 mt-lg-4",children:(0,w.jsxs)("div",{className:"block-center",children:[(0,w.jsx)(p.A,{className:"btn btn-secondary btn-min-w me-3",onClick:()=>this.onCancel(),children:"Cancel"}),(0,w.jsxs)(p.A,{variant:"primary",onClick:()=>this.onSubmit(),children:[A?"Update":"Create"," ",e?"Admin":"Manager"]})]})})]})})})]})}}const E=(0,j.Ng)((e=>{var s,a,l,i;return{allWalls:null===(s=e.dashboardData)||void 0===s||null===(a=s.dashboarddata)||void 0===a?void 0:a.allWalls,userData:null===(l=e.authorized)||void 0===l||null===(i=l.userData)||void 0===i?void 0:i.user_data,collaboratorList:e.collaborator.collaboratorList}}),(e=>({createCollaborator:(s,a,l)=>e((0,f.Az)(s,a,l))})))((0,b.A)(_))}}]);