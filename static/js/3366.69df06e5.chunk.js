"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[3366],{26806:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(51960),i=t(97937),l=t(54810),n=t(44414);const o=e=>{let{title:s,desc:t,button:o,icon:c,isFullScreen:r}=e;const d=r?86:66;return(0,n.jsx)("div",{className:"mx-auto f-center w-100",children:(0,n.jsx)("div",{className:"py-5 text-center w-100 justify-content-center",children:(0,n.jsxs)("div",{className:"mx-auto px-4",style:{maxWidth:520},children:[c?(0,n.jsx)(a.A,{className:"mb-4",src:(0,l.pc)("media/icons/color-icons/".concat(c,".svg")),height:d,width:d,alt:"",fluid:!0}):null,s?(0,n.jsx)("h2",{className:"text-center h3",children:s}):null,t?(0,n.jsx)("p",{className:"fs-8 text-muted fw-medium",children:t}):null,o?(0,n.jsx)(i.A,{onClick:()=>o.action(),size:r?"lg":"md",className:"my-3",children:o.text}):null]})})})}},82094:(e,s,t)=>{t.d(s,{A:()=>r});var a=t(54810),i=t(51960),l=t(52867),n=t(9950),o=t(17327),c=t(44414);const r=e=>{let{mediaClass:s,size:t,height:r,width:d,url:h,alt:m,isProduct:p,handleAllImageError:u,item:g}=e;const[x,j]=(0,n.useState)(t||100);(0,n.useEffect)((()=>{(async()=>{if(t)j(t);else if(r&&""!=r&&d&&""!=d)j(100*r/d);else try{const{width:e,height:s}=await(0,o.A)(h);j(100*s/e)}catch(e){j(100)}})()}),[t]);return(0,c.jsx)("div",{className:"".concat(s," overflow-hidden position-relative"),style:{paddingBottom:"".concat(x,"%")},children:(0,c.jsx)(i.A,{className:"position-absolute object-center-cover h-100 w-100",loading:"lazy",src:h,height:r,width:d,"data-load":"0","data-id":null===g||void 0===g?void 0:g.id,"data-network":null===g||void 0===g?void 0:g.networkId,alt:""!=m?m:(0,l.wG)(h),onError:e=>{u&&u(e),(e=>{e.target.src=(0,a.pc)("media/images/error/".concat(p?"no-product":"image",".svg"))})(e)},fluid:!0})})}},47906:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Cs});var a=t(9950),i=t(73878),l=t(45358),n=t(98361),o=t(4342),c=t(34483),r=t(62849),d=t(14919),h=t(97937),m=t(75623),p=t(17595),u=t(54810),g=t(44414);class x extends a.Component{constructor(){super(...arguments),this.state={tagSearchList:[],searchPost:"",selected:"",openSearch:!1},this.onLoad=()=>{const{searchPost:e}=this.state;e.length>0?(0,d.nX)(e).then((e=>{const{tags:s,status:t}=e.data;t?this.setState({tagSearchList:s}):this.setState({tagSearchList:[]})})):this.setState({tagSearchList:[]})},this.onSearchText=e=>this.setState({searchPost:e},(()=>this.onLoad())),this.onClickToSearchTags=e=>s=>{this.setState({searchPost:e,selected:e,tagSearchList:[]},(()=>this.props.searchTagsFilter(this.state.selected)))},this.onClickToSearchPost=e=>s=>{e&&String(e).length>0&&this.setState({searchPost:"",selected:e,tagSearchList:[]},(()=>this.props.searchPostFilter(e)))}}render(){const{tagSearchList:e,selected:s,openSearch:t,searchPost:a}=this.state;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.A,{variant:"icon",size:"sm",className:"btn-active-primary",onClick:()=>this.setState({openSearch:!t}),children:(0,g.jsx)(u.gc,{icon:t?"xmark":"magnifying-glass"})}),(0,g.jsx)(c.A,{show:!!(e&&e.length>0),className:"assets_search_input position-absolute me-lg-2",style:{display:t?"block":"none"},children:(0,g.jsxs)("div",{className:"quick_search d-flex align-items-center",children:[(0,g.jsxs)(m.A,{id:"inputSpinner",className:"p-0 spinner-gray spinner-sm",children:[t&&(0,g.jsx)(p.A.Control,{size:"sm",style:{minHeight:"32px"},id:"assets_search_input",placeholder:"What are you looking for?",value:a,onChange:e=>this.onSearchText(e.target.value)}),(0,g.jsx)(h.A,{size:"sm",id:"inputCloseButton",variant:"primary",onClick:this.onClickToSearchPost(a),children:(0,g.jsx)(u.gc,{icon:"magnifying-glass"})})]}),e&&e.length>0?(0,g.jsx)(c.A.Menu,{className:"w-100 dropdwon-height top-100",style:{overflowY:"auto"},children:e.map((e=>(0,g.jsx)(c.A.Item,{onClick:this.onClickToSearchTags(e),children:e},e)))}):null]})})]})}}const j=x;var f=t(67956),v=t(59051),b=t.n(v),y=t(32796);const w=e=>{const{children:s,maxDate:t,handleOnApply:a,startDate:i,endDate:l}=e;return(0,g.jsx)(y.A,{onApply:a,startDate:i,endDate:l,initialSettings:{locale:{format:"DD-MM-YYYY",separator:"-"},maxDate:t,showDropdowns:!1,startDate:i,endDate:l,ranges:{Today:[b()().format("DD-MM-YYYY"),b()().format("DD-MM-YYYY")],Yesterday:[b()().subtract(1,"days").format("DD-MM-YYYY"),b()().subtract(1,"days").format("DD-MM-YYYY")],"Last 7 Days":[b()().subtract(6,"days").format("DD-MM-YYYY"),b()().format("DD-MM-YYYY")],"Last 30 Days":[b()().subtract(29,"days").format("DD-MM-YYYY"),b()().format("DD-MM-YYYY")],"This Month":[b()().startOf("month").format("DD-MM-YYYY"),b()().endOf("month").format("DD-MM-YYYY")],"Last Month":[b()().subtract(1,"month").startOf("month").format("DD-MM-YYYY"),b()().subtract(1,"month").endOf("month").format("DD-MM-YYYY")]}},children:s})};class k extends a.Component{constructor(){super(...arguments),this.state={startDate:b()().endOf("month").format("DD-MM-YYYY"),endDate:b()().format("DD-MM-YYYY"),maxDate:b()().endOf("month").format("DD-MM-YYYY")},this.handleOnApply=(e,s)=>{this.setState({startDate:s.startDate.format("YYYY-MM-DD"),endDate:s.endDate.format("YYYY-MM-DD")}),this.props.onDateRangeFilter(s.startDate.format("YYYY-MM-DD"),s.endDate.format("YYYY-MM-DD"))}}componentWillReceiveProps(e){const{moderation:s}=e;s&&Object.keys(s.filter).length>0&&""!=s.filter.startDate&&this.setState({startDate:b()(s.filter.startDate).format("DD-MM-YYYY"),endDate:b()(s.filter.endDate).format("DD-MM-YYYY")}),s.filterBody&&s.filterBody.dateRanges&&0==Object.keys(s.filterBody.dateRanges).length&&this.state.startDate!=b()().subtract(30,"days").format("DD-MM-YYYY")&&this.setState({startDate:b()().subtract(30,"days").format("DD-MM-YYYY"),endDate:b()().format("DD-MM-YYYY")})}render(){const{children:e}=this.props,{startDate:s,endDate:t,maxDate:a}=this.state;return(0,g.jsx)(w,{children:e,startDate:s,endDate:t,maxDate:a,handleOnApply:this.handleOnApply},(0,f.A)())}}const N=k;var A=t(42074);const C=e=>(0,g.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,g.jsxs)(A.N_,{to:"/content/managefeed/".concat(localStorage.getItem("wallId")),className:"btn btn-outline-primary text-nowrap btn-sm me-2",children:[(0,g.jsx)(u.gc,{icon:"list-check",iconClass:"d-inline d-lg-none"}),(0,g.jsx)("span",{className:"d-none d-lg-inline",children:"Manage Feeds "})]}),(0,g.jsx)(j,{...e}),(0,g.jsx)(N,{...e,children:(0,g.jsx)(h.A,{variant:"icon",size:"sm",className:"btn-active-primary ms-2",id:"calander_",children:(0,g.jsx)(u.gc,{icon:"calendar-range"})})}),(0,g.jsx)(h.A,{variant:"icon",size:"sm",className:"btn-active-primary ms-2",id:"filter_aside",children:(0,g.jsx)(u.gc,{icon:"filter"})})]});var T=t(30615),S=t(21432),_=t(95942);const D=e=>{let{moderation:s,onNextNavigateClick:t,onPrevNavigateClick:a,onChangePage:i}=e;const{paginateData:l}=s;return l&&Object.keys(l).length?(0,g.jsxs)("ul",{className:"pagination pagination-sm my-1 ms-3",children:[(0,g.jsx)("li",{className:"page-item",children:(0,g.jsx)("span",{className:"page-link ".concat(1==l.currentPage?" disabled":" cursor-pointer"),onClick:1==l.currentPage?null:a,children:(0,g.jsx)(u.gc,{type:"solid",icon:"angle-left"})})}),l.pages&&l.pages.length>0?l.pages.map(((e,s)=>parseInt(s)<1?(0,g.jsx)("li",{className:"page-item".concat(l.currentPage==e?" active":" cursor-pointer"),onClick:i(e),children:(0,g.jsx)("span",{className:"page-link",children:e})},"lIi".concat(s)):l.currentPage<=3&&(2===parseInt(s)||1===parseInt(s))||l.currentPage>=parseInt(l.pages.length)-2&&parseInt(s)>=parseInt(l.pages.length)-3?(0,g.jsxs)(g.Fragment,{children:[s===parseInt(l.pages.length)-3&&parseInt(l.pages.length)>4?(0,g.jsx)("li",{className:"page-item disabled",children:(0,g.jsx)("span",{className:"page-link",children:"..."})},"li".concat(s)):null,(0,g.jsx)("li",{className:"page-item".concat(l.currentPage==e?" active":" cursor-pointer"),onClick:i(e),children:(0,g.jsx)("span",{className:"page-link",children:e})},"li".concat(s))]}):parseInt(l.pages.length)-3==s?l.currentPage>3&&l.currentPage<l.pages.length-2?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("li",{className:"page-item disabled",children:(0,g.jsx)("span",{className:"page-link",children:"..."})},"li".concat(s)),(0,g.jsx)("li",{className:"page-item active",onClick:i(e),children:(0,g.jsx)("span",{className:"page-link",children:l.currentPage})},"li".concat(s)),(0,g.jsx)("li",{className:"page-item disabled",children:(0,g.jsx)("span",{className:"page-link",children:"..."})},"li".concat(s))]}):(0,g.jsxs)("li",{className:"page-item disabled",children:[" ",(0,g.jsx)("span",{className:"page-link",children:"..."})," "]},"li".concat(s)):parseInt(l.pages.length)-1==s?(0,g.jsx)("li",{className:"page-item ".concat(l.currentPage==e?" active":" cursor-pointer"),onClick:i(e),children:(0,g.jsx)("span",{className:"page-link",children:e})},"li".concat(s)):null)):null,(0,g.jsx)("li",{className:"page-item",children:(0,g.jsx)("span",{className:"page-link ".concat(l.currentPage==l.totalPages?" disabled":" cursor-pointer"),onClick:l.currentPage==l.totalPages?null:t,children:(0,g.jsx)(u.gc,{type:"solid",icon:"angle-right"})})})]}):null};var I=t(44268),P=t(51960);const F=e=>{let{show:s,onHide:t}=e;return(0,g.jsx)(I.A,{show:s,centered:!0,onHide:t,children:(0,g.jsxs)(I.A.Body,{className:"text-center p-7",children:[(0,g.jsx)(P.A,{className:"my-3",src:(0,u.pc)("media/images/error/ugc-request.png"),height:206,width:500,fluid:!0}),(0,g.jsx)("p",{className:"text-center my-5 fs-6 mx-auto fw-bold text-muted",style:{maxWidth:400},children:"To send UGC Rights request in bulk, make sure you choose posts from a single user."}),(0,g.jsx)(h.A,{className:"btn-min-w",size:"lg",onClick:t,children:"OK"})]})})};var M=t(66345);const U=e=>{let{show:s,onHide:t,fromSnapup:a}=e;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(I.A,{className:"permission_error_popup",show:s,onHide:t,children:[(0,g.jsxs)(I.A.Header,{children:[(0,g.jsx)(I.A.Title,{children:"Permission Error"}),(0,g.jsx)("button",{type:"button",className:"close","aria-hidden":"true",onClick:t,children:(0,g.jsx)("i",{className:"ki ki-close-xmark"})})]}),(0,g.jsxs)(I.A.Body,{className:"text-center",children:[(0,g.jsx)("img",{src:"".concat(M.krE,"media/error/ugc-grey.svg"),height:"",width:"",alt:"ugc icon"}),(0,g.jsxs)("div",{className:"permissionMsg mt-4",children:[(0,g.jsx)("span",{className:"ErrorMsg",children:a?"You cannot send request on SnapUp post!!":"You cannot send request on approved/pending post!!"}),(0,g.jsx)("p",{className:"msgSec"})]})]}),(0,g.jsx)(I.A.Footer,{children:(0,g.jsx)("div",{className:"buttonUpgrade",children:(0,g.jsx)("a",{href:"javascript:;",className:"commanBtn btn btn-primary",onClick:"javascript:$('#PermissionError').modal('hide');$('#morePopupId').hide();showpricing(2,'Commerce','commerce');",style:{display:"none"},children:"Upgrade Now"})})})]})})},R=e=>{const[s,t]=(0,a.useState)(!1),[n,o]=(0,a.useState)([{label:"50",value:50}]),[c,r]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[j,f]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),{moderation:y,activeTab:w}=e,k=(0,i.wA)();(0,a.useEffect)((()=>()=>{N()}),[y]);const N=()=>{const{check_uncheck_all:e}=y;var s=!1;e.data.map((e=>{1!=e.ugcstatus||s||(s=!0),29==e.networkId&&(s=!0),1==e.type&&(s=!0),3==e.networkId&&62==e.feedFilter||7==e.networkId||18==e.networkId&&(24==e.feedFilter||25==e.feedFilter||26==e.feedFilter)||(s=!0)})),f(!s)};return(0,g.jsxs)(l.A,{fluid:!0,children:[(0,g.jsxs)("div",{className:"f-between py-1 mod_header",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)(p.A.Check,{type:"checkbox",id:"select_all_",className:"btn btn-outline-secondary btn-sm px-2 me-2 text-nowrap my-1",label:"".concat(y.check_uncheck_all.data.length?y.check_uncheck_all.data.length+" Selected":"Select All"),onChange:e.clickToCheckAll(y.check_uncheck_all.status),checked:y.check_uncheck_all.status}),(0,g.jsx)(S.A,{placement:"top",overlay:(0,g.jsx)(_.A,{children:"Refresh"}),children:(0,g.jsx)(h.A,{variant:"icon",size:"sm",className:" btn-active-primary",onClick:()=>{e.clickToRefresh()},children:(0,g.jsx)(u.gc,{icon:"arrows-rotate"})})}),y.check_uncheck_all&&y.check_uncheck_all.data.length>0?(0,g.jsxs)("div",{className:"d-flex align-items-center mx-lg-2 mod_actions flex-wrap",children:[0==w||2==w?(0,g.jsxs)(h.A,{variant:"success",size:"sm",className:"me-2 my-1",onClick:e.onClickToFilterUpdateStatus(1),children:[(0,g.jsx)(u.gc,{icon:"check",iconClass:"me-1"}),"Public"]}):null,0==w||1==w?(0,g.jsxs)(h.A,{variant:"danger",size:"sm",className:"me-2 my-1",onClick:e.onClickToFilterUpdateStatus(2),children:[(0,g.jsx)(u.gc,{icon:"xmark",iconClass:"me-1"}),"Private"]}):null,(0,g.jsxs)(h.A,{variant:"warning",size:"sm",className:"me-2 my-1",onClick:e.onClickToFilterDeleteAll,children:[(0,g.jsx)(u.gc,{icon:"trash-can",iconClass:"me-1"}),"Delete"]}),j?(0,g.jsxs)(h.A,{variant:"dark",size:"sm",className:"me-2 my-1",onClick:()=>(()=>{const{check_uncheck_all:e}=y;let s=null;var t=!1;if(e.data.map((e=>{1!=e.ugcstatus||t||(r(!0),t=!0),29==e.networkId&&(r(!0),b(!0),t=!0),1==e.type&&(x(!0),t=!0),3==e.networkId&&62==e.feedFilter||7==e.networkId||18==e.networkId&&(24==e.feedFilter||25==e.feedFilter||26==e.feedFilter)||(r(!0),b(!0),t=!0),null==s?s=e.username:null==s||s==e.username||t||(x(!0),t=!0)})),!t){const s=e.data.map((e=>e.id));k((0,d.Qb)({is_carausel:0,postId:s,id:s}))}})(),children:[(0,g.jsx)(u.gc,{icon:"user-check",iconClass:"me-1"}),"Get Rights"]}):null]}):null]}),(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)(T.Ay,{className:"selectpicker selectpicker-sm d-none d-lg-flex",classNamePrefix:"selectpicker",options:[{label:"50",value:50},{label:"100",value:100},{label:"200",value:200}],value:n,onChange:s=>{return t=s,e.limitUpdate(parseInt(t.value)),void o(t);var t}}),(0,g.jsx)(D,{...e})]})]}),(0,g.jsx)(U,{show:c,fromSnapup:v,onHide:()=>r(!1)}),(0,g.jsx)(F,{show:m,onHide:()=>x(!1)})]})},O=e=>{const s=!!(e.moderation.details&&Object.keys(e.moderation.details).length>0);var{activeTab:t,totalpost:a,publicpost:i,privatepost:d,tabName:h,TabTotal:m}=0,p=[];return s&&(t=e.activeTab,a=e.moderation.details.totalpost,i=e.moderation.details.publicpost,d=e.moderation.details.privatepost,p=e.moderation.details.upcomingpost,h=0==t?"All Posts":1==t?"Public":2==t?"Private":"Upcoming",m=0==t?a:1==t?i:2==t?d:p),(0,g.jsxs)("div",{className:"position-fixed bg-white  border-bottom dualheader subheader",children:[(0,g.jsxs)(l.A,{className:"f-between flex-wrap border-bottom",fluid:!0,children:[(0,g.jsxs)("div",{className:"d-flex align-items-center flex-wrap h-48px",children:[(0,g.jsxs)(n.A,{variant:"underline",className:"d-none d-lg-flex",defaultActiveKey:"allPost",children:[(0,g.jsx)(n.A.Item,{children:(0,g.jsxs)(n.A.Link,{eventKey:"allPost",onClick:s?e.clickToTab(0):null,disabled:!s,children:["All Posts",(0,g.jsx)(o.A,{className:"ms-2 rounded-3",bg:0==t?"primary":"light-primary",children:a})]})}),(0,g.jsx)(n.A.Item,{children:(0,g.jsxs)(n.A.Link,{eventKey:"public",onClick:s?e.clickToTab(1):null,disabled:!s,children:["Public",(0,g.jsx)(o.A,{className:"ms-2 rounded-3",bg:1==t?"primary":"light-primary",children:i})]})}),(0,g.jsx)(n.A.Item,{children:(0,g.jsxs)(n.A.Link,{eventKey:"private",onClick:s?e.clickToTab(2):null,disabled:!s,children:["Private",(0,g.jsx)(o.A,{className:"ms-2 rounded-3",bg:2==t?"primary":"light-primary",children:d})]})}),p&&p>0?(0,g.jsx)(n.A.Item,{children:(0,g.jsxs)(n.A.Link,{eventKey:"upcomming",children:["Upcoming",(0,g.jsx)(o.A,{className:"ms-2 rounded-3",bg:3==t?"primary":"light-primary",children:p})]})}):null]}),(0,g.jsxs)(c.A,{className:"d-flex d-lg-none",children:[(0,g.jsxs)(c.A.Toggle,{variant:"secondary",size:"sm",id:"mod-tab",children:[h," ",(0,g.jsx)(o.A,{className:"ms-2 rounded-3",bg:"primary",children:m})]}),(0,g.jsxs)(c.A.Menu,{children:[(0,g.jsxs)(r.A.Item,{eventKey:"1",onClick:s?e.clickToTab(0):null,children:["All Posts ",(0,g.jsx)(o.A,{className:"ms-2 rounded-3",bg:"light-primary",children:a})," "]}),(0,g.jsxs)(r.A.Item,{eventKey:"2",onClick:s?e.clickToTab(1):null,children:["Public ",(0,g.jsx)(o.A,{className:"ms-2 rounded-3",bg:"light-primary",children:i})," "]}),(0,g.jsxs)(r.A.Item,{eventKey:"3",onClick:s?e.clickToTab(2):null,children:["Private ",(0,g.jsx)(o.A,{className:"ms-2 rounded-3",bg:"light-primary",children:d})," "]}),p&&p>0?(0,g.jsxs)(r.A.Item,{eventKey:"4",onClick:s?e.clickToTab(3):null,children:["Upcoming ",(0,g.jsx)(o.A,{className:"ms-2 rounded-3",bg:"light-primary",children:p})," "]}):null]})]})]}),(0,g.jsx)("div",{className:"d-flex align-items-center flex-wrap flex-grow-1 justify-content-end",children:(0,g.jsx)(C,{...e})})]}),(0,g.jsx)(R,{...e})]})};var B=t(52867),Y=t(54480),E=t(4695),L=t.n(E),z=t(88749),H=t(1391),q=t(25984),G=t(17327);const W=e=>{var s="",t=e.name,a="";switch(String(t).includes("@")&&(t=String(t).replace("@"," ")),[1,2,19].includes(e.networkId)&&String(t).includes("#")&&(t=String(t).replace("#"," ")),e.networkId){case 7:4!=e.filterId&&32!=e.filterId||(a="",s+=" - Keywords");break;case 19:a="",""!=e.value3&&(t="".concat(t," (").concat(e.value3,")"));break;case 1:7==e.filterId?a="@":4==e.filterId&&(s+=" - Likes");break;case 29:t="SnapUp",a="";break;case 18:33==e.filterId&&(a="");break;case 10:0==e.value3||1==e.value3?s+=" - Company":2==e.value3&&(s+=" - Job")}switch(a=Q(e.filterId),s+="".concat(a," ").concat(t&&String(t).length>0?t:e.value1),e.filterId){case 23:s+=" - Handle";break;case 24:case 62:s+=" - Mention";break;case 7:1==e.networkId&&(s+=" - Mention");break;case 25:s+=" - Tagged";break;case 34:s+=" - Story";break;case 8:s+=" - Page";break;case 66:s+=" - Videos";break;case 65:s+=" - Albums";break;case 63:s+=" - Sticker";break;case 74:s+=" - Reels";break;case 29:s+=" - My Places";break;case 55:s+=" - Page Reviews"}return s},Q=e=>{switch(e){case 1:case 4:case 7:case 23:case 24:case 25:case 34:case 62:return"@";case 2:case 26:return"#";case 3:case 11:return'<i class="fa fa-list-ul"></i>';case 5:return'<i class="fa fa-cog"></i>';case 6:case 32:case 33:return'<i class="fa fa-map-marker"></i>';case 8:case 9:case 14:case 16:case 22:default:return"";case 10:return'<i class="fa fa-users"></i>';case 12:return'<i class="fa fa-th-large"></i>';case 13:return'<i class="fa fa-link"></i>';case 27:case 55:case 56:return'<i class="fa fa-star" aria-hidden="true"></i>';case 28:return;case 53:return'<i class="fa fa-users"></i> ';case 54:return'<i class="fa fa-comments-o"></i> ';case 57:return'<i class="fa fa-music" aria-hidden="true"></i>';case 58:return'<i class="fa fa-video-camera" aria-hidden="true"></i>';case 59:return'<i class="fa fa-music" aria-hidden="true"></i> ';case 61:return'<i class="fa fa-user" aria-hidden="true"></i>'}};class K extends a.Component{constructor(){super(...arguments),this.state={searchData:[],searchPost:"",selected:[],loading:!1,textSearch:""},this.onSearchText=e=>{this.setState({loading:!0,textSearch:e}),(null===e||void 0===e?void 0:e.length)>0?(0,d.nX)(e).then((e=>{const{tags:s,status:t}=e.data;this.setState({searchData:t?s:[],loading:!1})})):this.setState({searchData:[],loading:!1,searchPost:"",textSearch:""})},this.onClickToSearch=(e,s)=>t=>{if(s)this.setState({searchData:[],searchPost:"",textSearch:""}),this.props.removeFilterPostTags(e);else{const{selected:s}=this.state;this.state.selected.push(e),this.setState({searchPost:e,selected:s,textSearch:"",searchData:[]},(()=>{this.props.updateFilterPostTags(this.state.searchPost)}))}}}componentWillReceiveProps(e){const{filterBody:s}=e;0==s.postTags.length&&this.state.searchData.length>0&&this.setState({searchData:[],searchPost:"",textSearch:""})}render(){const{searchData:e,loading:s,textSearch:t}=this.state,{postTags:a}=this.props;return(0,g.jsxs)("div",{className:"form-group tag_search mb-5 mt-3 position-relative",children:[(0,g.jsxs)(m.A,{id:"searchTagElements",className:"spinner-secondary spinner-right position-relarive w-100 mb-3",children:[(0,g.jsx)(p.A.Control,{placeholder:"Search",className:"spinner",value:t,onChange:e=>this.onSearchText(e.target.value),autocomplete:"off"}),(0,g.jsx)(m.A.Text,{children:(0,g.jsx)(u.gc,{icon:"magnifying-glass"})})]}),e&&(e.length>0||t.length>0)&&(0,g.jsx)(c.A.Menu,{show:!0,className:"w-100 dropdwon-height",style:{overflowY:"auto"},children:e.map(((e,s)=>{const t=a.includes(e)||!1;return(0,g.jsx)(c.A.Item,{onClick:this.onClickToSearch(e,t),children:e},s)}))}),(0,g.jsx)("div",{className:"mb-3 mb-xl-4",children:(0,g.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:a&&a.map(((e,s)=>parseInt(s)<9?(0,g.jsxs)(o.A,{className:"me-1 mb-1 px-3 py-2 f-center bg-secondary",children:[(0,g.jsx)("span",{className:"text-dark text-ellipsis d-block",children:e}),(0,g.jsx)(h.A,{variant:"link",size:"sm",className:"p-0 ms-1 text-dark",onClick:this.onClickToSearch(e,!0),children:(0,g.jsx)(u.gc,{icon:"xmark",iconClass:"me-0"})})]},s):null))})})]})}}const $=K;var V=t(49639),J=t(8966);const Z=e=>{let{value:s,onClickPostType:t,moderation:a,label:i,id:l}=e;const n=Object.keys(a.filterBody).length>0&&a.filterBody.postType.length>0?a.filterBody.postType.filter((e=>e==s)):[],o=!!(n&&n.length>0);return(0,g.jsx)(p.A.Check,{type:"checkbox",className:"mb-4",value:"1",label:i,id:l,onChange:t(s,o),checked:o})},X=e=>{let{value:s,onClickOther:t,moderation:a,label:i,id:l}=e;const n=Object.keys(a.filterBody).length>0&&a.filterBody.other.length>0?a.filterBody.other.filter((e=>e.key==l)):[],o=!!(n&&n.length>0);return(0,g.jsx)(p.A.Check,{type:"checkbox",className:"mb-4",value:"1",label:i,id:l,onChange:t(l,s,o),checked:o})};class ee extends a.Component{constructor(){super(...arguments),this.state={socialFeeds:[],postType:[],other:[],feeds:[],isActiveAside:!1},this.toogleFilter=()=>{this.setState({isActiveAside:!this.state.isActiveAside}),setTimeout((()=>{var e=document.querySelector(".offcanvas-backdrop");e&&e.classList.add("filter-backdrop")}),100)},this.onSelectFeeds=(e,s,t)=>a=>{t?this.props.removeFilterSocialFeeds({key:e,value:s}):this.props.updateFilterSocialFeeds({key:e,value:s})},this.onClickPostType=(e,s)=>t=>{s?this.props.removeFilterPostType(e):this.props.updateFilterPostType(e)},this.onClickOther=(e,s,t)=>a=>{t?this.props.removeFilterOthers({key:e,value:s}):this.props.updateFilterOthers({key:e,value:s})}}componentDidMount(){var e=document.getElementById("filter_aside");if(e&&e.addEventListener("click",this.toogleFilter),window.feedId&&""!=window.feedId){var s;const{moderation:e}=this.props,t=null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.feeds;t&&t.map(((e,s)=>{window.feedId==e.id&&this.props.updateFilterSocialFeeds({key:e.name,value:window.feedId})}))}}render(){var e,s;const{moderation:t}=this.props,{isActiveAside:a}=this.state,i=!1,l=null===t||void 0===t||null===(e=t.filterBody)||void 0===e?void 0:e.postTags,n=null===t||void 0===t||null===(s=t.details)||void 0===s?void 0:s.feeds;return(0,g.jsx)(V.A,{show:a,placement:"end",onHide:this.toogleFilter,className:"filter_aside",children:(0,g.jsxs)(V.A.Body,{children:[(0,g.jsxs)("div",{className:"f-between px-4 py-3 border-bottom",children:[(0,g.jsx)("span",{className:"fs-6 fw-medium",children:"Add Filter"}),(0,g.jsx)(h.A,{variant:"icon",size:"sm",className:"btn-active-primary",onClick:this.toogleFilter,children:(0,g.jsx)(u.gc,{icon:"xmark"})})]}),(0,g.jsx)(J.A,{className:"border-bottom",flush:!0,children:(0,g.jsxs)(J.A.Item,{defaultactivekey:"0",children:[(0,g.jsx)(J.A.Header,{children:(0,g.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:"Post Tags"})}),(0,g.jsxs)(J.A.Body,{className:"px-5 py-1",children:[i,(0,g.jsx)("div",{id:"tag_post_btn",className:"collapse show","data-parent":"#tagspost",children:(0,g.jsx)($,{postTags:l,...this.props})})]})]})}),(0,g.jsx)(J.A,{className:"border-bottom",flush:!0,children:(0,g.jsxs)(J.A.Item,{defaultactivekey:"0",children:[(0,g.jsx)(J.A.Header,{children:(0,g.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:"Social Feeds"})}),(0,g.jsx)(J.A.Body,{className:"px-5 py-1",children:(0,g.jsx)("div",{id:"social_feed_btn",className:"collapse show","data-parent":"#post_type_drop",children:(0,g.jsx)("div",{className:"checkbox-list",children:n&&n.map(((e,s)=>{const a=Object.keys(t.filterBody).length>0&&t.filterBody.socialFeed.length>0?t.filterBody.socialFeed.filter((s=>s.value==e.id)):[],i=!!(a&&a.length>0);return(0,g.jsxs)(p.A.Label,{className:"d-flex align-items-start mb-4",htmlFor:"moderationfeed".concat(e.id),children:[(0,g.jsx)(p.A.Check,{type:"checkbox",id:"moderationfeed".concat(e.id),value:e.id,"data-filter":e.filterId,onChange:this.onSelectFeeds(e.name,e.id,i),checked:i,style:{marginTop:2}}),(0,g.jsx)(P.A,{className:"mx-2",src:(0,u.pc)("media/icons/social-icons/".concat((0,B.EC)(e.networkId),".svg")),height:20,width:20,fluid:!0}),(0,q.Ay)(W(e))]},s)}))})})})]})}),(0,g.jsx)(J.A,{className:"border-bottom",flush:!0,children:(0,g.jsxs)(J.A.Item,{defaultactivekey:"0",children:[(0,g.jsx)(J.A.Header,{children:(0,g.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:"Post Type"})}),(0,g.jsxs)(J.A.Body,{className:"px-5 py-1",children:[(0,g.jsx)(Z,{value:"1",onClickPostType:this.onClickPostType,...this.props,label:"Text Only",id:"text_only"}),(0,g.jsx)(Z,{value:"2,4",onClickPostType:this.onClickPostType,moderation:t,label:"With Image",id:"image_only"}),(0,g.jsx)(Z,{value:"3,5",onClickPostType:this.onClickPostType,moderation:t,label:"With Video",id:"video_only"})]})]})}),(0,g.jsx)(J.A,{className:"border-bottom",flush:!0,children:(0,g.jsxs)(J.A.Item,{defaultactivekey:"0",children:[(0,g.jsx)(J.A.Header,{children:(0,g.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:"Other"})}),(0,g.jsxs)(J.A.Body,{className:"px-5 py-1",children:[(0,g.jsx)(X,{value:"1",onClickOther:this.onClickOther,moderation:t,label:"Pinned to top",id:"pinFilter"}),(0,g.jsx)(X,{value:"1",onClickOther:this.onClickOther,moderation:t,label:"Recent",id:"recentFilter"}),(0,g.jsx)(X,{value:"1",onClickOther:this.onClickOther,moderation:t,label:"Retweets",id:"retweetsFilter"})]})]})}),(0,g.jsx)("div",{className:"d-flex flex-column mx-5 py-4",children:(0,g.jsx)(h.A,{variant:"link",onClick:this.props.removeAllFilterBody,className:"",children:"Reset Results"})})]})})}}const se=(0,i.Ng)((e=>({moderation:e.moderation})),(e=>({updateFilterPostTags:s=>e((0,d.Ln)(s)),updateFilterSocialFeeds:s=>e((0,d.g0)(s)),updateFilterPostType:s=>e((0,d.qO)(s)),updateFilterOthers:s=>e((0,d.x8)(s)),removeFilterSocialFeeds:s=>e((0,d.dA)(s)),removeFilterPostType:s=>e((0,d.J0)(s)),removeFilterOthers:s=>e((0,d.iq)(s)),removeFilterPostTags:s=>e((0,d.Sm)(s)),removeAllFilterBody:()=>e((0,d.ud)())})))(ee);class te extends a.Component{constructor(){super(...arguments),this.onSelectFeeds=e=>s=>{this.props.removeFilterSocialFeeds(e)},this.onClickPostType=e=>s=>{this.props.removeFilterPostType(e)},this.onClickOther=e=>s=>{this.props.removeFilterOthers(e)},this.onClickRemovePostTags=e=>s=>{this.props.removeFilterPostTags(e)},this.onClickToDateRangeRemove=e=>{this.props.removeDateRanges()}}render(){const{filters:e,onClickReset:s,filterBody:t}=this.props;return t.socialFeed.length>0||t.postType.length>0||t.postTags.length>0||t.other.length>0||Object.keys(t.dateRanges).length>0?(0,g.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,g.jsx)("span",{className:"text-muted fw-medium me-2 my-1 text-nowrap",children:"Filter By : "}),(0,g.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object.keys(t.dateRanges).length>0?(0,g.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["".concat(t.dateRanges.startDate," - ").concat(t.dateRanges.endDate),(0,g.jsx)(h.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickToDateRangeRemove,children:(0,g.jsx)(u.gc,{type:"solid",icon:"xmark"})})]}):null,t.postTags&&t.postTags.map((e=>(0,g.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:[e,(0,g.jsx)(h.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickRemovePostTags(e),children:(0,g.jsx)(u.gc,{type:"solid",icon:"xmark"})})]}))),t.socialFeed&&t.socialFeed.map((e=>(0,g.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["onsiteupload"==e.key?"SnapUp":e.key,(0,g.jsx)(h.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onSelectFeeds(e),children:(0,g.jsx)(u.gc,{type:"solid",icon:"xmark"})})]}))),t.postType&&t.postType.map((e=>"1"==e?(0,g.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["Text Only",(0,g.jsx)(h.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickPostType(e),children:(0,g.jsx)(u.gc,{type:"solid",icon:"xmark"})})]}):"2,4"==e?(0,g.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["With Image",(0,g.jsx)(h.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickPostType(e),children:(0,g.jsx)(u.gc,{type:"solid",icon:"xmark"})})]}):"3,5"==e?(0,g.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["With Video",(0,g.jsx)(h.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickPostType(e),children:(0,g.jsx)(u.gc,{type:"solid",icon:"xmark"})})]}):void 0)),t.other&&t.other.map((e=>"highlightFilter"==e.key?(0,g.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["Highlight Post",(0,g.jsx)(h.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickOther(e),children:(0,g.jsx)(u.gc,{type:"solid",icon:"xmark"})})]}):"pinFilter"==e.key?(0,g.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["Pin Post",(0,g.jsx)(h.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickOther(e),children:(0,g.jsx)(u.gc,{type:"solid",icon:"xmark"})})]}):"recentFilter"==e.key?(0,g.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["Recent Post",(0,g.jsx)(h.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickOther(e),children:(0,g.jsx)(u.gc,{type:"solid",icon:"xmark"})})]}):"retweetsFilter"==e.key?(0,g.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["Retweets Post",(0,g.jsx)(h.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickOther(e),children:(0,g.jsx)(u.gc,{type:"solid",icon:"xmark"})})]}):void 0)),(0,g.jsx)(h.A,{variant:"dark",className:"rounded-pill py-1 mb-2",onClick:this.props.removeAllFilterBody,children:"Reset"})]})]}):null}}const ae=(0,i.Ng)((e=>({moderation:e.moderation})),(e=>({removeFilterSocialFeeds:s=>e((0,d.dA)(s)),removeFilterPostType:s=>e((0,d.J0)(s)),removeFilterOthers:s=>e((0,d.iq)(s)),removeFilterPostTags:s=>e((0,d.Sm)(s)),removeDateRanges:()=>e((0,d.DC)())})))(te);var ie=t(53556),le=(t(44444),t(92329)),ne=t(82094),oe=t(36431);class ce extends a.Component{constructor(e){super(e),this.handleThumbs=e=>{this.mainRef.current&&this.mainRef.current.go(e)},this.mainRef=a.createRef()}render(){const{ugcData:e}=this.props;return e.data&&e.data.length,(0,g.jsx)("div",{className:"mx-auto",style:{maxWidth:450},children:(0,g.jsxs)(ie.eB,{hasTrack:!1,options:{arrows:!1},children:[(0,g.jsx)(ie.v9,{children:e.data&&e.data.length?e.data.map(((e,s)=>(0,g.jsx)(ie.Nn,{children:(0,g.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,g.jsx)(ne.A,{mediaClass:"position-relative overflow-hidden w-100",size:100,height:64,width:64,url:e.postFile,alt:""}),(0,g.jsxs)("div",{className:"p-3",children:[(0,g.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,g.jsxs)("div",{className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none",children:[(0,g.jsx)(oe.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label text-light-alt fw-bolder text-uppercase fs-5",name:e.name,profileUrl:e.picture,networkId:e.networkId}),(0,g.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,g.jsx)("p",{className:"text-dark mb-0",children:(0,g.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:e.name})}),(0,g.jsxs)("p",{className:"mb-1 text-gray-500 text-break",children:["@",e.username]})]})]}),(0,g.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,g.jsx)(S.A,{placement:"top",overlay:(0,g.jsx)(_.A,{children:(0,B.Oi)(e.networkId)}),children:(0,g.jsx)("img",{className:"img-fluid h-100",src:(0,u.pc)("media/icons/social-icons/".concat((0,B.EC)(e.networkId),".svg")),height:20,width:20,alt:(0,B.Oi)(e.networkId),"icon-data":(0,B.Oi)(e.networkId)})})})]}),(0,g.jsx)(le.A,{classes:"mb-3",content:e.content,idIndex:e.id,line:4})]})]})},s))):null}),e.data&&e.data.length>1?(0,g.jsxs)("div",{className:"splide__arrows",children:[(0,g.jsx)(h.A,{variant:"secondary",className:"splide__arrow splide__arrow--prev start-0",children:(0,g.jsx)(u.gc,{type:"solid",icon:"arrow-right"})}),(0,g.jsx)(h.A,{variant:"secondary",className:"splide__arrow splide__arrow--next end-0",children:(0,g.jsx)(u.gc,{type:"solid",icon:"arrow-right"})})]}):null]})})}}var re=t(96011),de=t.n(re);class he extends a.Component{constructor(){super(...arguments),this.state={openSteps:!1,copied:!1,hash:"yes",accountDetails:{},postUrl:""},this.sendRequest=()=>{const{onRaiseRequest:e,setUserName:s}=this.props;e(this.state.hash)},this.copyText=()=>{const{ugcData:e,custom_msg:s,requestMode:t}=this.props,a=null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&e.data[0]?null===e||void 0===e?void 0:e.data[0].link:"";(e=>{var s=JSON.stringify({url:e}),t={method:"post",url:"".concat(M.PXB,"?api_token=").concat("YhhvoiyS1HLShf3CsiZAUsUZK2qTY1JGrJ045Z12sipRKGeEbM1FVHnQVd4f"),headers:{accept:"application/json","Content-Type":"application/json"},data:s};return de()(t)})(a).then((e=>{const{data:s}=e.data;this.setState({postUrl:null===s||void 0===s?void 0:s.tiny_url})})).catch((e=>{this.setState({postUrl:a})})),0==t?navigator.clipboard.writeText(s+" "+e.bitlyurl):navigator.clipboard.writeText("".concat(s,". Just reply with #").concat(this.state.hash,"  if you're up for it, and you can find all the nitty-gritty details in our bio. Thanks a bunch!"))},this.raiseReq=()=>{const{ugcData:e,custom_msg:s,requestMode:t}=this.props;""!=this.state.hash&&this.state.hash?(this.sendRequest(),0==t?navigator.clipboard.writeText(s+" Post : "+this.state.postUrl+" . Form Link : "+e.bitlyurl):navigator.clipboard.writeText("".concat(s," Just reply with #").concat(this.state.hash,"  if you're up for it, and you can find all the nitty-gritty details in our bio. Thanks a bunch!")),18!=e.data[0].networkId&&2!=e.data[0].networkId||0!=t?setTimeout((()=>window.open(e.data[0].link,"_blank")),400):setTimeout((()=>window.open("https://ig.me/m/".concat(e.data[0].username),"_blank")),400),setTimeout((()=>{window.location.replace("".concat(M.btP,"content/moderation/").concat(localStorage.getItem("wallId")))}),1e3)):(0,B.r$)("Hashtag for UGC Rights is required!")}}componentDidMount(){this.copyText()}render(){const{ugcData:e,custom_msg:s,setStep:t,requestMode:a,isRequesting:i}=this.props,{openSteps:l,copied:n,hash:o}=this.state;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap",children:[(0,g.jsx)("h3",{className:"mb-3",children:"Your UGC Request is Ready"}),(0,g.jsx)("div",{className:"form-group ugc_right_col",children:(0,g.jsx)(p.A.Group,{className:"mb-3",children:(0,g.jsx)(p.A.Control,{as:"textarea",id:"r_msg",maxLength:"255",cols:"30",rows:"6",value:0==a?s:"".concat(s," Just reply with #").concat(o,"  if you're up for it, and you can find all the nitty-gritty details in our bio. Thanks a bunch!")||0,disabled:!0})})}),1==a?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"form-group ugc_right_col",children:(0,g.jsxs)(p.A.Group,{className:"mb-3",children:[(0,g.jsxs)(p.A.Label,{htmlFor:"ugc_rights_hash_value",children:["Enter Hashtag for UGC Rights ",(0,g.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,g.jsx)(p.A.Control,{as:"textarea",id:"ugc_rights_hash_value",maxLength:"255",cols:"30",rows:"6",value:o,onChange:e=>this.setState({hash:e.target.value})})]})})}):null,0==a?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(m.A,{className:"mb-3",children:[(0,g.jsx)(m.A.Text,{className:"cursor-pointer",children:(0,g.jsx)(u.gc,{type:"solid",icon:"link"})}),(0,g.jsx)(p.A.Control,{className:"p-2",size:"lg",value:e.bitlyurl?String(e.bitlyurl):"---"})]}),(0,g.jsx)(h.A,{variant:"primary",className:"w-100 mb-4",onClick:()=>this.setState({copied:!0},(()=>this.copyText())),children:n?"Url Copied":"Copy Url"})]}):null,(0,g.jsx)("h5",{children:" Steps to proceed "}),(0,g.jsxs)("ul",{className:"list-unstyled list-points fs-7",children:[(0,g.jsx)("li",{className:"mb-1",children:'You have successfully generated a "UGC Request" for this post.'}),(0,g.jsx)("li",{className:"mb-1",children:"Quickly review your Request before sending it to the owner."}),(0,g.jsx)("li",{className:"mb-1",children:'Click on the "Raise Request" button located in the right bottom corner of the screen and then you will be redirected to the user\'s original post.'}),(0,g.jsx)("li",{className:"mb-1",children:'Paste the link of "UGC Request" in the comments section of the original post.'}),(0,g.jsx)("li",{className:"mb-1",children:"You will get UGC Rights asap post owner accept your request and allow you to use their post."})]})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-end bg-white p-4 border-top",children:[(0,g.jsx)(h.A,{variant:"secondary",className:"me-2",onClick:()=>t(2),children:"Back"}),(0,g.jsx)(h.A,{className:i?"spinner":"",onClick:()=>this.raiseReq(),children:"Raise Request"})]})]})}}var me=t(44259),pe=t(3302),ue=t.n(pe),ge=t(49332),xe=t(85608);class je extends a.Component{constructor(){super(...arguments),this.uppyUploader=new ge.A,this.uppyUploaderPdf=new ge.A(["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]),this.state={postauthor:null,posthandle:null,authorpicture:null,postcarousel:!1,content:null,data:null,modalOpen:!1,createTemplate:!1,brandFilename:this.props.editData.client_logo,selectedBrand:this.props.editData.client_logo_name,selectedBrandFile:this.props.editData.client_logo,tncFilename:this.props.editData.custom_terms,selectedtnc:this.props.editData.custom_terms_name,selectedtncFile:this.props.editData.custom_terms,selectedTemplate:null,acceptTnc:!1,logoError:!1,tncError:!1,templateName:this.props.editData.name,custom_msg:this.props.editData.custom_message,tncerrorMsg:!1,nameerrorMsg:!1,msgerrorMsg:!1},this.onClickToOpenBrand=()=>{this.setState({brandModalOpen:!0}),ue()(".uppy-Dashboard-close").click((()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})}))},this.onClickToCloseBrand=()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})},this.onClickToOpenTnc=()=>{this.setState({tncModalOpen:!0}),ue()(".uppy-Dashboard-close").click((()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})}))},this.onClickToCloseTnc=()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})},this.removeBrandLogo=()=>{this.setState({selectedBrand:"",selectedBrandFile:null,brandFilename:null})},this.removeTnc=()=>{this.setState({tncFilename:null,selectedtnc:"",selectedtncFile:null})},this.onSaveTemplate=()=>{const{createTemplate:e,selectedBrand:s,tncFilename:t,brandFilename:a,selectedtnc:i,selectedtncFile:l,selectedTemplate:n,templateName:o,selectedBrandFile:c,custom_msg:r}=this.state;if(r&&o&&t&&a){var d={owner:localStorage.getItem("ownerId"),name:o,custom_message:r,custom_terms:i,custom_terms_name:t,client_logo:s,client_logo_name:a};this.props.edit&&(d={...d,id:this.props.editData.id}),this.props.ADD_UGC_TEMPLATE(d,this.props.onAddNewTemplate)}else r||this.setState({msgerrorMsg:!0}),o||this.setState({nameerrorMsg:!0}),t||this.setState({tncerrorMsg:!0}),a||this.setState({logoError:!0})}}componentDidMount(){this.uppyUploader.uppy.on("transloadit:result",((e,s)=>{this.setState({selectedBrandFile:"".concat(xe.$r).concat(s.id,".").concat(s.ext),brandFilename:s.name,selectedBrand:"".concat(xe.$r).concat(s.id,".").concat(s.ext),logoError:!1},(()=>{setTimeout((()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})}),300)}))})),this.uppyUploaderPdf.uppy.on("transloadit:result",((e,s)=>{this.setState({selectedtncFile:"".concat(xe.$r).concat(s.id,".").concat(s.ext),tncFilename:s.name,selectedtnc:"".concat(xe.$r).concat(s.id,".").concat(s.ext),tncerrorMsg:!1},(()=>{setTimeout((()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})}),300)}))}))}render(){const{show:e,onHide:s,saveTemplate:t,edit:a}=this.props,{brandModalOpen:i,tncModalOpen:l,createTemplate:n,selectedBrand:o,tncFilename:c,logoError:r,selectedtncFile:d,selectedTemplate:x,acceptTnc:j,tncError:f,selectedBrandFile:v,templateName:b,custom_msg:y,brandFilename:w,tncerrorMsg:k,nameerrorMsg:N,msgerrorMsg:A}=this.state;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(I.A,{size:"lg",show:e,onHide:s,centered:!0,children:[(0,g.jsx)(I.A.Header,{closeButton:!0,children:(0,g.jsxs)(I.A.Title,{children:[a?"Edit":"Create New"," Template"]})}),(0,g.jsxs)(I.A.Body,{children:[(0,g.jsxs)(p.A.Group,{className:"mb-3",children:[(0,g.jsxs)(p.A.Label,{htmlFor:"t_name",children:["Template Name ",(0,g.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,g.jsx)(p.A.Control,{placeholder:"enter your template name",autoComplete:"off",id:"t_name",className:"".concat(N?"is-invalid":""),value:b,onChange:e=>this.setState({templateName:e.target.value,nameerrorMsg:!1}),maxLength:"255"}),(0,g.jsx)("span",{id:"t_nameerror",className:"invalid-feedback",children:N?"Name is required":""})]}),(0,g.jsxs)(p.A.Group,{className:"mb-3",children:[(0,g.jsxs)(p.A.Label,{htmlFor:"t_msg",children:["Custom Message ",(0,g.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,g.jsx)(p.A.Control,{as:"textarea",className:"".concat(A?"is-invalid":""),id:"t_msg",maxLength:"255",cols:"30",rows:"6",value:y,onChange:e=>this.setState({custom_msg:e.target.value,msgerrorMsg:!1})}),(0,g.jsx)("span",{id:"t_msgerror",className:"invalid-feedback",children:A?"Custom message is required":""})]}),(0,g.jsxs)(p.A.Group,{className:"mb-3",children:[(0,g.jsxs)(p.A.Label,{htmlFor:"t_logo",children:["Brand Logo ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),v?(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)("div",{className:"me-3 me-xxl-4",children:(0,g.jsx)("div",{className:"symbol h-90px w-90px position-relative rounded-2 bg-light overflow-hidden",children:(0,g.jsx)(P.A,{src:null!==v&&void 0!==v&&v.includes("https://cloud.tagshop.ai/")?v:"".concat(M.QcA).concat(M.CcE,"/").concat(v),alt:"",height:90,width:90,className:"object-center-cover",load:"lazy",fluid:!0})})}),(0,g.jsx)("div",{className:"d-flex align-items-center flex-wrap",children:(0,g.jsx)("div",{className:"d-flex flex-column align-items-center flex-nowrap mb-0",children:(0,g.jsx)(S.A,{placement:"top",overlay:(0,g.jsx)(_.A,{children:"Remove"}),children:(0,g.jsx)(h.A,{variant:"icon",className:"btn-active-danger",onClick:this.removeBrandLogo,children:(0,g.jsx)(u.gc,{type:"solid",icon:"trash-can"})})})})})]}):(0,g.jsx)("div",{className:"p-6 border border-dashed rounded-2 cursor-pointer ".concat(r?"is-invalid border-danger":""),onClick:()=>this.onClickToOpenBrand(),style:{maxWidth:300},children:(0,g.jsx)("p",{className:"mb-0 text-center text-muted fw-medium",children:"Upload Logo"})}),(0,g.jsx)("span",{id:"t_logoerror",className:"invalid-feedback",children:"Brand Logo is required"})]}),(0,g.jsxs)(p.A.Group,{className:"mb-3",children:[(0,g.jsxs)(p.A.Label,{htmlFor:"t_msg",children:["Terms and Conditions",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsxs)(m.A,{className:"".concat(k?"is-invalid":""),children:[(0,g.jsx)("div",{className:"form-control form-control-lg",children:d?(0,g.jsxs)("div",{className:"overflow-hidden d-flex align-items-center",children:[(0,g.jsx)("span",{className:"text-ellipsis fs-8 bg-light p-1 rounded-1",children:c}),(0,g.jsx)("span",{className:"cursor-pointer p-1 mx-1 rounded-1 f-center text-center text-danger",onClick:this.removeTnc,children:(0,g.jsx)(u.gc,{type:"solid",icon:"xmark"})})]}):""}),(0,g.jsx)(m.A.Text,{className:"cursor-pointer",onClick:()=>this.onClickToOpenTnc(),children:"Attach File"})]}),(0,g.jsx)("span",{id:"tcError",className:"invalid-feedback",children:k?"Terms & Conditions is required":""})]})]}),(0,g.jsxs)(I.A.Footer,{children:[(0,g.jsx)(h.A,{variant:"secondary",className:"ms-3 btn-min-w",onClick:s,children:"Cancel"}),(0,g.jsx)(h.A,{className:"ms-3 btn-min-w",onClick:this.onSaveTemplate,children:"Save Template"})]}),(0,g.jsx)(me.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploader.uppy,open:i,onRequestCloseModal:this.onClickToCloseBrand,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Instagram","GoogleDrive","Url","Webcam"]}),(0,g.jsx)(me.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploaderPdf.uppy,open:l,onRequestCloseModal:this.onClickToCloseTnc,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Url","Webcam"]})]})})}}const fe=(0,i.Ng)((e=>({})),(e=>({ADD_UGC_TEMPLATE:(s,t)=>e((0,d.Zu)(s,t))})))(je);class ve extends a.Component{constructor(){super(...arguments),this.state={postauthor:null,posthandle:null,authorpicture:null,postcarousel:!1,content:null,data:null,modalOpen:!1,createTemplate:!1,brandFilename:null,selectedBrand:"",selectedBrandFile:null,tncFilename:null,selectedtnc:"",selectedtncFile:null,selectedTemplate:this.props.selectedTemplate,tncError:this.props.tncError,custom_message:this.props.custom_msg,isEdit:!1,editData:{}},this.uppyUploader=new ge.A,this.uppyUploaderPdf=new ge.A(["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]),this.onClickToOpenBrand=()=>{this.setState({brandModalOpen:!0}),ue()(".uppy-Dashboard-close").click((()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})}))},this.onClickToCloseBrand=()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})},this.onClickToOpenTnc=()=>{this.setState({tncModalOpen:!0}),ue()(".uppy-Dashboard-close").click((()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})}))},this.onClickToCloseTnc=()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})},this.onCreateTemplate=()=>{this.setState({createTemplate:!0})},this.onAddNewTemplate=e=>{this.getSelectedTemplate(e)&&this.onTemplateChange(e),this.setState({createTemplate:!1,isEdit:!1,editData:{}})},this.onHideTemplate=()=>{this.setState({createTemplate:!1,isEdit:!1,editData:{}})},this.getSelectedTemplate=e=>{const{ugcData:s}=this.props,{selectedTemplate:t}=this.state,a=e||t;if(s&&s.template&&s.template.length){if(!a)return s.template[0];return s.template.filter((e=>e.id==a))[0]}return null},this.onNextStep=()=>{const{acceptTnc:e,requestMode:s}=this.props;1==s||e&&0==s?this.props.setStep(2):this.setState({tncError:!0},(()=>this.props.setTncError(!0)))},this.onTemplateChange=e=>{const s=this.getSelectedTemplate(e);s&&this.setState({selectedTemplate:e},(()=>{this.setState({custom_message:s.custom_message,tncFilename:s.custom_terms_name,selectedtnc:s.custom_terms,selectedtncFile:s.custom_terms,brandFilename:s.client_logo_name,selectedBrand:s.client_logo,selectedBrandFile:s.client_logo}),this.props.setCustom_msg(null===s||void 0===s?void 0:s.custom_message),this.props.setSelectedTemplate(e)}))},this.onTemplateRemove=e=>{this.props.deleteTemplate({owner:e.owner,id:e.id},(()=>this.onTemplateChange(1)))},this.onTemplateEdit=e=>{this.onCreateTemplate(),this.setState({isEdit:!0,editData:e})},this.removeBrandLogo=()=>{this.setState({selectedBrand:"",selectedBrandFile:null,brandFilename:null})},this.removeTnc=()=>{this.setState({tncFilename:null,selectedtnc:null,selectedtncFile:null})}}componentDidMount(){const{ugcData:e,setBrand_link:s,setTermslink:t,setTermstype:a,brand_link:i}=this.props;this.uppyUploader.uppy.on("transloadit:result",((e,t)=>{s("".concat(xe.$r).concat(t.id,".").concat(t.ext)),this.setState({selectedBrandFile:"".concat(t.id,".").concat(t.ext),brandFilename:t.name,selectedBrand:"".concat(xe.$r).concat(t.id,".").concat(t.ext)},(()=>{setTimeout((()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})}),300)}))})),this.uppyUploaderPdf.uppy.on("transloadit:result",((e,s)=>{this.setState({selectedtncFile:"".concat(s.id,".").concat(s.ext),tncFilename:s.name,selectedtnc:"".concat(xe.$r).concat(s.id,".").concat(s.ext)},(()=>{setTimeout((()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})}),300)})),t("".concat(xe.$r).concat(s.id,".").concat(s.ext)),a(s.name)})),this.onTemplateChange(this.state.selectedTemplate),setTimeout((()=>{e&&e.template&&e.template.length&&!this.state.selectedTemplate&&this.setState({tncFilename:e.template[0].custom_terms_name,selectedtnc:e.template[0].custom_terms,selectedtncFile:e.template[0].custom_terms}),i&&this.setState({selectedBrandFile:i},(()=>console.log("brand_link",i,this.state.selectedBrandFile)))}),500)}render(){var e,s,t,a,i,l,n,o;const{brandModalOpen:r,tncModalOpen:d,createTemplate:x,selectedBrand:j,selectedBrandFile:f,tncFilename:v,selectedtncFile:b,selectedTemplate:y,tncError:w,custom_message:k,isEdit:N,editData:C,brandFilename:T}=this.state,{ugcData:D,setCustom_msg:I,setAcceptTnc:F,acceptTnc:U,hideUgc:R,setBrand_link:O,setTermslink:B,setTermstype:Y,requestMode:E}=this.props;return(0,g.jsxs)(g.Fragment,{children:[D&&D.template&&D.template.length?(0,g.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap",children:[0==E?(0,g.jsxs)("div",{className:"form-group ugc_right_col",children:[(0,g.jsxs)("div",{className:"d-flex f-between mb-3",children:[(0,g.jsx)(p.A.Label,{className:"mb-0",children:"Choose From Templates"}),(0,g.jsxs)(h.A,{variant:"link",size:"sm",onClick:this.onCreateTemplate,children:[(0,g.jsx)(u.gc,{icon:"plus"}),"Create Template"]})]}),(0,g.jsxs)(c.A,{className:"ugc-templates mb-3",onSelect:e=>this.onTemplateChange(e),children:[(0,g.jsx)(c.A.Toggle,{variant:"secondary",className:"w-100 d-flex f-between",children:null===(e=this.getSelectedTemplate())||void 0===e?void 0:e.name}),(0,g.jsx)(c.A.Menu,{className:"w-100 dropdown-height",children:D.template&&D.template.map((e=>(0,g.jsxs)(c.A.Item,{eventKey:e.id,className:"f-between",children:[(0,g.jsx)("span",{className:"text-ellipsis",children:e.name}),0!=e.owner?(0,g.jsxs)("span",{className:"dropdown-option",children:[(0,g.jsx)(h.A,{variant:"icon",size:"sm",className:"ms-2 p-1 border-0 h-24px w-24px",onClick:()=>this.onTemplateEdit(e),children:(0,g.jsx)(u.gc,{type:"solid",icon:"pen"})}),(0,g.jsx)(h.A,{variant:"icon",size:"sm",className:"ms-2 p-1 border-0 h-24px w-24px",onClick:()=>this.onTemplateRemove(e),children:(0,g.jsx)(u.gc,{type:"solid",icon:"trash-can"})})]}):null," "]},"drp_".concat(e.id))))})]})]}):(0,g.jsx)(g.Fragment,{}),(0,g.jsx)("div",{className:"form-group ugc_right_col",children:(0,g.jsxs)(p.A.Group,{className:"mb-3",children:[(0,g.jsxs)(p.A.Label,{htmlFor:"r_msg",children:["Message ",(0,g.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,g.jsx)(p.A.Control,{as:"textarea",id:"r_msg",maxLength:"255",cols:"30",rows:"6",value:k,onChange:e=>this.setState({custom_message:e.target.value},(()=>I(e.target.value))),children:null!==(s=this.getSelectedTemplate())&&void 0!==s&&s.custom_message?null===(t=this.getSelectedTemplate())||void 0===t?void 0:t.custom_message:"We loved your creative brilliance! Can we showcase your incredible work and give you the recognition you deserve? \u2728\ud83d\udcf8\ud83d\ude4c. \n                                Please approve our request so we can use your content in our marketing campaign."})]})}),0==E?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(p.A.Group,{className:"mb-3",children:[(0,g.jsx)(p.A.Label,{htmlFor:"t_logo",children:"Brand Logo"}),f?(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)("div",{className:"me-3 me-xxl-4",children:(0,g.jsx)("div",{className:"symbol h-90px w-90px position-relative rounded-2 bg-light overflow-hidden",children:(0,g.jsx)(P.A,{src:null!==(a=this.getSelectedTemplate())&&void 0!==a&&a.client_logo?null!==(i=this.getSelectedTemplate())&&void 0!==i&&null!==(l=i.client_logo)&&void 0!==l&&l.includes("https://cloud.tagshop.ai")?null===(n=this.getSelectedTemplate())||void 0===n?void 0:n.client_logo:"".concat(M.QcA).concat(M.CcE,"/").concat(null===(o=this.getSelectedTemplate())||void 0===o?void 0:o.client_logo):j,alt:"",height:90,width:90,className:"object-center-cover",load:"lazy",fluid:!0})})}),(0,g.jsx)("div",{className:"d-flex align-items-center flex-wrap",children:(0,g.jsx)("div",{className:"d-flex flex-column align-items-center flex-nowrap mb-0",children:(0,g.jsx)(S.A,{placement:"top",overlay:(0,g.jsx)(_.A,{children:"Remove"}),children:(0,g.jsx)(h.A,{variant:"icon",className:"btn-active-danger",onClick:this.removeBrandLogo,children:(0,g.jsx)(u.gc,{type:"solid",icon:"trash-can"})})})})})]}):(0,g.jsx)("div",{className:"p-6 border border-dashed rounded-2 cursor-pointer",onClick:()=>this.onClickToOpenBrand(),style:{maxWidth:300},children:(0,g.jsx)("p",{className:"mb-0 text-center text-muted fw-medium",children:"Upload Logo"})})]}),(0,g.jsxs)(p.A.Group,{className:"mb-3",children:[(0,g.jsx)(p.A.Label,{htmlFor:"t_msg",children:"Terms and Conditions"}),(0,g.jsxs)(m.A,{className:"mb-1",children:[(0,g.jsx)("div",{className:"form-control p-2",children:b?(0,g.jsxs)("div",{className:"overflow-hidden d-flex align-items-center",children:[(0,g.jsx)("span",{className:"text-ellipsis fs-8 bg-light p-1 rounded-1",children:v}),(0,g.jsx)("span",{className:"cursor-pointer p-1 mx-1 rounded-1 f-center text-center text-danger",onClick:this.removeTnc,children:(0,g.jsx)(u.gc,{icon:"xmark"})})]}):""}),(0,g.jsx)(m.A.Text,{className:"cursor-pointer",onClick:()=>this.onClickToOpenTnc(),children:"Attach File"})]}),(0,g.jsx)("div",{className:"d-flex justify-content-end",children:(0,g.jsxs)(A.N_,{to:(0,u.pc)("media/downloads/Terms&ConditionsforuseofUGC.docx"),target:"_blank",className:"btn btn-link p-0 text-nowrap btn-sm",download:!0,children:["Use our predefined content",(0,g.jsx)(u.gc,{type:"solid",icon:"download",iconClass:"ms-1"})]})})]}),(0,g.jsxs)(p.A.Group,{className:"mb-1 d-flex",children:[(0,g.jsx)(p.A.Check,{type:"checkbox",id:"ugc-tc",className:"me-2 mt-1",value:U,onChange:e=>F(e.target.checked),checked:!!U}),(0,g.jsxs)(p.A.Label,{htmlFor:"ugc-tc",children:["Accept our ",(0,g.jsx)("a",{href:"https://tagshop.ai/terms-of-service/",rel:"noreferrer",className:"fw-bold text-primary",target:"_blank",children:"Terms & Conditions"})," Click on Generate Request to proceed to next step."]})]}),w&&!U?(0,g.jsx)("span",{id:"term_error",className:"text-danger",children:"Please accept Terms and Conditions"}):null]}):(0,g.jsx)(g.Fragment,{})]}):null,(0,g.jsxs)("div",{className:"d-flex justify-content-end bg-white p-4 border-top",children:[(0,g.jsx)(h.A,{variant:"secondary",className:"me-2",onClick:()=>{this.props.setStep(4),this.setState({tncError:!1})},children:"Back"}),(0,g.jsx)(h.A,{onClick:()=>this.onNextStep(),children:"Next Step"})]}),(0,g.jsx)(me.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploader.uppy,open:r,onRequestCloseModal:this.onClickToCloseBrand,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Instagram","GoogleDrive","Url","Webcam"]}),(0,g.jsx)(me.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploaderPdf.uppy,open:d,onRequestCloseModal:this.onClickToCloseTnc,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Url","Webcam"]}),x?(0,g.jsx)(fe,{show:!0,edit:N,editData:C,onHide:this.onHideTemplate,onAddNewTemplate:this.onAddNewTemplate}):null]})}}const be=(0,i.Ng)((e=>({})),(e=>({deleteTemplate:(s,t)=>e((0,d.fQ)(s,t))})))(ve);var ye=t(80858),we=t(23317),ke=t(59074),Ne=t(40461),Ae=t(28429),Ce=t(9697),Te=t(41225);const Se=new BroadcastChannel("connect");class _e extends a.Component{constructor(){super(...arguments),this.state={socialAccount:0,authorName:null,authorAvatar:null,errorMsg:!1,otherAc:!1,accountDetails:{},accountList:[],selectedPersonalAccount:null},this.handleMessage=async e=>{try{const s=JSON.parse(e.data),{code:t}=s,a=localStorage.getItem("networkId"),i=localStorage.getItem("connectionType");(e.origin.includes("tagshop.ai")||e.origin.includes("localhost"))&&"moderation-ugc"==i&&t&&(1==a?await(0,Te.WC)(t,(e=>{e&&Object.keys(e).length>0&&this.filterAccountData(a,e)})):await(0,Ce.CJ)(a,t,(()=>this.props.dispatch((0,ke.xv)(null,(()=>this.filterAccountData(a,null)))))))}catch(s){}},this.filterAccountData=(e,s)=>{var t;const{socialAccountsData:a,setUserName:i}=this.props;let l=[];null===a||void 0===a||null===(t=a.accountInformations)||void 0===t||t.forEach((s=>{s.Network.id==e&&s.ConnectedAccounts&&(s.ConnectedAccounts.value2=s.ConnectedAccounts.accountName,l.push(s))})),1==e&&s&&l.unshift({ConnectedAccounts:{id:s.id_str,value2:s.name,profilePicture:s.picture},Network:{color:"#0F1419",description:"Twitter",icon:"fa-twitter",id:1,name:"Twitter",status:1}}),this.setState({accountList:l,selectedPersonalAccount:l[0]||""},(()=>{var e;return i((null===(e=l[0])||void 0===e?void 0:e.ConnectedAccounts.value2)||"")}))},this.sendRequest=()=>{const{setStep:e,setUserName:s}=this.props;this.state.accountDetails?(s(this.state.accountDetails.username),e(3)):this.setState({errorMsg:!0})},this.nextStep=()=>{const{setStep:e}=this.props;this.state.selectedPersonalAccount?e(3):this.setState({errorMsg:!0})}}componentDidMount(){var e;this.filterAccountData(2,null),document.cookie="callBackUrl=React",window.addEventListener("message",this.handleMessage),Se.addEventListener("message",this.handleMessage),window.Application&&window.Application.reInit(),this.props.networkId==parseInt(null===(e=JSON.parse(localStorage.getItem("instagram_ugc")))||void 0===e?void 0:e.networkId)?this.setState({accountDetails:JSON.parse(localStorage.getItem("instagram_ugc"))}):this.setState({accountDetails:null})}componentWillUnmount(){localStorage.removeItem("networkId"),window.removeEventListener("message",this.handleMessage),Se.removeEventListener("message",this.handleMessage)}render(){var e,s,t,a;const{setStep:i,networkId:l,setUserName:n}=this.props,{errorMsg:o,accountList:r,selectedPersonalAccount:d}=this.state;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap",children:[(0,g.jsx)("div",{className:"ugc_steps ugc-logged-ac modal-body",children:(0,g.jsxs)(g.Fragment,{children:[d?(0,g.jsxs)(c.A,{style:{minWidth:220},id:"connectedAll",children:[(0,g.jsx)(c.A.Toggle,{variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between bg-white ".concat(o?"is-invalid border-danger":""),children:(0,g.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,g.jsx)(oe.A,{className:"symbol symbol-30 symbol-circle bg-light flex-shrink-0 me-2",imageSize:30,symbolClass:"symbol-label text-light-alt fw-bold text-uppercase fs-7",name:d?null===d||void 0===d||null===(e=d.ConnectedAccounts)||void 0===e?void 0:e.accountName:"",profileUrl:d?null===d||void 0===d||null===(s=d.ConnectedAccounts)||void 0===s?void 0:s.profilePicture:"",networkId:d?null===d||void 0===d||null===(t=d.ConnectedAccounts)||void 0===t?void 0:t.networkId:""}),(0,g.jsx)("div",{className:"overflow-hidden",style:{maxWidth:130},children:(0,g.jsx)("p",{className:"text-gray-800 fw-medium mb-0 text-ellipsis fs-7",children:d?null===d||void 0===d||null===(a=d.ConnectedAccounts)||void 0===a?void 0:a.accountName:""})})]})}),(0,g.jsxs)(c.A.Menu,{className:"w-100",children:[(0,g.jsx)("div",{className:"navi flex-column navi-hover py-2 px-5 connectedAllAccounts",children:"Select Account:"}),r.map((e=>{var s,t;return(0,g.jsx)(c.A.Item,{onClick:()=>{this.setState({selectedPersonalAccount:e},(()=>n(e.ConnectedAccounts.value2)))},children:(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)(oe.A,{className:"symbol symbol-30 symbol-circle bg-light flex-shrink-0 me-2",imageSize:30,symbolClass:"symbol-label text-light-alt fw-bold text-uppercase fs-7",name:e.ConnectedAccounts.value2,profileUrl:null===(s=e.ConnectedAccounts)||void 0===s?void 0:s.profilePicture,networkId:null===(t=e.ConnectedAccounts)||void 0===t?void 0:t.networkId}),(0,g.jsx)("div",{className:"overflow-hidden",style:{maxWidth:130},children:(0,g.jsx)("p",{className:"text-gray-800 fw-medium mb-0 text-ellipsis fs-7",children:e.ConnectedAccounts.value2})})]})},e.ConnectedAccounts.id)})),(0,g.jsx)(c.A.Item,{onClick:()=>{localStorage.setItem("connectionType","moderation-ugc"),(0,Ne.go)(l)},children:(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)(oe.A,{className:"symbol symbol-30 symbol-circle bg-light flex-shrink-0 me-2",imageSize:30,symbolClass:"symbol-label text-light-alt fw-bold text-uppercase fs-7",name:"",profileUrl:(0,u.pc)("media/images/error/no-profile.jpg"),networkId:""}),(0,g.jsx)("div",{className:"overflow-hidden",style:{maxWidth:130},children:(0,g.jsx)("p",{className:"text-gray-800 fw-medium mb-0 text-ellipsis fs-7",children:"Add Another Account"})})]})})]})]}):(0,g.jsx)(h.A,{variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between bg-white ".concat(o?"is-invalid border-danger":""),onClick:()=>{localStorage.setItem("connectionType","moderation-ugc"),(0,Ne.go)(l)},children:(0,g.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,g.jsx)(oe.A,{className:"symbol symbol-30 symbol-circle bg-light flex-shrink-0 me-2",imageSize:30,symbolClass:"symbol-label text-light-alt fw-bold text-uppercase fs-7",name:"",profileUrl:(0,u.pc)("media/images/error/no-profile.jpg"),networkId:l}),(0,g.jsxs)("div",{className:"overflow-hidden f-between w-100 pe-3",children:[(0,g.jsx)("p",{className:"text-gray-800 fw-medium mb-0 text-ellipsis fs-7",children:"Add Account"}),(0,g.jsx)(u.gc,{icon:"plus"})]})]})}),o?(0,g.jsx)("span",{id:"social_account_error",className:"invalid-feedback",children:"Please connect account"}):null]})}),(0,g.jsx)("span",{id:"reSearch_cookies",onClick:()=>this.getCookieData()})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-end bg-white p-4 border-top",children:[(0,g.jsx)(h.A,{variant:"secondary",className:"me-2",onClick:()=>i(1),children:"Back"}),(0,g.jsx)(h.A,{onClick:()=>this.nextStep(),children:"Next Step"})]})]})}}const De=(0,we.A)((e=>{const[s,t]=(0,ye.A)([]),a=(0,Ae.Zp)(),l=(0,i.wA)(),n=(0,i.d4)((e=>e.userAccountData.socialAccounts));return(0,g.jsx)(_e,{...e,cookies:s,navigation:a,dispatch:l,socialAccountsData:n})}));class Ie extends a.Component{constructor(){super(...arguments),this.state={},this.onNextStep=()=>{const{requestMode:e}=this.props;null!=e?this.props.setStep(1):(0,B.r$)("Please select the mode for Right Request")}}componentDidMount(){}render(){const{setRequestMode:e,requestMode:s}=this.props;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap rights_no_wizard",children:[(0,g.jsx)("h3",{className:"mb-1 h5",children:"Select the mode for Right Request"}),(0,g.jsx)("p",{className:"text-muted",children:"Tagshop offers two distinct modes to request rights. Comment Request and DM Request. "}),(0,g.jsxs)("div",{className:"mb-3 d-flex flex-column",children:[(0,g.jsxs)("div",{value:"viaComments",className:"cursor-pointer mb-4 d-flex border justify-content-between p-3 rounded-1 ".concat(1==s?"border-success":""),onClick:()=>e(1),children:[(0,g.jsxs)("div",{className:"d-flex me-3 fw-normal",children:[(0,g.jsx)(u.gc,{icon:"comment",iconClass:"fs-2 mt-1"}),(0,g.jsxs)("span",{className:"text-start ps-2",children:[(0,g.jsx)("p",{className:"h5 mb-0 fw-bold",children:"Comment Request"}),(0,g.jsx)("span",{className:"fs-9",children:"Request creators consent as a comment on their post."})]})]}),(0,g.jsx)(p.A.Check.Input,{type:"radio",name:"rights-via",className:"d-none"}),(0,g.jsx)("span",{className:"w-20px fs-6 ".concat(1==s?"text-success":"text-muted"),children:(0,g.jsx)(u.gc,{type:1==s?"solid":"",icon:"check-circle"})})]}),(0,g.jsxs)("div",{className:"cursor-pointer mb-4 d-flex border justify-content-between p-3 rounded-1 ".concat(0==s?"border-success":""),onClick:()=>e(0),children:[(0,g.jsxs)("div",{className:"d-flex me-3 fw-normal",children:[(0,g.jsx)(u.gc,{icon:"message",iconClass:"fs-2 mt-1"}),(0,g.jsxs)("span",{className:"text-start ps-2",children:[(0,g.jsx)("p",{className:"h5 mb-0 fw-bold",children:"DM Request"}),(0,g.jsx)("span",{className:"fs-9",children:"Send a Rights request directly into the DM of the creators!"})]})]}),(0,g.jsx)(p.A.Check.Input,{type:"radio",name:"rights-via",className:"d-none"}),(0,g.jsx)("span",{className:"w-20px fs-6 ".concat(0==s?"text-success":"text-muted"),children:(0,g.jsx)(u.gc,{type:0==s?"solid":"",icon:"check-circle"})})]})]})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-end bg-white p-4 border-top",children:[(0,g.jsx)(h.A,{variant:"secondary",className:"me-2",onClick:()=>this.props.hideUgc(),children:"Cancel"}),(0,g.jsx)(h.A,{onClick:()=>this.onNextStep(),children:"Next Step"})]})]})}}const Pe=(0,i.Ng)((e=>({})),(e=>({})))(Ie);var Fe=t(40143);const Me=e=>{const{hideUgc:s,ugcData:t}=e,[l,o]=(0,a.useState)("general"),[c,r]=(0,a.useState)(""),[m,p]=(0,a.useState)(1),[x,j]=(0,a.useState)(!1),[f,v]=(0,a.useState)(!1),[b,y]=(0,a.useState)(4),[w,k]=(0,a.useState)(""),[N,A]=(0,a.useState)(""),[C,T]=(0,a.useState)(""),[S,_]=(0,a.useState)(""),[D,P]=(0,a.useState)(""),[F,M]=(0,a.useState)(),[U,R]=(0,a.useState)(!1),O=(0,i.wA)();(0,a.useEffect)((()=>{O((0,ke.xv)())}),[]);const B=()=>{const{template:e,data:s,unique_code:a,bitlyurl:i}=t;let l=[];return s.length>0&&s.map(((e,s)=>{l.push(e.referenceId)})),l.join(",")},Y=e=>{const{template:s,data:a,unique_code:i,bitlyurl:l}=t;R(!0);const n=s.findIndex((e=>e.id==m));var o={custom_message:c,feedId:a[0].feedId,networkId:a[0].networkId,selectedImage:a[0].postFile,selectedVideo:"",selectedUsername:a[0].username,handle:N,postId:a.length>1?B():a[0].referenceId,brand_link:C||s[n].client_logo,termslink:S||s[n].custom_terms,termstype:D||s[n].custom_terms_name,bitlylink:l,unique_code:i,rightsVia:F,hashtag:e,networkPostId:a[0].postId};(0,d.b7)(o,(()=>R(!1)))};return(0,g.jsxs)(I.A,{size:"full",show:!0,className:"assets_modal p-0 bg-white",backdrop:!1,children:[(0,g.jsxs)(I.A.Header,{className:"justify-content-between py-0",children:[(0,g.jsxs)("span",{className:"text-muted fw-medium",children:[(0,g.jsx)(u.Ah,{icon:"rights",height:18,width:18,iconClass:"me-1"}),"UGC Request"]}),(0,g.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,g.jsx)(h.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:()=>s()})})]}),(0,g.jsxs)(I.A.Body,{className:"p-0 d-flex border-0 flex-lg-row flex-column",children:[(0,g.jsx)("div",{className:"rights_modal_inner flex-column flex-grow-1 p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-auto",children:t?(0,g.jsx)(ce,{ugcData:t}):null}),(0,g.jsxs)("div",{className:"rights_modal_sidebar position-relative",children:[4!=b?(0,g.jsx)("div",{className:"ugc-wizard-nav",children:(0,g.jsxs)(n.A,{variant:"nav",className:"bg-light justify-content-between row gx-0",children:[(0,g.jsx)(n.A.Item,{className:"col-4",children:(0,g.jsxs)(n.A.Link,{className:"py-3 py-xl-4 f-center ".concat([1,2,3].includes(b)?"active":""),onClick:()=>y(1),children:[(0,g.jsx)("span",{className:"d-flex flex-shrink-0 me-1 ".concat([1,2,3].includes(b)?"text-success":"text-muted"),children:(0,g.jsx)(u.gc,{type:[1,2,3].includes(b)?"solid":"regular",icon:"circle-check"})}),(0,g.jsx)("span",{className:"fw-bold text-nowrap",children:"General Request"})]})}),(0,g.jsx)(n.A.Item,{className:"col-4",children:(0,g.jsxs)(n.A.Link,{className:"py-3 py-xl-4 f-center ".concat(2==b||3==b?"active":"disabled"),onClick:()=>x?y(2):"",children:[(0,g.jsx)("span",{className:"d-flex flex-shrink-0 me-1 ".concat((x&&0==F||1==F)&&[2,3].includes(b)?"text-success":"text-muted"),children:(0,g.jsx)(u.gc,{type:(x&&0==F||1==F)&&[2,3].includes(b)?"solid":"regular",icon:"circle-check"})}),(0,g.jsx)("span",{className:"fw-bold text-nowrap",children:"Social Account"})]})}),(0,g.jsx)(n.A.Item,{className:"col-4",children:(0,g.jsxs)(n.A.Link,{className:"py-3 py-xl-4 f-center ".concat(3==b?"active":"disabled"),eventKey:"ugc-copyUrl",children:[(0,g.jsx)("span",{className:"d-flex flex-shrink-0 me-1 ".concat([3].includes(b)?"text-success":"text-muted"),children:(0,g.jsx)(u.gc,{type:[3].includes(b)?"solid":"regular",icon:"circle-check"})}),(0,g.jsx)("span",{className:"fw-bold text-nowrap",children:"Preview"})]})})]})}):(0,g.jsx)(g.Fragment,{}),t&&4==b?(0,g.jsx)(Fe.A,{children:(0,g.jsx)(Pe,{ugcData:t,requestMode:F,setStep:y,setRequestMode:M,hideUgc:s})}):null,t&&1==b?(0,g.jsx)(Fe.A,{children:(0,g.jsx)(be,{ugcData:t,requestMode:F,setStep:y,setAcceptTnc:j,acceptTnc:x,tncError:f,setTncError:v,selectedTemplate:m,setSelectedTemplate:p,setCustom_msg:r,custom_msg:c,setBrand_link:T,brand_link:C,setTermslink:_,setTermstype:P,termstype:D,hideUgc:s})}):null,(x&&0==F||1==F)&&2==b?(0,g.jsx)(Fe.A,{children:(0,g.jsx)(De,{setStep:y,setUserName:A,setIsAccount:k,networkId:18!=t.data[0].networkId?t.data[0].networkId:2})}):"",c&&t&&3==b?(0,g.jsx)(Fe.A,{children:(0,g.jsx)(he,{requestMode:F,onRaiseRequest:Y,setUserName:A,networkId:t.data[0].networkId,setUgcTabKey:o,setStep:y,ugcData:t,custom_msg:c,isRequesting:U})}):null]})]})]})};var Ue=t(3158),Re=t(34691);class Oe extends a.Component{constructor(){super(...arguments),this.onDownloadMedia=e=>{5!=e.type&&3!=e.type?(0,Re.saveAs)(e.postFile,"".concat(e.id)):(0,Re.saveAs)(e.mediaUrl,"".concat(e.id))}}render(){const{ugcRequestData:e,ugcData:s,onHide:t}=this.props;return e?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(I.A,{size:"full",show:!0,className:"assets_modal p-0 bg-white",backdrop:!1,children:[(0,g.jsxs)(I.A.Header,{className:"justify-content-between py-0",children:[(0,g.jsxs)("span",{className:"fw-medium",children:[(0,g.jsx)(u.Ah,{icon:"rights-approved-solid",height:18,width:18,iconClass:"me-1 text-success"}),"Access Image"]}),(0,g.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,g.jsx)(h.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:t})})]}),(0,g.jsxs)(I.A.Body,{className:"p-0 d-flex border-0 flex-lg-row flex-column",children:[(0,g.jsxs)("div",{className:"assets_modal_inner flex-column flex-grow-1 p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-auto",children:[(0,g.jsx)("h3",{className:"text-center mb-4",children:"Your UGC Request Approved"}),(0,g.jsx)("div",{className:"mx-auto",style:{maxWidth:450},children:(0,g.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,g.jsx)(ne.A,{mediaClass:"position-relative overflow-hidden w-100",size:100,height:64,width:64,url:e.postFile,alt:""}),(0,g.jsxs)("div",{className:"p-4",children:[(0,g.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,g.jsxs)("div",{className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none",children:[(0,g.jsx)(oe.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label text-light-alt fw-bolder text-uppercase fs-5",name:e.name,profileUrl:e.picture,networkId:e.networkId}),(0,g.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,g.jsx)("p",{className:"text-dark mb-0",children:(0,g.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:e.name})}),(0,g.jsxs)("p",{className:"mb-1 text-gray-500 text-break",children:["@",e.username]})]})]}),(0,g.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,g.jsx)(S.A,{placement:"top",overlay:(0,g.jsx)(_.A,{children:(0,B.Oi)(e.networkId)}),children:(0,g.jsx)("img",{className:"img-fluid h-100",src:(0,u.pc)("media/icons/social-icons/".concat((0,B.EC)(e.networkId),".svg")),height:20,width:20,alt:(0,B.Oi)(e.networkId),"icon-data":(0,B.Oi)(e.networkId)})})})]}),(0,g.jsx)(le.A,{classes:"mb-3",content:e.content,idIndex:e.id,line:4})]})]})})]}),(0,g.jsxs)("div",{className:"full_modal_sidebar position-relative",children:[(0,g.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap rights_no_wizard",children:[(0,g.jsxs)("div",{className:"ugc-information",children:[(0,g.jsx)("h2",{className:"mb-5 h3",children:"Information"}),(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-4",children:[(0,g.jsx)("span",{className:"text-muted mr-2",children:"User handle"}),(0,g.jsx)("span",{className:"text-dark m_grid_uername",children:"@".concat(e.username)})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-4",children:[(0,g.jsx)("span",{className:"text-muted mr-2",children:"User name"}),(0,g.jsx)("span",{className:"text-dark m_grid_name",children:e.name})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-3 ugc-approved-non-insta",style:18==e.networkId?{display:"none"}:{},children:[(0,g.jsx)("span",{className:"text-muted mr-2",children:"Device"}),(0,g.jsx)("span",{className:"text-dark ugc-deviceupdate",children:e.userAgent?(0,q.Ay)(e.userAgent):null})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-3 ugc-approved-non-insta",style:18==e.networkId?{display:"none"}:{},children:[(0,g.jsx)("span",{className:"text-muted mr-2",children:"IP Address"}),(0,g.jsxs)("span",{className:"text-dark ugc-userIP",children:[" ",e.userIP]})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-3 ugc-approved-non-insta",style:18==e.networkId?{display:"none"}:{},children:[(0,g.jsx)("span",{className:"text-muted mr-2",children:"Location"}),(0,g.jsx)("span",{className:"text-dark ugc-userLocation",children:e.userLocation})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-4",children:[(0,g.jsx)("span",{className:"text-muted mr-2",children:"Post Approval Date"}),(0,g.jsx)("span",{className:"text-dark ugc-actionTime",children:b()(e.actionTime).utcOffset(0).format("YYYY-MM-DD  hh:mm:ss a")})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center bg-light px-5 py-3 ugc-approved-non-insta",style:18==e.networkId?{display:"none"}:{},children:[(0,g.jsx)("span",{className:"text-muted mr-2",children:"TimeZone"}),(0,g.jsx)("span",{className:"text-dark ugc-timezone",children:e.timezone?(0,q.Ay)(e.timezone):null})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-4",children:[(0,g.jsx)("span",{className:"text-muted mr-2",children:"Terms & Condition"}),(0,g.jsx)("span",{className:"text-dark ugc-tncdownload",children:(0,g.jsxs)("a",{className:"btn btn-link",href:e.custom_terms?"".concat(M.QcA,"test/").concat(e.custom_terms):"".concat(M.QcA,"test/").concat(e.custom_term_type),target:"_blank",children:[(0,g.jsx)("span",{className:"ugc-terms overflow-hidden text-ellipsis text-nowrap",children:e.custom_term_type}),(0,g.jsx)(u.gc,{type:"solid",icon:"download",iconClass:"ms-1"})]})})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-top bg-light px-5 py-3 ugc-approved-non-insta",style:18==e.networkId?{display:"none"}:{},children:[(0,g.jsx)("span",{className:"text-muted mb-2",children:"Approval Certificate"}),(0,g.jsxs)("span",{className:"f-between w-100",children:["Rights Management",(0,g.jsxs)("a",{className:"btn btn-dark ms-1",onClick:()=>(0,Ue.Ny)(e.ugcid),children:["Download",(0,g.jsx)(u.gc,{type:"solid",icon:"download",iconClass:"ms-1"})]})]})]})]})]}),e.comment?(0,g.jsxs)("div",{className:"ugc-user-comment mt-7",children:[(0,g.jsx)("h2",{className:"mb-5",children:"User Comment"}),(0,g.jsx)("div",{className:"user-comment-box bg-light p-5",children:(0,g.jsx)("p",{children:e.comment})})]}):null]}),(0,g.jsxs)("div",{className:"d-flex justify-content-end bg-white p-4 border-top",children:[(0,g.jsx)(h.A,{variant:"secondary",className:"me-3 btn-min-w",onClick:t,children:"Close"}),(0,g.jsx)(h.A,{className:"btn-min-w",onClick:()=>this.onDownloadMedia(e),children:"Download"})]})]})]})]})}):null}}const Be=Oe;var Ye=t(39452);class Ee extends a.Component{constructor(e){super(e);var s=3.33*(30-e.ago);this.state={series:[s],options:{chart:{height:320,type:"radialBar"},plotOptions:{radialBar:{hollow:{margin:0,size:"65%"},dataLabels:{showOn:"always",name:{show:!0,fontWeight:"700",name:"TEST"},value:{color:["#545454"],fontSize:"30px",fontWeight:"700",offsetY:12,show:!1}},track:{background:["#f2f6f8"],strokeWidth:"100%"},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:"inter",fontWeight:600,color:"#545454",offsetY:-10},value:{show:!1,fontSize:"14px",fontFamily:"inter",fontWeight:800,color:"#545454",offsetY:16},total:{show:!0,label:e.ago+"Days",color:"#373d3f",fontSize:"16px",fontFamily:"inter",fontWeight:800}}}},colors:["#ffa800"],stroke:{lineCap:"round"}}}}componentDidUpdate(e){if(e.ago!==this.props.ago){var s=3.33*(30-this.props.ago);this.setState({series:[s],options:{chart:{height:320,type:"radialBar"},plotOptions:{radialBar:{hollow:{margin:0,size:"65%"},dataLabels:{showOn:"always",name:{show:!0,fontWeight:"700",name:"TEST"},value:{color:["#545454"],fontSize:"30px",fontWeight:"700",offsetY:12,show:!1}},track:{background:["#f2f6f8"],strokeWidth:"100%"},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:"inter",fontWeight:600,color:"#545454",offsetY:-10},value:{show:!1,fontSize:"14px",fontFamily:"inter",fontWeight:800,color:"#545454",offsetY:16},total:{show:!0,label:this.props.ago+"Days",color:"#373d3f",fontSize:"16px",fontFamily:"inter",fontWeight:800}}}},colors:["#ffa800"],stroke:{lineCap:"round"}}})}}render(){return(0,g.jsx)(Ye.A,{options:this.state.options,series:this.state.series,type:"radialBar",height:350})}}const Le=Ee;class ze extends a.Component{constructor(){super(...arguments),this.state={days:0,copied:!1},this.getNewdata=()=>{const{ugcData:e,ugcRequestData:s,onHide:t}=this.props;var a=30-b()().diff(b()(s.ugccreated,"YYYY-MM-DD"),"days");this.setState({days:a})},this.copyText=e=>{(0,B.x_)(e),this.setState({copied:!0}),setTimeout((()=>{this.setState({copied:!1})}),1e3)}}componentDidMount(){this.getNewdata()}componentDidUpdate(e){e.ugcRequestData.ugccreated!==this.props.ugcRequestData.ugccreated&&this.getNewdata()}render(){const{ugcData:e,ugcRequestData:s,onHide:t}=this.props,{days:a,copied:i}=this.state;return(0,g.jsxs)(I.A,{size:"full",show:!0,className:"assets_modal p-0 bg-white",backdrop:!1,children:[(0,g.jsxs)(I.A.Header,{className:"justify-content-between py-0",children:[(0,g.jsxs)("span",{className:"fw-medium",children:[(0,g.jsx)(u.Ah,{icon:"rights-pending-solid",height:18,width:18,iconClass:"me-1 text-warning"}),"Pending Request"]}),(0,g.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,g.jsx)(h.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:t})})]}),(0,g.jsxs)(I.A.Body,{className:"p-0 d-flex border-0 flex-lg-row flex-column",children:[(0,g.jsxs)("div",{className:"rights_modal_inner flex-column flex-grow-1 p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-auto",children:[(0,g.jsx)("h3",{className:"text-center mb-4",children:"Oops! Your UGC Request is pending now"}),e?(0,g.jsx)(ce,{ugcData:e}):null]}),(0,g.jsxs)("div",{className:"rights_modal_sidebar position-relative",children:[(0,g.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap rights_no_wizard",children:[(0,g.jsx)("div",{className:"mb-3",children:a?(0,g.jsx)(Le,{ago:a}):""}),(0,g.jsxs)(m.A,{className:"mb-3",children:[(0,g.jsx)(m.A.Text,{children:(0,g.jsx)(u.gc,{type:"solid",icon:"link"})}),(0,g.jsx)(A.N_,{id:"rights_link",className:"form-control form-control-lg",to:s.bitlyurl,target:"_blank",children:s.bitlyurl})]}),(0,g.jsx)(p.A.Group,{className:"mb-5",children:(0,g.jsx)(h.A,{size:"lg",onClick:()=>this.copyText("rights_link"),className:"w-100",children:i?"Url Copied":"Copy Url"})}),(0,g.jsx)("h5",{children:" Steps to proceed "}),(0,g.jsxs)("ul",{className:"list-unstyled list-points fs-7",children:[(0,g.jsx)("li",{className:"mb-1",children:'You have successfully generated a "UGC Request" for this post.'}),(0,g.jsx)("li",{className:"mb-1",children:"Quickly review your Request before sending it to the owner."}),(0,g.jsx)("li",{className:"mb-1",children:'Click on the "Raise Request" button located in the right bottom corner of the screen and then you will be redirected to the user\'s original post.'}),(0,g.jsx)("li",{className:"mb-1",children:'Paste the link of "UGC Request" in the comments section of the original post.'}),(0,g.jsx)("li",{className:"mb-1",children:"You will get UGC Rights asap post owner accept your request and allow you to use their post."})]})]}),(0,g.jsx)("div",{className:"d-flex justify-content-end bg-white p-4 border-top",children:(0,g.jsx)(h.A,{className:"btn-min-w",onClick:t,children:"Done"})})]})]})]})}}class He extends a.Component{render(){const{ugcRequestData:e,ugcData:s,onHide:t,openugcModel:a}=this.props;return(0,g.jsxs)(I.A,{size:"full",show:!0,className:"assets_modal p-0 bg-white",backdrop:!1,children:[(0,g.jsxs)(I.A.Header,{className:"justify-content-between py-0",children:[(0,g.jsxs)("span",{className:"fw-medium",children:[(0,g.jsx)(u.Ah,{icon:"rights-rejected-solid",height:18,width:18,iconClass:"me-1 text-danger"}),"Rejected Post"]}),(0,g.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,g.jsx)(h.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:t})})]}),(0,g.jsxs)(I.A.Body,{className:"p-0 d-flex border-0 flex-lg-row flex-column",children:[(0,g.jsxs)("div",{className:"assets_modal_inner flex-column flex-grow-1 p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-auto",children:[(0,g.jsx)("h3",{className:"text-center mb-4",children:"Rejected Post"}),(0,g.jsx)("div",{className:"mx-auto",style:{maxWidth:450},children:(0,g.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,g.jsx)(ne.A,{mediaClass:"position-relative overflow-hidden w-100",size:100,height:64,width:64,url:e.postFile,alt:""}),(0,g.jsxs)("div",{className:"p-4",children:[(0,g.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,g.jsxs)("div",{className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none",children:[(0,g.jsx)(oe.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label text-light-alt fw-bolder text-uppercase fs-5",name:e.name,profileUrl:null===e||void 0===e?void 0:e.postFile,networkId:e.networkId}),(0,g.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,g.jsx)("p",{className:"text-dark mb-0",children:(0,g.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:e.name})}),(0,g.jsxs)("p",{className:"mb-1 text-gray-500 text-break",children:["@",e.username]})]})]}),(0,g.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,g.jsx)(S.A,{placement:"top",overlay:(0,g.jsx)(_.A,{children:(0,B.Oi)(e.networkId)}),children:(0,g.jsx)("img",{className:"img-fluid h-100",src:(0,u.pc)("media/icons/social-icons/".concat((0,B.EC)(e.networkId),".svg")),height:20,width:20,alt:(0,B.Oi)(e.networkId),"icon-data":(0,B.Oi)(e.networkId)})})})]}),(0,g.jsx)(le.A,{classes:"mb-3",content:e.content,idIndex:e.id,line:4})]})]})})]}),(0,g.jsxs)("div",{className:"full_modal_sidebar position-relative",children:[(0,g.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap rights_no_wizard",children:[(0,g.jsx)("h2",{className:"mb-5 text-center",children:"Sorry! Your UGC Request has been rejected"}),(0,g.jsx)("div",{className:"mb-7",children:(0,g.jsxs)(h.A,{size:"lg",className:"w-100",onClick:a,children:[(0,g.jsx)(u.Ah,{icon:"rights",height:18,width:18}),"Get Rights"]})}),(0,g.jsxs)("ul",{className:"list-unstyled list-points fs-7",children:[(0,g.jsx)("li",{className:"mb-1",children:"Keep the request personalized"}),(0,g.jsx)("li",{className:"mb-1",children:"Be clear about your intentions with the post"}),(0,g.jsx)("li",{className:"mb-1",children:"Appreciate the post owner's efforts"}),(0,g.jsx)("li",{className:"mb-1",children:"Offer rewards to users"}),(0,g.jsx)("li",{className:"mb-1",children:"Add T&C with your request"})]})]}),(0,g.jsx)("div",{className:"d-flex justify-content-end bg-white p-4 border-top",children:(0,g.jsx)(h.A,{className:"btn-min-w",onClick:t,children:"Close"})})]})]})]})}}const qe=He,Ge=e=>{const{ugcData:s,statusPopup:t,ugcRequestData:a,onHide:i,openugcModel:l}=e;return(0,g.jsxs)(g.Fragment,{children:[1==t&&a&&a.username?(0,g.jsx)(ze,{ugcData:s,ugcRequestData:a,onHide:i}):null,3==t&&a&&a.username?(0,g.jsx)(qe,{ugcRequestData:a,ugcData:s,onHide:i,openugcModel:l}):null,2==t&&a&&a.username?(0,g.jsx)(Be,{ugcRequestData:a,onHide:i}):null]})};var We=t(5216);const Qe=()=>(0,g.jsx)("div",{className:"row gx-2",children:(0,B.OZ)(20).map(((e,s)=>(0,g.jsx)("div",{className:"assetsItem",children:(0,g.jsx)(We.A,{className:"border-0",children:(0,g.jsxs)(We.A.Body,{className:"p-0",children:[(0,g.jsxs)("div",{className:"f-between flex-wrap flex-sm-nowrap border-bottom p-2",children:[(0,g.jsxs)("span",{className:"d-flex",children:[(0,g.jsx)("span",{className:"sk_rect h-14px w-14px my-1 me-2"}),(0,g.jsx)("span",{className:"sk_rect h-14px w-14px my-1 me-2"}),(0,g.jsx)("span",{className:"sk_rect h-14px w-14px my-1 me-2"}),(0,g.jsx)("span",{className:"sk_rect h-14px w-14px my-1 me-2"})]}),(0,g.jsx)("span",{className:"sk_line h-10px w-20px"})]}),(0,g.jsx)("div",{className:"sk_img rounded-0 w-100 flex-shrink-0 overflow-hidden",style:{paddingBottom:"100%"}}),(0,g.jsxs)("div",{className:"d-flex align-items-center p-3",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center me-2 flex-grow-1 overflow-hidden",children:[(0,g.jsx)("div",{className:"sk_img symbol symbol-36 rounded-circle flex-shrink-0 me-2 overflow-hidden"}),(0,g.jsxs)("div",{className:"overflow-hidden w-100",style:{maxWidth:"130px"},children:[(0,g.jsx)("p",{className:"sk_line sk_line_100 sk_line_height_10 mb-2"}),(0,g.jsx)("span",{className:"sk_line sk_line_50 sk_line_height_8 mb-0 d-block"})]})]}),(0,g.jsx)("span",{className:"d-flex align-items-end flex-column flex-shrink-0",style:{width:"100px"},children:(0,g.jsx)("div",{className:"sk_img symbol symbol-28 rounded-1 flex-shrink-0 me-2 overflow-hidden"})})]}),(0,g.jsxs)("div",{className:"d-flex align-items-center p-3 border-top",children:[(0,g.jsx)("div",{className:"w-50 me-1",children:(0,g.jsx)("div",{className:"sk_line sk_line_100 h-34px rounded-1"})}),(0,g.jsx)("div",{className:"w-50 ms-1",children:(0,g.jsx)("div",{className:"sk_line sk_line_100 h-34px rounded-1"})})]})]})})},s)))});var Ke=t(86781),$e=t(68459);class Ve extends a.Component{constructor(){super(...arguments),this.removeTaggProduct=(e,s,t)=>{this.props.REMOVE_TAGGED_PRODUCT_ACTION(e,s,t)}}render(){const{item:e,listView:s,index:t,openContent:a}=this.props;return e.postproduct&&e.postproduct.length>0?(0,g.jsxs)(Ke.A,{className:"d-flex gx-2 flex-nowrap product-scroll",children:[e.postproduct.map(((e,s)=>{var t;return(0,g.jsx)($e.A,{xs:2,style:{width:"20%"},children:(0,g.jsxs)("div",{className:"w-100 position-relative",children:[(0,g.jsx)(ne.A,{mediaClass:"rounded-1 overflow-hidden position-relative bg-light",size:100,url:null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t.product_image,height:50,width:50,alt:""}),(0,g.jsx)("span",{className:"h-16px w-16px rounded-circle bg-danger cursor-pointer position-absolute f-center text-light",style:{top:-6,right:-6},onClick:()=>this.removeTaggProduct(e.product.product_sku,e.product.id,e.post_id),children:(0,g.jsx)(u.gc,{icon:"xmark"})})]})},s)})),(0,g.jsx)($e.A,{xs:2,style:{width:"20%"},children:(0,g.jsx)(h.A,{variant:"light",className:"f-center flex-shrink-0 p-0 h-100 w-100",onClick:a(e,t),children:(0,g.jsx)(u.gc,{icon:"plus"})})})]}):(0,g.jsxs)(h.A,{variant:"light",className:"w-100 box-shadow",onClick:a(e,t),children:[(0,g.jsx)(u.gc,{type:"solid",icon:"tag",iconClass:"me-1"}),"Tag Products"]})}}const Je=(0,i.Ng)((e=>({moderation:e.moderation})),(e=>({REMOVE_TAGGED_PRODUCT_ACTION:(s,t,a)=>e((0,d.PB)(s,t,a))})))(Ve);class Ze extends a.Component{constructor(e){super(e),this.handleShowMore=()=>{this.setState((e=>({visibleCount:e.items.length})))},this.handleShowLess=()=>{this.setState({visibleCount:5})},this.state={items:this.props.item.tags?String(this.props.item.tags).split(","):[],visibleCount:5}}render(){const{items:e,visibleCount:s}=this.state,t=e.slice(0,s);return(0,g.jsx)(g.Fragment,{children:t&&t.length>0?(0,g.jsx)("div",{className:"d-flex align-items-center flex-wrap mb-2 w-100 overflow-hidden",children:(0,g.jsxs)("div",{className:"w-100 d-flex flex-wrap",children:[t.map(((e,s)=>e&&String(e).length>0?(0,g.jsx)(o.A,{className:"me-1 mb-1 px-3 py-1 d-inlin-block  cursor-pointer ".concat(99999==s?"border-gradient":"border bg-transparent"),style:{maxWidth:"100%"},onClick:this.props.onClickToPostTags(e),children:(0,g.jsx)("span",{className:"text-dark text-ellipsis d-block",children:e})},s):null)),e.length>5?s<e.length?(0,g.jsx)(h.A,{variant:"secondary",onClick:this.handleShowMore,className:"rounded-pill px-3 py-0 h-26px fs-10 fst-italic",children:"Show More"}):(0,g.jsx)(h.A,{variant:"secondary",onClick:this.handleShowLess,className:"rounded-pill px-3 py-0 h-26px fs-10 fst-italic",children:"Show Less"}):null]})}):null})}}const Xe=Ze;var es=t(31355),ss=t(70804),ts=t(18633);class as extends a.Component{constructor(e){super(e),this.reArrangePosts=()=>{const{newArray:e}=this.state,s=e.map((e=>e.id)),t=e.map(((e,s)=>s+1));this.props.GET_REORDER_PIN_TO_TOP(s,t)},this.onLoadData=e=>{const{pinToTop:s}=e;this.setState({items:s,newArray:s})},this.state={items:[],newArray:[]},this.onDragEnd=this.onDragEnd.bind(this)}componentDidMount(){this.onLoadData(this.props)}componentDidUpdate(e){e.openpinToTopModal!==this.props.openpinToTopModal&&this.props.openpinToTopModal&&this.props.GET_PIN_TO_TOP_LIST(),e.pinToTop!==this.props.pinToTop&&this.onLoadData(this.props)}onDragEnd(e){if(!e.destination)return;const s=((e,s,t)=>{const a=Array.from(e),[i]=a.splice(s,1);return a.splice(t,0,i),a})(this.state.items,e.source.index,e.destination.index);this.setState({items:s,newArray:s})}render(){var e;const{openpinToTopModal:s,closeModalPop:t}=this.props;return(0,g.jsxs)(I.A,{className:"pintotop_modal",size:"lg",show:s,onHide:t,centered:!0,children:[(0,g.jsx)(I.A.Header,{closeButton:!0,children:(0,g.jsx)(I.A.Title,{children:"Change Order"})}),(0,g.jsx)(I.A.Body,{children:(0,g.jsx)("div",{className:"mx-xl-4 px-lg-4 py-lg-2 mx-0 overflow-auto",style:{height:500},children:this.state.items&&(null===(e=this.state.items)||void 0===e?void 0:e.length)>0?(0,g.jsx)(es.JY,{onDragEnd:this.onDragEnd,children:(0,g.jsx)(es.gL,{droppableId:"droppable",children:(e,s)=>(0,g.jsx)("div",{...e.droppableProps,ref:e.innerRef,style:(s.isDraggingOver,{}),children:this.state.items&&this.state.items.length&&this.state.items.map(((e,s)=>(0,g.jsx)(es.sx,{draggableId:"item-".concat(s),index:s,children:(t,a)=>{return(0,g.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,style:(a.isDragging,i=t.draggableProps.style,{...i}),children:(0,g.jsx)(We.A,{"data-id":e.id,className:"mb-4",children:(0,g.jsxs)(We.A.Body,{className:"p-2",children:[(0,g.jsx)("span",{className:"position-absolute start-0 translate-middle h-18px w-18px rounded-circle f-center bg-dark text-light top-50 fs-10 fw-medium",style:{zIndex:1},children:s+1}),(0,g.jsxs)("div",{className:"d-flex flex-lg-row flex-column",children:[(0,g.jsx)("div",{className:"f-center h-100 text-gray-300 me-2 fs-6",children:(0,g.jsx)(u.gc,{type:"solid",icon:"grip-dots-vertical"})}),(0,g.jsx)("div",{className:"d-flex flex-shrink-0 flex-column cursor-pointer pe-lg-4 mx-auto mb-lg-0 mb-5",style:{width:120},children:(0,g.jsx)(ne.A,{mediaClass:"position-relative rounded-1 bg-light overflow-hidden w-100",size:100,height:120,width:120,url:e.newMedia,alt:""})}),(0,g.jsxs)("div",{className:"d-flex flex-grow-1 flex-column pl-lg-5 w-100 overflow-hidden",children:[(0,g.jsxs)("div",{className:"d-flex align-items-start mb-1",children:[(0,g.jsxs)(A.N_,{href:e.link,target:"_blank",className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none",children:[(0,g.jsx)(oe.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label text-light-alt fw-bolder text-uppercase fs-5",name:e.postname,profileUrl:e.picture,networkId:e.networkId}),(0,g.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,g.jsx)("p",{className:"text-dark mb-0",children:(0,g.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:e.postname})}),(0,g.jsxs)("p",{className:"mb-1 text-gray-500 text-break",children:["@",e.postname]})]})]}),(0,g.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,g.jsx)(S.A,{placement:"top",overlay:(0,g.jsx)(_.A,{children:(0,B.Oi)(e.networkId)}),children:(0,g.jsx)(P.A,{className:"h-100",src:(0,u.pc)("media/icons/social-icons/".concat((0,B.EC)(e.networkId),".svg")),height:20,width:20,alt:(0,B.Oi)(e.networkId),"icon-data":(0,B.Oi)(e.networkId),fluid:!0})})})]}),(0,g.jsx)("p",{className:"line-clamp line-clamp-3 mb-1",children:e.postcontent})]})]})]})})});var i}},"item-".concat(s))))})})}):(0,g.jsx)(ts.a,{})})}),(0,g.jsxs)(I.A.Footer,{children:[(0,g.jsx)(h.A,{variant:"secondary",className:"ms-3 btn-min-w",onClick:t,children:"Cancel"}),(0,g.jsx)(h.A,{className:"ms-3 btn-min-w",onClick:this.reArrangePosts,children:"Done"})]})]})}}const is=(0,i.Ng)((e=>{var s;return{pinToTop:null===(s=e.moderation)||void 0===s?void 0:s.pinToTop}}),(e=>({GET_LIST_ALL_PIN_TO_TOP_POST:()=>e((0,Y.vKj)()),GET_PIN_TO_TOP_LIST:()=>e((0,d.qz)()),GET_REORDER_PIN_TO_TOP:(s,t)=>e((0,d.Z4)(s,t))})))(as);t(1480);var ls=t(59516);const ns=new ge.A;class os extends a.Component{constructor(e){super(e),this.getTagsArray=()=>{var e;let s=((null===(e=this.props)||void 0===e?void 0:e.tags)||"").split(",").filter((e=>e.trim().length>0));this.setState({tagString:s})},this.onLoad=()=>{const{searchPost:e}=this.state;(null===e||void 0===e?void 0:e.length)>0?(this.setState({isLoading:!0}),(0,d.nX)(e).then((e=>{const{tags:s,status:t}=e.data;if(t){const e=s.map((e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)})));this.setState({selectedOption:e,isLoading:!1})}else this.setState({selectedOption:[],isLoading:!1})})).catch((()=>{this.setState({isLoading:!1})}))):this.setState({selectedOption:[],isLoading:!1})},this.onSearchText=e=>{this.setState({searchPost:e},(()=>this.onLoad()))},this.handleSelectChange=e=>{var s;const{tagString:t}=this.state;if(null!==e&&void 0!==e&&null!==(s=e.value)&&void 0!==s&&s.length)if(t.includes(e.value))(0,B.r$)("Tag already exists");else{e.value;this.setState({tagString:[...t,e.value]},(()=>this.props.onChangeTag(this.state.tagString.join(","))))}},this.onClickToRemoveTag=e=>s=>{let{tagString:t}=this.state;t.splice(e,1),this.setState({tagString:t},(()=>this.props.onChangeTag(t.join(","))))},this.handleOpen=e=>{this.setState({uppyProfileOpen:!0}),ue()(".uppy-Dashboard-close").click((()=>{ns.uppy.cancelAll(),this.setState({uppyProfileOpen:!1})}))},this.handleSave=()=>{const{author:e,handle:s,onSavePost:t,content:a}=this.props;e&&s&&a&&t()},this.state={tagString:[],searchPost:"",selectedOption:[],isLoading:!1,uppyProfileOpen:!1,profile:""}}componentDidMount(){ns&&ns.uppy.on("transloadit:result",((e,s)=>{this.props.onChangeAuthorImg("".concat(M.OZF,"tmp/").concat(s.id,".").concat(s.ext)),setTimeout((()=>{ns.uppy.cancelAll(),this.setState({uppyProfileOpen:!1})}),300)})),this.getTagsArray()}componentDidUpdate(e){e.tags!==this.props.tags&&this.getTagsArray()}render(){const{onChangeAuthor:e,onChangeHandle:s,onChangeContent:t,onClickRemoveAuthorImg:a,author:i,handle:l,authorImage:n,onSavePost:c,content:r,handleClose:d,loading:m,isTaggModal:x}=this.props,{tagString:j,isLoading:f,selectedOption:v}=this.state;return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"p-4 m_sidebar_scroll_",children:[!x&&(0,g.jsxs)(p.A.Group,{className:"mb-3",children:[(0,g.jsx)(p.A.Label,{className:"mb-2",htmlFor:"author_p_",children:"Author Profile"}),(0,g.jsxs)("div",{className:"d-flex align-items-center mb-5",children:[(0,g.jsx)("div",{className:"me-3 me-xxl-4",children:(0,g.jsx)("div",{className:"symbol h-70px w-70px position-relative rounded-circle bg-light overflow-hidden",children:n&&""!=n?(0,g.jsx)(P.A,{src:n,alt:i,height:70,width:70,className:"iobject-center-cover",load:"lazy",fluid:!0}):(0,g.jsx)("span",{className:"symbol-label bg-primary text-light-alt fw-bold display-1 text-uppercase",children:(0,B.t$)(i)})})}),(0,g.jsxs)("div",{className:"d-flex align-items-start flex-column",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)(S.A,{placement:"top",overlay:(0,g.jsx)(_.A,{children:"Edit"}),children:(0,g.jsx)(h.A,{variant:"icon",size:"sm",className:"btn-active-primary m-1",onClick:this.handleOpen,children:(0,g.jsx)(u.gc,{type:"solid",icon:"pen"})})}),(0,g.jsx)(S.A,{placement:"top",overlay:(0,g.jsx)(_.A,{children:"Remove"}),children:(0,g.jsx)(h.A,{variant:"icon",size:"sm",className:"btn-active-primary m-1",onClick:a,children:(0,g.jsx)(u.gc,{type:"solid",icon:"trash-can"})})})]}),(0,g.jsx)("div",{className:"form-text mt-2",children:"Allowed file types: png, jpg, jpeg."})]})]})]}),!x&&(0,g.jsxs)(p.A.Group,{className:"mb-3",children:[(0,g.jsxs)(p.A.Label,{className:"mb-2",htmlFor:"author_n_",children:["Author Name ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(p.A.Control,{id:"author_n_",name:"author_n_",className:i.length?"":"is-invalid",placeholder:"Enter Author Name",value:i,onChange:e}),i.length?null:(0,g.jsx)("span",{className:"invalid-feedback",children:"This field is required"})]}),!x&&(0,g.jsxs)(p.A.Group,{className:"mb-3",children:[(0,g.jsxs)(p.A.Label,{className:"mb-2",htmlFor:"author_h_",children:["Author Handle ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(p.A.Control,{id:"author_h_",name:"author_h_",className:l.length?"":"is-invalid",placeholder:"Enter Author Handle",value:l,onChange:s}),l.length?null:(0,g.jsx)("span",{className:"invalid-feedback",children:"This field is required"})]}),(0,g.jsxs)(p.A.Group,{className:"mb-3",children:[(0,g.jsx)(p.A.Label,{className:"mb-2",htmlFor:"tags__",children:"Add Tag"}),(0,g.jsx)("div",{className:"mb-3",children:(0,g.jsx)(ls.A,{className:"selectpicker",placeholder:"Enter your Tag",classNamePrefix:"selectpicker",isClearable:!0,isLoading:f,options:v,onChange:this.handleSelectChange,onInputChange:this.onSearchText,value:v})}),(0,g.jsx)("div",{className:"mb-3 mb-xl-4",children:(0,g.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:(()=>j.map(((e,s)=>(0,g.jsxs)(o.A,{className:"me-1 mb-1 px-3 py-2 f-center bg-secondary",children:[(0,g.jsx)("span",{className:"text-dark text-ellipsis d-block",children:e}),(0,g.jsx)(h.A,{variant:"link",size:"sm",className:"p-0 ms-1 text-dark",onClick:this.onClickToRemoveTag(s),children:(0,g.jsx)(u.gc,{icon:"xmark"})})]},e.toString()))))()})})]}),!x&&(0,g.jsxs)(p.A.Group,{className:"mb-3",children:[(0,g.jsx)(p.A.Label,{className:"mb-2",htmlFor:"post_cont_",children:"Content"}),(0,g.jsx)(p.A.Control,{as:"textarea",className:"".concat(r.length?"":"is-invalid"," textarea-min-row-7"),id:"post_cont_",placeholder:"Enter Content",value:r,onChange:t}),r.length?null:(0,g.jsx)("span",{className:"invalid-feedback",children:"This field is required"})]})]}),(0,g.jsxs)("div",{className:"assets_btn_wrapper bg-white p-4 f-center flex-column",children:[x?(0,g.jsx)(h.A,{className:"w-100 mb-2 ".concat(m?"spinner":""),disabled:m||!(j&&null!==j&&void 0!==j&&j.length),onClick:this.handleSave,children:"Save Changes"}):(0,g.jsx)(h.A,{className:"w-100 mb-2 ".concat(m?"spinner":""),disabled:m||!(i&&l&&r),onClick:this.handleSave,children:"Save Changes"}),(0,g.jsx)(h.A,{variant:"link",className:"text-muted",onClick:d,children:"Cancel"})]}),(0,g.jsx)(me.KG,{id:"background-image",closeModalOnClickOutside:!0,closeAfterFinish:!0,open:this.state.uppyProfileOpen,onRequestClose:this.handleClose,uppy:ns.uppy,hideUploadButton:!1,autoOpenFileEditor:!1,plugins:["Instagram","GoogleDrive","Url","Webcam"],animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1})]})}}const cs=os;var rs=t(6215);t(75794),t(35131),t(21784),t(67972);M.KO0;a.Component;const ds=e=>{let{content:s,mediaClass:t,rating:a,fontSize:i,lineCount:l,size:n}=e;return(0,g.jsx)("div",{className:"position-relative overflow-hidden ".concat(t),style:{paddingBottom:"".concat(n||"100","%")},children:(0,g.jsxs)("div",{className:"w-100 f-center flex-column position-absolute start-0 top-0 h-100 p-3",children:[a?(0,g.jsx)("div",{className:"f-center ps-1 mb-4",children:(0,B.OZ)(a||0).map(((e,s)=>(0,g.jsx)("span",{className:"text-warning mx-1 fs-3",children:(0,g.jsx)(u.gc,{type:"solid",icon:"star"})},s)))}):null,(0,g.jsx)("div",{className:"overflow-hidden",children:(0,g.jsx)("p",{className:"text-center line-clamp-".concat(l||4," line-clamp mb-0 ").concat(i?"":"fs-7"),style:{fontSize:i},children:(0,ss.Ay)(s)})})]})})};class hs extends a.Component{constructor(e){super(e),this.onChangeAuthor=e=>this.setState({author:e.target.value}),this.onChangeHandle=e=>this.setState({handle:e.target.value}),this.onChangeAuthorImg=e=>this.setState({authorImage:e}),this.onClickRemoveAuthorImg=e=>this.setState({authorImage:""}),this.onChangePostImg=e=>this.setState({postImage:e}),this.onChangePostType=e=>this.setState({type:4}),this.onChangeContent=e=>this.setState({content:e.target.value}),this.onChangeTag=e=>this.setState({tags:e}),this.handleResize=()=>{const{modalData:e}=this.props;this.setState({winWidth:window.innerWidth,winHeight:window.innerHeight})},this.onClickTouploadImage=(e,s)=>this.setState({postImage:e},(()=>s())),this.onSavePost=e=>{const{modalData:s,handleClose:t,filter:a,isTaggModal:i}=this.props,{authorImage:l,postImage:n,author:o,content:c,handle:r,tags:d}=this.state;this.setState({loading:!0});const h=null!==s&&void 0!==s&&s.is_carausel?{postcarousel:"on"}:{},m={userPhoto:"",content:c,newTable:2,spostId:s.postId,wallId:localStorage.getItem("wallId"),postId:s.id,postauthor:o,posthandle:r,authorpicture:l,...h};i||this.props.editpost(m);const p={selectedTags:d,postId:s.id,wallId:String(localStorage.getItem("wallId")),tags:d,db_table:a.db_table};this.props.onUpdateTags(p,i,t)},this.state={author:"",handle:"",authorImage:"",postImage:"",content:"",tags:"",type:"",mediaUrl:"",mediaWidth:"",mediaHeight:""}}componentDidMount(){window.addEventListener("resize",this.handleResize);const{modalData:e}=this.props;this.setState({author:e.name,handle:e.username,authorImage:e.picture,postImage:e.postFile,content:e.postcontent,tags:e.tags,type:e.type,loading:!1,mediaUrl:e.mediaUrl,mediaWidth:e.mediaUrl,mediaHeight:e.mediaUrl})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const{modalData:e,handleClose:s,isTaggModal:t}=this.props,{postImage:a,tags:i,loading:l}=this.state;return(0,g.jsxs)(I.A,{size:"full",show:!0,className:"assets_modal p-0 bg-white",backdrop:!1,children:[(0,g.jsxs)(I.A.Header,{className:"justify-content-between py-0",children:[(0,g.jsx)("span",{className:"text-muted fw-medium",children:t?"Add Tag":"Edit Post"}),(0,g.jsx)("div",{className:"d-flex align-items-center h-100",children:(0,g.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,g.jsx)(h.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:s})})})]}),(0,g.jsxs)(I.A.Body,{className:"p-0 d-flex border-0 flex-wrap",children:[(0,g.jsx)("div",{className:"assets_modal_inner flex-column flex-grow-1 f-center p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-hidden",children:1==e.type?(0,g.jsx)("div",{className:"mx-auto w-100 p-4",children:(0,g.jsx)(ds,{mediaClass:"bg-white",size:120,content:e.postcontent,rating:e.rating,socialNetworkId:e.networkId,fontSize:"calc(14px + .3vw + .3vh)",lineCount:10})}):(0,g.jsx)("div",{className:"mx-auto position-relative edit_media_",children:(0,g.jsx)(rs.A,{id:"su_logo",imageStyle:{paddingBottom:"50%"},backgroundImage:a,onClickTouploadImage:this.onChangePostImg,removeDelete:!0,isEditPost:!0,isTaggModal:t,UpdateType:this.onChangePostType})})}),(0,g.jsx)("div",{className:"full_modal_sidebar position-relative",children:(0,g.jsx)(cs,{modalData:e,onChangeAuthor:this.onChangeAuthor,onChangeHandle:this.onChangeHandle,onChangeAuthorImg:this.onChangeAuthorImg,onChangePostImg:this.onChangePostImg,onChangeContent:this.onChangeContent,onChangeTag:this.onChangeTag,onClickRemoveAuthorImg:this.onClickRemoveAuthorImg,handleClose:s,onSavePost:this.onSavePost,isTaggModal:t,...this.state})})]})]})}}const ms=(0,i.Ng)((e=>{var s;return{ctaData:null===(s=e.ctaData)||void 0===s?void 0:s.data,authorized:e.authorized}}),(e=>({editpost:(s,t)=>e((0,d.L2)(s,t)),onUpdateTags:(s,t,a)=>e((0,d.K)(s,t,a))})))(hs);var ps=t(97696);const us=a.lazy((()=>Promise.all([t.e(1628),t.e(6891)]).then(t.bind(t,86891)))),gs=a.lazy((()=>t.e(6139).then(t.bind(t,96139))));class xs extends a.Component{constructor(e){var s;super(e),this.handleResize=()=>{const{modalData:e}=this.props;this.setState({winWidth:window.innerWidth,winHeight:window.innerHeight})},this.onSaveCallBack=()=>{var e;this.setState({enableHotspot:null===(e=this.props.modalData)||void 0===e?void 0:e.hotspot})},this.onControlledDrag=(e,s)=>{const{x:t,y:a}=s,{spotWidth:i,spotHeight:l,productId:n}=this.state,{modalData:o}=this.props;let c=100*t/i,r=100*a/l;const d={left:"".concat(c,"%"),top:"".concat(r,"%")},h="left:".concat(c,"%;top:").concat(r,"%;");this.props.UPDATE_HOTSPOT_ACTION(n,null===o||void 0===o?void 0:o.referenceId,d,h)},this.changeHotspotStatus=(e,s)=>{let t=1==e?0:1;this.setState({enableHotspot:t}),this.props.ENABLE_HOTSPOT_ACTION(t,s,this.onSaveCallBack)},this.changePrdId=e=>{this.setState({productId:e})},this.onSaveCallBack=()=>{this.setState({enableHotspot:this.props.modalData.hotspot})},this.responceApi=()=>{this.setState({loading:!1})},this.handleClose=()=>this.props.modalCallback(!1),this.onMediaLoad=async e=>{if(e.mediaHeight&&e.mediaWidth)this.setState({mediaSize:{height:e.mediaHeight,width:e.mediaWidth}});else try{const{width:s,height:t}=await(0,G.A)(e.newMedia);this.setState({mediaSize:{height:t,width:s}})}catch(s){this.setState({mediaSize:{height:100,width:100}})}},this.editPostFun=e=>this.setState({editPost:!this.state.editPost,isTaggModal:e}),this.state={spotWidth:0,spotHeight:0,searchTag:"",selectedTag:[],productId:0,enableHotspot:null===(s=this.props.modalData)||void 0===s?void 0:s.hotspot,loading:!1,winWidth:window.innerWidth,winHeight:window.innerHeight,paddingBottom:100,mediaSize:{height:400,width:400},editPost:!1,isTaggModal:!1},this.hotspotRef=a.createRef()}componentDidMount(){setTimeout((()=>{const e=this.hotspotRef.current;e&&this.setState({spotWidth:e.clientWidth,spotHeight:e.clientHeight})}),100),window.addEventListener("resize",this.handleResize),this.onMediaLoad(this.props.modalData)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e){var s;this.props.modalData!==e.modalData&&(this.onMediaLoad(this.props.modalData),this.setState({enableHotspot:null===(s=this.props.modalData)||void 0===s?void 0:s.hotspot}))}render(){const{modalToggle:e,modalData:s,exportDonwloadMedia:t,filter:i,rightsHandleModalShow:l,addTagModalShow:n,ctaData:o,isTrash:r,onClickPutBack:d,onClickDeletePermanently:m,postPostUpdate:p,currentIndex:x,clickToPin:j,clickToGetUgc:f,clickToDeletePost:v,clickToBlockUser:b,handleAllImageError:y}=this.props,{spotWidth:w,spotHeight:k,enableHotspot:N,winWidth:A,winHeight:C,mediaSize:T,editPost:S,isTaggModal:_}=this.state,D=Math.min((A-450)/T.width,(C-130)/T.height),P=T.height*D,F=T.width*D,M=100*P/F;return(0,g.jsxs)(I.A,{size:"full",show:e,className:"assets_modal p-0 bg-white",backdrop:!1,children:[(0,g.jsxs)(I.A.Header,{className:"justify-content-between py-0",children:[(0,g.jsx)("span",{className:"text-muted fw-medium",children:S?"Edit Post":"General Info"}),(0,g.jsxs)("div",{className:"d-flex align-items-center h-100",children:[S?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"d-none d-lg-flex h-100",children:(0,g.jsxs)(g.Fragment,{children:[(3==s.networkId&&62==s.feedFilter||7==s.networkId||18==s.networkId&&(24==s.feedFilter||25==s.feedFilter||26==s.feedFilter))&&null==s.ugcstatus&&1!=s.type?(0,g.jsxs)(h.A,{variant:"secondary",className:"p-0 f-center border-0 me-3 text-muted btn-active-primary flex-shrink-0",onClick:f(s),children:[(0,g.jsx)(u.gc,{type:"solid",icon:"user-check",iconClass:"me-1"}),"Get Rights"]}):null,(0,g.jsxs)(h.A,{variant:"secondary",className:"p-0 f-center border-0 me-3 text-muted btn-active-primary flex-shrink-0",onClick:()=>this.editPostFun(!0),children:[(0,g.jsx)(u.gc,{type:"solid",icon:"tag",iconClass:"me-1"}),"Tags"]}),(0,g.jsxs)(h.A,{variant:"secondary",className:"p-0 f-center border-0 me-3 text-muted btn-active-primary flex-shrink-0",onClick:()=>this.editPostFun(!1),children:[(0,g.jsx)(u.gc,{type:"solid",icon:"pen",iconClass:"me-1"}),"Edit Post"]})]})}),(0,g.jsxs)(c.A,{align:"end",className:"f-center position-relative ms-4 h-100",children:[(0,g.jsxs)(c.A.Toggle,{variant:"secondary",className:"p-0 f-center border-0 me-3 text-muted btn-active-primary arrow_disabled h-100",children:[(0,g.jsx)(u.gc,{icon:"ellipsis",iconClass:"me-1"}),"More"]}),(0,g.jsxs)(c.A.Menu,{children:[(0,g.jsxs)(c.A.Item,{className:"d-flex d-lg-none",onClick:f(s),children:[(0,g.jsx)(u.gc,{type:"solid",icon:"user-check",iconClass:"me-1"}),(0,g.jsx)("span",{className:"navi-text",children:"Get Rights"})]}),(0,g.jsxs)(c.A.Item,{className:"d-flex d-lg-none",onClick:()=>this.editPostFun(!0),children:[(0,g.jsx)(u.gc,{type:"solid",icon:"tag",iconClass:"me-1"}),(0,g.jsx)("span",{className:"navi-text",children:"Tags"})]}),(0,g.jsxs)(c.A.Item,{className:"d-flex d-lg-none",onClick:()=>this.editPostFun(!1),children:[(0,g.jsx)(u.gc,{type:"solid",icon:"pen",iconClass:"me-1"}),(0,g.jsx)("span",{className:"navi-text",children:"Edit Post"})]}),1==s.ugcstatus||2==s.ugcstatus?(0,g.jsxs)(c.A.Item,{onClick:v(s.ptPost,s.id,s.status,x,s.feedId,s.feedFilter),children:[(0,g.jsx)(u.gc,{type:"solid",icon:"trash-can",iconClass:"me-1"}),(0,g.jsx)("span",{className:"navi-text",children:"Delete Post"})]}):null,(0,g.jsxs)(c.A.Item,{onClick:v(s.ptPost,s.id,s.status,x,s.feedId,s.feedFilter),children:[(0,g.jsx)(u.gc,{type:"solid",icon:"trash-can",iconClass:"me-1"}),(0,g.jsx)("span",{className:"navi-text",children:"Delete Post"})]}),(0,g.jsxs)(c.A.Item,{onClick:b(x,s.id,s.username,"grid",localStorage.getItem("wallId")),children:[(0,g.jsx)(u.gc,{type:"solid",icon:"ban",iconClass:"me-1"}),(0,g.jsx)("span",{className:"navi-text",children:"Block User"})]}),""!=s.newlink&&null!=s.newlink?(0,g.jsxs)(c.A.Item,{href:s.newlink,target:"_blank",children:[(0,g.jsx)(u.gc,{type:"solid",icon:"paper-plane",iconClass:"me-1"}),(0,g.jsx)("span",{className:"navi-text",children:"View Post"})]}):(0,g.jsx)(g.Fragment,{})]})]})]}),(0,g.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,g.jsx)(h.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:this.handleClose})})]})]}),(0,g.jsxs)(I.A.Body,{className:"p-0 d-flex border-0 flex-lg-row flex-column",children:[(0,g.jsxs)("div",{className:"assets_modal_inner flex-column flex-grow-1 f-center p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-hidden",children:[(0,g.jsx)(h.A,{variant:"secondary",className:"assets_modal_arrow_left rounded-circle position-absolute box-shadow p-0",onClick:this.props.slideAssets(x-1),children:(0,g.jsx)(u.gc,{type:"solid",icon:"arrow-left"})}),1==s.type?(0,g.jsx)("div",{className:"mx-auto w-100 p-4",children:(0,g.jsx)(ds,{mediaClass:"bg-white",size:120,content:s.postcontent,rating:s.rating,socialNetworkId:s.networkId,fontSize:"calc(14px + .3vw + .3vh)",lineCount:10})}):(0,g.jsx)("div",{className:"w-100",style:{maxWidth:A>991?F:null},children:(0,g.jsx)("div",{className:"position-relative",style:{paddingBottom:"".concat(A>991?M:null,"%")},children:(0,g.jsx)("div",{className:"position-lg-absolute top-0 start-0 w-100 h-100",children:2==s.type||4==s.type?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ne.A,{mediaClass:"content_img_",size:M,url:s.postFile,height:P,width:F,icon:s.networkId,rating:s.rating,alt:"",handleAllImageError:y,item:s}),(0,g.jsx)("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{zIndex:1},ref:this.hotspotRef,children:(0,g.jsx)(a.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:(0,g.jsx)(us,{ImageClass:"hotspot-section",ImageUrl:null===s||void 0===s?void 0:s.newMedia,spotWidth:w,spotHeight:k,enableHotspot:N,item:s,width:F,height:P,onControlledDrag:this.onControlledDrag,changePrdId:this.changePrdId,imgHeight:null===s||void 0===s?void 0:s.mediaHeight,imgWidth:null===s||void 0===s?void 0:s.mediaWidth,ctaData:o})})})]}):3==s.type||5==s.type?(0,g.jsx)(ps.A,{item:s,mediaClass:"content_video",size:M,url:s.mediaUrl||s.mediaFile||s.mediaClip||s.postFile,poster:s.postFile,height:P,width:F,autoPlay:!0,muted:!1,isCover:!0,controls:!0,loop:!1,isupdate:1}):null})})}),(0,g.jsx)(h.A,{variant:"secondary",className:"assets_modal_arrow_right rounded-circle position-absolute box-shadow p-0",onClick:this.props.slideAssets(x+1),children:(0,g.jsx)(u.gc,{type:"solid",icon:"arrow-right"})})]}),(0,g.jsx)("div",{className:"full_modal_sidebar position-relative",children:S?(0,g.jsx)(ms,{handleClose:()=>this.editPostFun(!1),modalData:s,filter:i,isTaggModal:_}):(0,g.jsx)(a.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:s?(0,g.jsx)(gs,{modalData:s,changeHotspotStatus:this.changeHotspotStatus,enableHotspot:N,postPostUpdate:p,modalCallback:this.props.modalCallback},null===s||void 0===s?void 0:s.id):null})})]})]})}}const js=(0,i.Ng)((e=>{var s;return{ctaData:null===(s=e.ctaData)||void 0===s?void 0:s.data,authorized:e.authorized}}),(e=>({UPDATE_HOTSPOT_ACTION:(s,t,a,i,l)=>e((0,d.Zl)(s,t,a,i,l)),REMOVE_TAGGED_PRODUCT_ACTION:(s,t,a)=>e((0,d.PB)(s,t,a)),ENABLE_HOTSPOT_ACTION:(s,t,a)=>e((0,d.Vi)(s,t,a)),getUserInfo_afterChanges:()=>e((0,z.AW)())})))(xs);var fs=t(74378),vs=t.n(fs);class bs extends a.Component{constructor(){super(...arguments),this.state={isRequest:!1}}componentDidMount(){const{isRequest:e}=this.state,{item:s}=this.props;(0,B.yw)(s)&&this.setState({isRequest:!0},(()=>(0,d.Cj)(s)))}render(){const{refreshPostLoading:e,onRefreshPost:s,item:t}=this.props;return(0,g.jsx)(S.A,{placement:"top",overlay:(0,g.jsx)(_.A,{children:"Refresh Post"}),children:(0,g.jsx)("span",{className:"refresh_post_media_".concat(t.id," me-2 cursor-pointer ").concat(e?"disabled":""),onClick:()=>s(t),style:{display:"none"},children:(0,g.jsx)(u.gc,{type:"solid",icon:"arrows-rotate"})})})}}const ys=bs;class ws extends a.Component{constructor(){super(...arguments),this.imageQueue=[],this.state={postID:null,id:null,data:null,itemIndex:null,modalData:null,ugcPending:!1,ugcReject:!1,ugcApproved:!1,firstRequest:!1,openpinToTopModal:!1,refreshPostLoading:!1,showModal:!1,currentIndex:null},this.clickToPin=(e,s,t,a,i)=>l=>this.props.clickToPostPin(e,s,t,a,i),this.clickToGetUgc=e=>s=>{this.props.getUgcDetails(e),this.openUgcModal()},this.clickToDeletePost=(e,s,t,a,i,l)=>n=>this.props.clickToDeletePost(e,s,t,a,i,l),this.clickToRefreshPost=(e,s,t,a)=>t=>this.props.refreshPostByNetwork(e,s),this.clickToBlockUser=(e,s,t,a,i)=>l=>this.props.clickToBlockUser(e,s,t,a,i),this.clickToPostStatus=(e,s,t,a)=>i=>this.props.clickToPostStatus(e,s,t,a),this.onClickToPostTags=e=>s=>{this.props.searchTagsFilter(e)},this.openUgcModal=e=>{this.props.ugcModal(!0)},this.clickToGetLink=(e,s,t,a,i)=>e=>{this.props.getUgcDetails(i),this.props.GET_UGC_REQUEST(i),this.props.onShow(a,i.ugcmodified)},this.handleImageError=e=>{const s=e.target.getAttribute("data-id");this.imageQueue.includes(s)||(this.imageQueue.push(s),this.state.firstRequest||this.processImageQueue())},this.processImageQueue=async()=>{this.setState({firstRequest:!0});const e=this.imageQueue[0],s=document.getElementById("imgID".concat(e));e&&(0,B.Cw)(e).then((e=>{let{data:t}=e;(0,d.Ti)(),this.imageQueue.shift(),s&&(s.src=t.media),this.processImageQueue()})).catch((e=>{this.imageQueue.shift(),s&&(s.src=M.iL5),this.processImageQueue()}))},this.onRefreshPost=async e=>{const{UPDATE_INSTA_POST_ACTION:s}=this.props;await s(e)},this.handleModalShow=(e,s)=>t=>{this.setState({showModal:!0,modalData:e,currentIndex:s})},this.handleCallback=e=>{this.setState({showModal:e,modalData:e?this.state.modalData:null,currentIndex:null})},this.slideAssets=e=>s=>{const{listData:t}=this.props;if(-1===e){let e=t.length-1;this.setState({currentIndex:e,modalData:t[e]})}else{let s=t.length==e?0:e;this.setState({currentIndex:s,modalData:t[s]})}}}componentDidUpdate(e){this.props.listData!==e.listData&&this.setState({modalData:this.props.listData[this.state.currentIndex]})}render(){const{total:e,activeTab:s,filter:t,moderation:a,isEditing:i,details:l,getUgcDetails:n,ugcData:o,ugcPopup:r,ugcRequestData:d,onShow:m,handleAllImageError:x}=this.props,{editPost:j,addTag:f,ugcPending:v,ugcReject:y,ugcApproved:w,openpinToTopModal:k,refreshPostLoading:N,showModal:A,modalData:C}=this.state;let T=null===t||void 0===t?void 0:t.tags.join();return(0,g.jsxs)("div",{className:"w-100 mb-4 mb-lg-0",children:[(0,g.jsxs)(vs(),{className:"row gx-2",elementType:"div",disableImagesLoaded:!1,updateOnEachImageLoad:!0,enableResizableChildren:!0,children:[" ",null!==a&&void 0!==a&&a.listData&&(null===a||void 0===a?void 0:a.listData.length)>0?null===a||void 0===a?void 0:a.listData.map(((t,a)=>t.status==s||0==s?(0,g.jsx)("div",{"total-items":e,className:"assetsItem",id:"content_id-".concat(t.id),"data-post-id":t.id,"data-highlight":t.highlight,"data-pinned":t.pin,"data-created":t.createdAt,children:(0,g.jsx)(Fe.A,{children:(0,g.jsx)(We.A,{className:"border-0",children:(0,g.jsxs)(We.A.Body,{className:"p-0",children:[(0,g.jsxs)("div",{className:"f-between p-2",style:{boxShadow:"0px 1px 0px rgba(0,0,0,.1)"},children:[(0,g.jsxs)("div",{className:"d-flex align-items-center list-inline mb-0",id:"post-actions-".concat(t.id),children:[(0,g.jsx)(p.A.Check,{className:"me-2",checked:t.isChecked,value:t.isChecked,onChange:this.props.clickPostChecked(a)}),(0,g.jsx)(S.A,{placement:"top",overlay:(0,g.jsx)(_.A,{children:"Pin to Top"}),children:(0,g.jsx)("span",{className:"w-18px f-center fs-6 me-2 cursor-pointer ".concat(t.pin?"text-primary":"text-muted"),onClick:this.clickToPin(a,t.spostId,t.id,"grid",t.pin),"data-value":t.pin,children:(0,g.jsx)(u.gc,{type:"solid",icon:"thumbtack"})})}),(3==t.networkId&&62==t.feedFilter||7==t.networkId||18==t.networkId&&(24==t.feedFilter||25==t.feedFilter||26==t.feedFilter))&&null==t.ugcstatus&&1!=t.type?(0,g.jsx)(S.A,{placement:"top",overlay:(0,g.jsx)(_.A,{children:"Get Rights"}),children:(0,g.jsx)("span",{className:"w-18px f-center me-2 cursor-pointer",onClick:()=>{this.props.getUgcDetails(t),this.openUgcModal()},children:null==t.ugcRights||4==t.ugcstatus?(0,g.jsx)("span",{className:"text-muted",children:(0,g.jsx)(u.gc,{type:"solid",icon:"user-check"})}):2==t.ugcstatus?(0,g.jsx)("span",{className:"text-success",children:(0,g.jsx)(u.Ah,{icon:"rights-approved-fill",height:15,width:15})}):1==t.ugcstatus?(0,g.jsx)("span",{className:"text-warning",children:(0,g.jsx)(u.Ah,{icon:"rights-pending-fill",height:15,width:15})}):3==t.ugcstatus?(0,g.jsx)("span",{className:"text-danger",children:(0,g.jsx)(u.Ah,{icon:"rights-rejected-fill",height:15,width:15})}):""})}):null,[18,2].includes(null===t||void 0===t?void 0:t.networkId)?(0,g.jsx)(ys,{onRefreshPost:this.onRefreshPost,item:t}):null]}),(0,g.jsxs)(c.A,{children:[(0,g.jsx)(S.A,{placement:"top",overlay:(0,g.jsx)(_.A,{children:"More Actions"}),children:(0,g.jsx)(c.A.Toggle,{variant:"secondary",className:"arrow_disabled dropdown-toggle border-0 p-0",children:(0,g.jsx)(u.gc,{icon:"ellipsis"})})}),(0,g.jsxs)(c.A.Menu,{children:[1!=t.ugcstatus||2!=t.ugcstatus?(0,g.jsxs)(c.A.Item,{onClick:this.clickToDeletePost(t.ptPost,t.id,t.status,a,t.feedId,t.feedFilter),children:[(0,g.jsx)("span",{className:"me-2",children:(0,g.jsx)(u.gc,{type:"solid",icon:"trash-can"})}),"Delete Post"]}):null,(0,g.jsxs)(c.A.Item,{onClick:this.clickToBlockUser(a,t.id,t.username,"grid",localStorage.getItem("wallId")),children:[(0,g.jsx)("span",{className:"me-2",children:(0,g.jsx)(u.gc,{type:"solid",icon:"ban"})}),"Block User"]}),""!=t.newlink&&null!=t.newlink?(0,g.jsxs)(c.A.Item,{href:t.newlink,target:"_blank",children:[(0,g.jsx)("span",{className:"me-2",children:(0,g.jsx)(u.gc,{type:"solid",icon:"paper-plane"})}),"View Post"]}):null,t.pin?(0,g.jsxs)(c.A.Item,{onClick:()=>this.setState({openpinToTopModal:!0}),children:[(0,g.jsx)("span",{className:"me-2",children:(0,g.jsx)(u.gc,{type:"solid",icon:"right-left"})}),"Change Order"]}):""]})]})]}),(0,g.jsxs)("div",{className:"d-flex align-items-center cursor-pointer flex-column",children:[(0,g.jsxs)("div",{className:"position-relative w-100",children:[(0,g.jsx)("div",{onClick:this.handleModalShow(t,a),children:1==t.type?(0,g.jsx)(ds,{mediaClass:"bg-light",content:t.postcontent,rating:t.rating,socialNetworkId:t.networkId}):2==t.type||4==t.type?(0,g.jsx)(ne.A,{mediaClass:"content_img_",size:!1,url:t.postFile,height:t.mediaHeight,width:t.mediaWidth,icon:t.networkId,rating:t.rating,alt:"",handleAllImageError:x,item:t}):3==t.type||5==t.type?(0,g.jsxs)(g.Fragment,{children:[t.mediaClip?(0,g.jsx)(ps.A,{item:t,mediaClass:"content_video",size:!1,url:t.mediaClip,poster:t.postFile,height:t.mediaHeight,width:t.mediaWidth,autoPlay:!0,muted:!0,isCover:!0,controls:!1,loop:!0}):(0,g.jsx)(ne.A,{mediaClass:"content_img_",size:!1,url:t.postFile,height:t.mediaHeight,width:t.mediaWidth,icon:t.networkId,rating:t.rating,alt:"",handleAllImageError:x,item:t}),(0,g.jsx)("div",{className:"position-absolute f-center h-100 w-100 start-0 top-0 text-light",style:{fontSize:45},children:(0,g.jsx)(u.gc,{icon:"circle-play"})})]}):null}),(0,g.jsx)("div",{className:"position-absolute w-100 start-0 bottom-0 p-3 w-100",style:{overflowX:"auto",zIndex:1},children:(0,g.jsx)(Je,{item:t,openContent:(e,s)=>this.handleModalShow(e,s),index:a})})]}),1==t.ugcstatus||2==t.ugcstatus||3==t.ugcstatus||4==t.ugcstatus?(0,g.jsxs)("div",{className:"w-100",children:[1==t.ugcstatus?(0,g.jsxs)("div",{onClick:this.clickToGetLink(t.id,t.ugccreated,t.bitlyurl,1,t),className:"bg-warning f-center text-white fw-medium p-1 w-100 fs-9",children:[(0,g.jsx)("span",{className:"me-1 f-center",children:(0,g.jsx)(u.Ah,{icon:"rights-pending-solid",height:13,width:13})}),"Pending",t.ugccreated?(0,g.jsxs)("small",{children:["(",t.ugccreated?b()(b()(t.ugcmodified,"YYYY-MM-DD  HH:mm:ss").utcOffset(0)).fromNow():null,")"]}):null]}):null,2==t.ugcstatus?(0,g.jsxs)("div",{onClick:this.clickToGetLink(t.id,t.ugccreated,t.bitlyurl,2,t),className:"bg-success f-center text-white fw-medium p-1 w-100 fs-9",children:[(0,g.jsx)("span",{className:"me-1 f-center",children:(0,g.jsx)(u.Ah,{icon:"rights-approved-solid",height:13,width:13})}),"Approved",t.ugccreated?(0,g.jsxs)("small",{children:["(",t.ugccreated?b()(b()(t.ugcmodified,"YYYY-MM-DD  HH:mm:ss").utcOffset(0)).fromNow():null,")"]}):null]}):null,3==t.ugcstatus?(0,g.jsxs)("div",{onClick:this.clickToGetLink(t.id,t.ugccreated,t.bitlyurl,3,t),className:"bg-danger f-center text-white fw-medium p-1 w-100 fs-9",children:[(0,g.jsx)("span",{className:"me-1 f-center",children:(0,g.jsx)(u.Ah,{icon:"rights-rejected-solid",height:13,width:13})}),"Rejected",t.ugccreated?(0,g.jsxs)("small",{children:["(",t.ugccreated?b()(b()(t.ugcmodified,"YYYY-MM-DD  HH:mm:ss").utcOffset(0)).fromNow():null,")"]}):null]}):null,4==t.ugcstatus?(0,g.jsxs)("div",{onClick:this.clickToGetLink(t.id,t.ugccreated,t.bitlyurl,4),className:"bg-danger f-center text-white fw-medium p-1 w-100 fs-9",children:[(0,g.jsx)("span",{className:"me-1 f-center",children:(0,g.jsx)(u.Ah,{icon:"rights-rejected-solid",height:13,width:13})}),"Expired",t.ugccreated?(0,g.jsxs)("small",{children:["(",t.ugccreated?b()(b()(t.ugcmodified,"YYYY-MM-DD  HH:mm:ss").utcOffset(0)).fromNow():null,")"]}):null]}):null]}):null,1==t.ctastatus&&""!=t.buttonText?(0,g.jsx)("div",{className:"d-flex p-2 w-100 grid-cta-status-".concat(t.id),children:(0,g.jsx)("a",{className:"btn font-weight-bold text-nowrap w-100",title:t.buttonText,target:"_blank",href:"".concat(t.buttonUrl&&t.buttonUrl.includes("http")?t.buttonUrl:"//".concat(t.buttonUrl)),style:{backgroundColor:t.ctaButtonColor,color:t.ctaTextColor},children:(0,g.jsx)("span",{children:t.buttonText})})}):null]}),(0,g.jsxs)("div",{className:"p-3",children:[(0,g.jsx)(Xe,{item:t,onClickToPostTags:this.onClickToPostTags,selection:T},null===t||void 0===t?void 0:t.tags),(0,g.jsxs)("div",{className:"f-between",children:[(0,g.jsx)("div",{className:"d-flex align-items-center pe-2",style:{maxWidth:"calc(100% - 25px)"},children:(0,g.jsxs)("div",{className:"d-flex align-items-center overflow-hidden",style:{maxWidth:"100%"},children:[(0,g.jsx)(oe.A,{imageSize:36,symbolClass:"symbol-label text-uppercase fs-5",className:"symbol symbol-36 rounded-circle bg-light flex-shrink-0 me-2 overflow-hidden",name:(0,q.Ay)(t.username),profileUrl:t.picture,networkId:t.networkId}),(0,g.jsxs)("div",{className:"d-flex flex-column flex-grow-1 overflow-hidden",children:[null!==t&&void 0!==t&&t.link?(0,g.jsx)("a",{href:null===t||void 0===t?void 0:t.link,target:"_blank",className:"text-dark mb-0 text-ellipsis fw-bold",children:t.name}):(0,g.jsx)("span",{className:"text-dark mb-0 text-ellipsis fw-bold",children:t.name}),(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsxs)("span",{className:"mb-0 text-ellipsis fs-10 text-muted",children:["@",(0,q.Ay)(t.username)]}),(0,g.jsx)("span",{className:"h-4px w-4px rounded-circle mx-1",style:{backgroundColor:"var(--bs-gray-600)"}}),(0,g.jsxs)("span",{className:"mb-0 text-ellipsis fs-10 text-muted",children:[" ",b()(new Date(1e3*t.createdAt)).fromNow()]})]})]})]})}),(0,g.jsx)("span",{className:"d-flex align-items-center h-24px w-24px flex-shrink-0",children:(0,g.jsx)(P.A,{src:(0,u.pc)("media/icons/social-icons/".concat((0,B.EC)(t.networkId),".svg")),height:24,width:24,alt:(0,B.Oi)(t.networkId),fluid:!0})})]})]}),(0,g.jsxs)("div",{className:"d-flex align-items-center p-3 border-top",children:[3!=t.status?(0,g.jsx)("div",{className:"w-50 me-1",children:(0,g.jsx)(h.A,{variant:"public",size:"sm",onClick:this.clickToPostStatus(a,t.spostId,t.id,1),className:"".concat(1==t.status?"disabled":""," w-100"),children:"Public"})}):null,3!=t.status?(0,g.jsx)("div",{className:"w-50 ms-1",children:(0,g.jsx)(h.A,{variant:"private",size:"sm",onClick:this.clickToPostStatus(a,t.spostId,t.id,2),className:"".concat(2==t.status?"disabled":""," w-100"),children:"Private"})}):null]})]})})})},"post".concat(a,"_").concat(t.id)):null)):null]}),C?(0,g.jsx)(js,{clickToPin:this.clickToPin,clickToGetUgc:this.clickToGetUgc,clickToDeletePost:this.clickToDeletePost,clickToBlockUser:this.clickToBlockUser,modalCallback:this.handleCallback,modalToggle:A,modalData:C,exportDonwloadMedia:this.exportDonwloadMedia,slideAssets:this.slideAssets,currentIndex:this.state.currentIndex,filter:t,handleAllImageError:x}):null,(0,g.jsx)(is,{openpinToTopModal:k,closeModalPop:()=>this.setState({openpinToTopModal:!1})})]})}}const ks=(0,i.Ng)((e=>{var s,t,a,i;return{isEditing:null===(s=e.moderation)||void 0===s?void 0:s.isEditing,ugcData:null===(t=e.moderation)||void 0===t?void 0:t.ugcData,ugcPopup:null===(a=e.moderation)||void 0===a?void 0:a.ugcPopup,ugcRequestData:null===(i=e.moderation)||void 0===i?void 0:i.ugcRequestData,moderation:e.moderation}}),(e=>({clickToPostStatus:(s,t,a,i)=>e((0,d.QK)(s,t,a,i)),clickToPostPin:(s,t,a,i,l)=>e((0,d.b4)(s,t,a,i,l)),clickToDeletePost:(s,t,a,i,l,n)=>e((0,d.xL)(s,t,a,i,l,n)),clickToBlockUser:(s,t,a,i,l)=>e((0,d.C8)(s,t,a,i,l)),refreshPostByNetwork:(s,t)=>e((0,d.XA)(s,t)),getUgcDetails:s=>e((0,d.Qb)(s)),ugcModal:s=>e((0,d.$k)(s)),UPDATE_INSTA_POST_ACTION:s=>e((0,d.KH)(s)),GET_UGC_REQUEST:s=>e((0,d.rA)(s))})))(ws);var Ns=t(26806);class As extends a.Component{constructor(){super(...arguments),this.allImageQueue=[],this.state={total:0,isCheckAll:!1,isCheckedPostCount:0,perPageCount:10,activePage:1,activeTab:0,filters:[],allFirstImage:!1,statusPopup:0},this.onBoardingSuccess=()=>{setTimeout((()=>{L().fire({icon:"success",title:"<strong>You are almost there!</strong>",html:"Tag products to curate a Shoppable Gallery & publish it on your pages.",showCloseButton:!0,showCancelButton:!1,focusConfirm:!0,confirmButtonText:"Got it!",confirmButtonAriaLabel:"Got it!",cancelButtonText:'<i class="fa fa-thumbs-down"></i>',cancelButtonAriaLabel:"Thumbs down"}).then((e=>{e.isConfirmed&&(this.props.getUserInfo_afterChanges(),this.props.navigate("/content/moderation/".concat(localStorage.getItem("wallId")?localStorage.getItem("wallId"):"")))}))}),1e3)},this.clickToCheckAll=e=>{const{isCheckAll:s}=this.state;this.setState({isCheckAll:!s},(()=>{this.onActionUpdateOpcity(),this.props.updateCheckAll(this.state.isCheckAll)}))},this.clickToCheckStatusAll=e=>s=>{this.onActionUpdateOpcity(),this.props.updateCheckStatusAll(e)},this.clickToUncheckAll=e=>{this.setState({isCheckAll:!1},(()=>{this.onActionUpdateOpcity(),this.props.removeCheckAll(!1)}))},this.clickPostChecked=e=>s=>this.props.selectPostUpdate(e,this.onActionUpdateOpcity()),this.onActionUpdateOpcity=()=>{const{isCheckAll:e,isCheckedPostCount:s}=this.state;(e||s>0)&&(document.getElementsByClassName("modSelectNo")&&document.getElementsByClassName("modSelectNo")[0]&&(0,B.UD)(document.getElementsByClassName("modSelectNo")[0]),document.getElementsByClassName("filter-bar")&&document.getElementsByClassName("filter-bar")[0]&&(0,B.UD)(document.getElementsByClassName("filter-bar")[0]))},this.clickToTab=e=>s=>{const{activeTabActionFilter:t}=this.props;this.setState({activeTab:e}),t(e)},this.onDateRangeFilter=(e,s)=>this.props.dateRangeFilter(e,s),this.onClickToFilterUpdateStatus=e=>s=>this.props.clickToPostStatusALL(e),this.onClickToFilterDeleteAll=e=>this.props.clickToPostDeleteALL(),this.onClickNextPage=e=>this.props.onNextNavigateClick(),this.onClickPrevPage=e=>this.props.onPrevNavigateClick(),this.onChangePage=e=>s=>{this.props.onUpdatePage(e)},this.onClickReset=e=>{let s=this.state.filters.filter((s=>s.key===e.key));s=s.filter((s=>{if(["postType","socialFeed","other"].includes(s.key))return s.value.filter((s=>!e.value.includes(s)))})),this.setState({filters:s},(()=>this.props.clickToRefresh()))},this.onClickAllReset=e=>{this.setState({filters:[]},(()=>this.props.getModeration()))},this.handleAllImageError=e=>{try{const s=e.target.getAttribute("data-id");this.allImageQueue.some((e=>e.src===s))||this.allImageQueue.push({src:s,e:e}),this.state.allFirstImage||this.processAllImageQueue()}catch(s){console.log("error",s)}},this.processAllImageQueue=async()=>{this.allImageQueue.length&&!this.state.allFirstImage&&(this.setState({allFirstImage:!0}),this.processNextImage())},this.processNextImage=()=>{try{const{src:e,e:s}=this.allImageQueue[0];e&&(0,B.jN)(s,this.nextProcessAllImageQueue)}catch(e){console.log("error",e)}},this.nextProcessAllImageQueue=()=>{try{this.allImageQueue.shift(),this.allImageQueue.length?this.processNextImage():this.setState({allFirstImage:!1})}catch(e){console.log("error",e)}},this.openugcModel=()=>this.props.ugcModal(!0),this.onShow=e=>this.setState({statusPopup:e})}componentDidUpdate(e,s){var t,a,i;(e.moderation.changeModeration_wall!==this.props.moderation.changeModeration_wall&&this.props.moderation.changeModeration_wall&&this.setState({activeTab:0},this.clickToUncheckAll),e.wallsLoader!==this.props.wallsLoader)&&(this.props.wallsLoader||null!==(t=this.props.moderation)&&void 0!==t&&null!==(a=t.listData)&&void 0!==a&&a.length||null===(i=this.props.moderation)||void 0===i||!i.loding||this.props.getModeration())}componentWillMount(){const{params:e}=this.props,s=window.location.href.replace(null===e||void 0===e?void 0:e.id,localStorage.getItem("wallId"));window.history.pushState(null,"",s),window.feedId=e.feedId}componentDidMount(){const{moderation:e}=this.props;window.location.href.includes("ob_success")&&this.onBoardingSuccess(),document.cookie="callBackUrl=React",localStorage.removeItem("createFeedObj"),!e.listData.length&&e.loding&&this.props.getModeration(),this.props.ctaData||this.props.GET_CTA_ACTION()}render(){const{isCheckAll:e,perPageCount:s,activePage:t,activeTab:a,filters:i}=this.state,{moderation:n,searchTagsFilter:o,limitUpdate:c,loader:r,editpost:d,clickToRefresh:h,ugcModal:m,clearUgcData:p,removeAllFilterBody:u,searchPostFilter:x,onUpdateTags:j,allWalls:f,onDeleteTags:v,allFont:b,wallsLoader:y,feeds:w,ugcData:k,ugcPopup:N,ugcRequestData:A,CLEAR_UGC_REQUEST_DATA:C,navigate:T}=this.props;return y||f&&f.length>0?(0,g.jsxs)("div",{className:"d-flex flex-column flex-column-fluid full-content moderation__",children:[(0,g.jsx)(O,{onUpdateTags:j,onDeleteTags:v,clickToCheckAll:this.clickToCheckStatusAll,clickToUncheckAll:this.clickToUncheckAll,isCheckAll:e,isCheckedPostCount:null===n||void 0===n?void 0:n.isCheckedPostCount,searchPostFilter:x,onClickToViewFilter:this.onClickToViewFilter,total:null===n||void 0===n?void 0:n.total,perPageCount:s,activePage:t,moderation:n,clickToTab:this.clickToTab,onDateRangeFilter:this.onDateRangeFilter,onClickToFilterUpdateStatus:this.onClickToFilterUpdateStatus,onClickToFilterDeleteAll:this.onClickToFilterDeleteAll,searchTagsFilter:o,limitUpdate:c,onNextNavigateClick:this.onClickNextPage,onPrevNavigateClick:this.onClickPrevPage,onChangePage:this.onChangePage,onAppliedFilter:this.onAppliedFilter,clickToRefresh:h,activeTab:a}),(0,g.jsxs)(l.A,{fluid:!0,className:"position-relative pt-10",children:[(0,g.jsx)(se,{...this.props,filterBody:n.filterBody}),(0,g.jsx)(ae,{...this.props,filterBody:n.filterBody}),(0,g.jsx)(Ge,{...this.props,statusPopup:this.state.statusPopup,onHide:()=>{this.setState({statusPopup:0}),C()}}),0!=(null===n||void 0===n?void 0:n.total)||null!==n&&void 0!==n&&n.loding?(0,g.jsx)("div",{className:"moderation_card tab-content pb-10 pb-lg-0 h-100",children:r.filterLoader?(0,g.jsx)(Qe,{...this.props}):(0,g.jsx)(ks,{clickPostChecked:this.clickPostChecked,...n,removeAllFilterBody:u,activeTab:a,searchTagsFilter:o,onAppliedFilter:this.onAppliedFilter,handleAllImageError:this.handleAllImageError,filters:i,onClickAllReset:this.onClickAllReset,onClickReset:this.onClickReset,editpost:d,onShow:this.onShow})}):(0,g.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 182px)"},children:(0,g.jsx)(Ns.A,{title:w&&w.length?"No Posts!":"Whoops! You have not created a feed! \u231b",desc:"",icon:"media",button:{action:()=>T("/content/addfeed/".concat(localStorage.getItem("wallId"))),text:"Create feed"},isFullScreen:!1})}),N&&k&&k.template&&k.template.length?(0,g.jsx)(Me,{ugcData:k,hideUgc:()=>{m(!1),p()}}):""]})]}):(0,g.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 182px)"},children:(0,g.jsx)(Ns.A,{title:w&&w.length?"No Posts!":"Create a Gallery, to add feed! \u231b",desc:"Oops! Looks like you have deleted your gallery, create one by simply clicking on the button below.",icon:"media",button:{action:()=>this.props.TOGGLE_ADD_GALLERY(!0),text:"Create Gallery"},isFullScreen:!1})})}}const Cs=(0,i.Ng)((e=>{var s,t,a,i,l,n,o,c,r,d,h,m,p;return{moderation:e.moderation,loader:e.loader,ctaData:null===(s=e.ctaData)||void 0===s?void 0:s.data,allFont:e.allFont,showAddFeed:null===(t=e.modalReducer)||void 0===t?void 0:t.showAddFeed,showManageFeed:null===(a=e.modalReducer)||void 0===a?void 0:a.showManageFeed,showCta:null===(i=e.modalReducer)||void 0===i?void 0:i.showCta,wallsLoader:null===(l=e.dashboardData)||void 0===l?void 0:l.wallsLoader,addGalleryNow:null===(n=e.dashboardData)||void 0===n?void 0:n.addGalleryNow,ctaData:null===(o=e.ctaData)||void 0===o?void 0:o.data,ugcData:null===(c=e.moderation)||void 0===c?void 0:c.ugcData,ugcPopup:null===(r=e.moderation)||void 0===r?void 0:r.ugcPopup,ugcRequestData:null===(d=e.moderation)||void 0===d?void 0:d.ugcRequestData,feeds:null===(h=e.manageFeeds)||void 0===h?void 0:h.feeds,allWalls:null===(m=e.dashboardData)||void 0===m||null===(p=m.dashboarddata)||void 0===p?void 0:p.allWalls}}),(e=>({getModeration:s=>e((0,d.zI)(s)),activeTabActionFilter:s=>e((0,d.ww)(s)),updateCheckAll:s=>e((0,d.$)(s)),selectPostUpdate:(s,t)=>e((0,d.ax)(s,t)),dateRangeFilter:(s,t)=>e((0,d.AX)(s,t)),clickToPostStatusALL:s=>e((0,d.lg)(s)),clickToPostDeleteALL:()=>e((0,d.wi)()),searchTagsFilter:s=>e((0,d.cO)(s)),searchPostFilter:s=>e((0,d.HD)(s)),limitUpdate:s=>e((0,d.PH)(s)),onNextNavigateClick:()=>e((0,d.yH)()),onPrevNavigateClick:()=>e((0,d.Ec)()),onUpdatePage:s=>e((0,d.eJ)(s)),editpost:(s,t,a)=>e((0,d.L2)(s,t,a)),clickToRefresh:()=>e((0,d.LT)()),removeAllFilterBody:()=>e((0,d.ud)()),onUpdateTags:(s,t)=>e((0,d.K)(s,t)),onDeleteTags:(s,t)=>e((0,d.gM)(s,t)),removeCheckAll:s=>e((0,d.KN)(s)),updateCheckStatusAll:s=>e((0,d.$3)(s)),TOGGLE_ADD_GALLERY:s=>e({type:Y.GSH,payload:s}),getUserInfo_afterChanges:()=>e((0,z.AW)()),GET_CTA_ACTION:()=>e((0,d.lU)()),ugcModal:s=>e((0,d.$k)(s)),clearUgcData:()=>e((0,d.nh)()),CLEAR_UGC_REQUEST_DATA:()=>e((0,d.Ao)())})))(a.memo((0,H.A)(As)))}}]);