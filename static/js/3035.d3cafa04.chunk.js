"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[3035],{48459:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(9950),l=t(45276),c=t(54810),a=t(44414);class o extends n.Component{render(){const{title:e,desc:s,icon:t,height:n}=this.props;return(0,a.jsx)("div",{className:"f-center py-4 h-100 w-100",style:{minHeight:n},children:(0,a.jsx)("div",{className:"d-flex flex-column align-items-center",children:(0,a.jsxs)("div",{className:"mb-2 text-center",children:[(0,a.jsx)(l.A,{height:70,width:70,className:"mb-5",src:(0,c.pc)("media/images/error/".concat(t,".svg"))}),(0,a.jsx)("h4",{className:"text-gray-dark fw-semibold text-center",children:e}),s?(0,a.jsx)("p",{className:"fs-7",children:s}):null]})})})}}const i=o},88053:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(9950),l=t(52867),c=t(44414);class a extends n.Component{constructor(e){super(e),this.state={profileError:!1}}render(){const{profileError:e}=this.state,{imageSize:s,symbolClass:t,className:n,name:a,profileUrl:o,networkId:i}=this.props;return(0,c.jsx)("div",{className:n,children:e||""==o?(0,c.jsx)("span",{className:t,style:{backgroundColor:i?(0,l.Yo)(i):null},children:(0,l.t$)(a)}):(0,c.jsx)("img",{src:o,height:s,width:s,alt:a,onError:()=>this.setState({profileError:!0})})})}}const o=a},93382:(e,s,t)=>{t.d(s,{A:()=>x});var n=t(44268),l=t(17595),c=t(97937),a=t(9950),o=t(14919),i=t(52867),r=t(66345),d=t(14313);localStorage.getItem("token");var h=t(59074),m=t(44414);const x=e=>{var s;let{from:t,text:x,heading:u,btnSendText:p,onClose:g,shareUrl:j,codeId:A,isShare:b}=e;const[C,f]=(0,a.useState)(!1),[w,N]=(0,a.useState)(!1),[v,y]=(0,a.useState)(""),[k,S]=(0,a.useState)([]),U=(null===(s=document.querySelector(A))||void 0===s?void 0:s.innerText)||j,T=()=>{if(k.length>0)if(f(!0),b)(0,h.M6)({emailIds:k,shareURL:j}).then((e=>{const{responseData:s,responseCode:t}=e.data;200==t&&((0,i.k1)("URL shared successfully."),f(!1),g())})).catch((e=>{const{data:s}=e.response;f(!1),(0,i.r$)("Something went wrong, please try again later.")}));else{(e=>(new d.A).post("".concat(r.O2A),{htmlCode:e.htmlCode,type:e.type,email:e.email}))({email:k.toString(),type:"snapUp"==t?6:3,htmlCode:U}).then((e=>{e.data.status?setTimeout((()=>{(0,o.Ti)(),"snapUp"==t?(0,i.k1)("Successfully shared."):(0,i.k1)("Code successfully shared."),f(!1),g()}),1e3):(f(!1),(0,i.r$)(e.data.message))})).catch((e=>{f(!1),(0,i.r$)("Something went wrong, please try again later.")}))}else f(!1),(0,i.r$)("Please fill Email Id")},L=()=>{v.length>0&&!k.includes(v)&&(0,i.DT)(v)?(k.push(v),S(k),y(""),N(!1)):N(!0)};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(n.A,{show:!0,onHide:g,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,m.jsx)(n.A.Header,{closeButton:!0,children:(0,m.jsx)(n.A.Title,{children:u})}),(0,m.jsx)(n.A.Body,{children:(0,m.jsxs)("div",{className:"mx-xl-4 px-2 px-lg-4 mx-0 pt-4",style:{minHeight:320},children:[(0,m.jsx)("p",{className:"text-center mb-4",children:x}),(0,m.jsxs)("div",{className:"mb-3 mb-xl-4 d-flex align-items-start",children:[(0,m.jsxs)("div",{className:"d-flex flex-column w-100 pe-2",children:[(0,m.jsx)(l.A.Control,{className:"position-relative d-flex flex-grow-1 flex-column ".concat(w?"is-invalid":""),placeholder:"example@example.com",type:"text",value:v,onKeyDown:e=>"Enter"==e.key?L():null,onChange:e=>y(e.target.value)}),w&&(0,m.jsx)("div",{className:"invalid-feedback d-block",children:"Enter valid email."})]}),(0,m.jsx)(c.A,{variant:"primary",onClick:L,children:"Add"})]}),(0,m.jsx)("div",{className:"mb-3 mb-xl-4",children:(0,m.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:k.length>0?k.map(((e,s)=>(0,m.jsxs)("div",{className:"badge bg-secondary text-gray-800 px-3 py-2  border me-2 mb-2",children:[(0,m.jsx)("span",{className:"text-break",style:{whiteSpace:"normal"},children:e}),(0,m.jsx)("button",{className:"btn btn-sm p-0 ms-1",onClick:()=>(e=>{const s=k.filter(((s,t)=>t!==e));S(s)})(s),children:(0,m.jsx)("i",{className:"btn-close"})})]},e.toString()))):null})})]})}),(0,m.jsx)(n.A.Footer,{className:"p-3",children:(0,m.jsxs)("div",{className:"mx-xl-4 px-2 px-lg-4 mx-0",children:[(0,m.jsx)(c.A,{type:"button",className:"btn btn-secondary btn-sm btn-min-w me-3",onClick:()=>g(),children:"Cancel"}),(0,m.jsx)(c.A,{disabled:!(k.length>0),type:"button",className:"btn btn-primary btn-sm btn-min-w ".concat(C?"spinner":""),onClick:()=>T(k.toString()),children:p||"Share Code"})]})})]})})}},33035:(e,s,t)=>{t.d(s,{A:()=>M});var n=t(9950),l=t(73878),c=t(42074),a=t(59074),o=t(18633),i=t(48459),r=t(88053),d=t(52867),h=t(54810),m=t(45358),x=t(5216),u=t(97937),p=t(1093),g=t(21432),j=t(95942),A=t(17595),b=t(19360),C=t(59051),f=t.n(C),w=t(44268),N=t(44414);class v extends n.Component{constructor(){super(...arguments),this.handleClose=()=>{this.props.modalCallback(!1)}}render(){const{modalToggle:e,childConnectionList:s}=this.props;return(0,N.jsxs)(w.A,{show:e,onHide:this.handleClose,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,N.jsx)(w.A.Header,{closeButton:!0,children:(0,N.jsx)(w.A.Title,{children:"Social Pages"})}),(0,N.jsx)(w.A.Body,{children:(0,N.jsx)("div",{className:"connection_modal mx-xl-4 px-2 px-lg-4 mx-0 overflow-auto",style:{height:"calc(100vh - 150px)"},children:s.map((e=>(0,N.jsxs)("div",{className:"d-flex justify-content-between align-items-center py-3 border-bottom",children:[(0,N.jsxs)("div",{className:"d-flex align-items-center flex-grow-1 me-2 w-75",children:[(0,N.jsx)(r.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden bg-light",imageSize:40,symbolClass:"symbol-label text-light-alt fw-bolder text-uppercase fs-5",name:e.ConnectedAccounts.value2,profileUrl:e.ConnectedAccounts.profilePicture,networkId:e.ConnectedAccounts.networkId}),(0,N.jsxs)("div",{className:"overflow-hidden",children:[(0,N.jsx)("p",{className:"text-gray-800 mb-0 w-100 fw-bold text-ellipsis",children:e.ConnectedAccounts.value2}),(0,N.jsxs)("p",{className:"mb-0 text-gray-600 text-ellipsis mb-0 fs-8",children:["@",e.ConnectedAccounts.value1]})]})]}),(0,N.jsxs)("div",{className:"d-flex flex-column align-items-end flex-srink-0",children:[(0,N.jsxs)("div",{className:"fs-7 fw-bold text-gray-800",children:[" ",(0,N.jsx)("img",{className:"img-fluid h-100",src:(0,h.pc)("media/icons/social-icons/".concat((0,d.EC)(e.ConnectedAccounts.networkId),".svg")),height:28,width:28,alt:""})]}),(0,N.jsx)("div",{className:"fs-8 text-muted fw-medium d-none",children:"Posts"})]})]})))})})]})}}const y=v;var k=t(93382);class S extends n.Component{constructor(){super(...arguments),this.handleClose=()=>{this.props.addAccountCallback(!1)}}render(){const{modalToggle:e,networkList:s,reconnectAccount:t}=this.props;return(0,N.jsxs)(w.A,{show:e,onHide:this.handleClose,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,N.jsx)(w.A.Header,{closeButton:!0,children:(0,N.jsx)(w.A.Title,{children:"Add Social Network"})}),(0,N.jsx)(w.A.Body,{children:(0,N.jsx)("div",{className:"connection_modal mx-xl-4 px-2 px-lg-4 mx-0 overflow-auto",children:s.map(((e,s)=>(0,N.jsxs)("div",{className:"d-flex justify-content-between align-items-center py-3 border-bottom",children:[(0,N.jsxs)("div",{className:"d-flex align-items-center flex-grow-1 me-2 w-75",children:[(0,N.jsx)("span",{className:"h-34px w-34px me-2 d-flex flex-shrink-0",children:(0,N.jsx)("img",{className:"img-fluid h-100",src:(0,h.pc)("media/icons/social-icons-square/".concat((0,d.EC)(e.id),".svg")),height:43,width:43,alt:(0,d.EC)(e.id)})}),(0,N.jsx)("div",{className:"overflow-hidden",children:(0,N.jsx)("span",{className:"text-gray-800 mb-0 w-100 fw-bold text-ellipsis me-2",children:e.name})})]}),(0,N.jsx)("div",{className:"d-flex flex-column align-items-end flex-srink-0",children:(0,N.jsx)("button",{type:"button",className:"btn btn-primary btn-sm btn-min-w",onClick:()=>t(e),children:"Connect"})})]},s)))})})]})}}const U=S;var T=t(4695),L=t.n(T),_=t(9697);const I=new BroadcastChannel("connect");class O extends n.Component{constructor(){super(),this.state={showModal:!1,addAccountModal:!1,childConnectionList:[],codeCopied:!1,shareUrlModal:!1,isLoading:!1},this.handleMessage=async e=>{try{const{TAGGSHOP_SOCIAL_ACCOUNT_DATA:s}=this.props,t=JSON.parse(e.data),{code:n}=t,l=localStorage.getItem("networkId"),c=localStorage.getItem("connectionType");(e.origin.includes("tagshop.ai")||e.origin.includes("localhost"))&&"socialConnect"==c&&n&&await(0,_.CJ)(parseInt(l),n,s)}catch(s){console.log("--- handleMessage error ---",s)}},this.handleModalShow=e=>s=>{this.setState({showModal:!0,childConnectionList:e})},this.handleCallback=e=>{this.setState({showModal:e})},this.shareUrlCallback=()=>{this.setState({shareUrlModal:!1})},this.codeCopy=e=>{this.setState({codeCopied:!0}),setTimeout((()=>{this.setState({codeCopied:!1})}),1500),(0,d.x_)(e)},this.shareUrlOpenModal=e=>this.setState({shareUrlModal:!0}),this.addAccountCallback=e=>{this.setState({addAccountModal:e})},this.reconnectAccount=e=>{const s=window.location.pathname.includes("connection")?"connectAccount":"socialConnect";localStorage.setItem("connectionType",s),this.setState({addAccountModal:!1},(()=>(0,d.go)(e,!0)))},this.onClickDeleteAccount=(e,s)=>{L().fire({title:"Are you sure?",text:"You want to delete this",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then((t=>{if(t.isConfirmed){this.props.DELETE_USER_SOCIAL_ACCOUNT(e,s,(()=>this.setState({isLoading:!this.state.isLoading},(()=>(0,d.k1)("Account successfully disconnected.")))))}}))},this.controller=new AbortController}componentDidMount(){const{socialAccountsData:e,networkList:s}=this.props;e&&Object.keys(e).length>0||this.props.TAGGSHOP_SOCIAL_ACCOUNT_DATA(),s||this.props.TAGSHOP_SOCIAL_ACCOUNT_ADD_ACCOUNT_DATA(),window.addEventListener("message",this.handleMessage,{signal:this.controller.signal}),I.addEventListener("message",this.handleMessage)}componentWillUnmount(){window.removeEventListener("message",this.handleMessage,{signal:this.controller.signal}),I.removeEventListener("message",this.handleMessage),this.controller.abort(),I.close()}render(){const{socialAccountsData:e,networkList:s,isSharing:t}=this.props,{codeCopied:l,childConnectionList:a,showModal:C,shareUrlModal:w,addAccountModal:v}=this.state;return(0,N.jsxs)("div",{className:"d-flex flex-column flex-column-fluid full-content ".concat(t?"mt-lg-10 mt-5":""),children:[!!t||(0,N.jsx)("div",{className:"position-fixed bg-white  border-bottom subheader",children:(0,N.jsx)(m.A,{fluid:!0,children:(0,N.jsxs)("div",{className:"nav nav-underline",children:[(0,N.jsx)("div",{className:"nav-item",children:(0,N.jsx)(c.N_,{to:"/profile",className:"nav-link",children:"Profile"})}),(0,N.jsx)("div",{className:"nav-item",children:(0,N.jsx)(c.N_,{to:"/transactions",className:"nav-link",children:"Plan Details"})}),(0,N.jsx)("div",{className:"nav-item",children:(0,N.jsx)(c.N_,{to:"/social-account",className:"nav-link active",children:"Social Accounts"})})]})})}),(0,N.jsxs)(m.A,{children:[(0,N.jsxs)(x.A,{className:"mb-xl-5 mb-4",children:[(0,N.jsxs)(x.A.Header,{className:"f-between flex-wrap w-100",children:[(0,N.jsx)("h2",{className:"fs-6 text-gray-800 my-3",children:"Social Accounts"}),(0,N.jsx)("div",{className:"my-2",children:(0,N.jsxs)(u.A,{className:"btn-min-w",onClick:()=>this.setState({addAccountModal:!0}),children:[(0,N.jsx)(h.gc,{type:"solid",icon:"plus",iconClass:"me-1"}),"Add Account"]})})]}),(0,N.jsx)(x.A.Body,{className:"d-flex flex-column justify-content-between",style:{minHeight:"calc(100vh - 220px)"},children:e?(0,N.jsxs)(N.Fragment,{children:[e.accountInformations&&e.accountInformations.length>0?(0,N.jsx)("div",{className:"d-flex flex-column w-100 flex-grow-1 mb-3",children:(0,N.jsxs)(p.A,{size:"xl",className:"align-middle gs-0 gy-3 my-0",responsive:!0,children:[(0,N.jsx)("thead",{className:"thead-light",children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:170},children:"Account"}),(0,N.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:70},children:"Network"}),(0,N.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:150},children:"Account Validity"}),(0,N.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:150},children:"Pages"}),(0,N.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:70},children:"Status"}),(0,N.jsx)("th",{className:"fw-bold text-nowrap text-end",style:{minWidth:70},children:"Actions"})]})}),(0,N.jsx)("tbody",{children:e.accountInformations&&e.accountInformations.map(((e,s)=>(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)(r.A,{className:"symbol symbol-40 symbol-circle me-2",imageSize:40,symbolClass:"symbol-label text-light-alt fw-bold text-uppercase fs-7",name:e.ConnectedAccounts.accountName,profileUrl:e.ConnectedAccounts.profilePicture,networkId:e.Network.id}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"text-gray-800 mb-0 fw-bold",children:e.ConnectedAccounts.accountName}),(0,N.jsxs)("small",{className:"mb-0 text-gray-600",children:["@",e.ConnectedAccounts.accountName]})]})]})}),(0,N.jsx)("td",{children:(0,N.jsx)("div",{className:"w-100",children:(0,N.jsx)(g.A,{placement:"top",overlay:(0,N.jsx)(j.A,{children:(0,d.Oi)(e.Network.id)}),children:(0,N.jsx)("span",{className:"h-24px w-24px d-flex",children:(0,N.jsx)("img",{className:"img-fluid h-100",src:(0,h.pc)("media/icons/social-icons/".concat((0,d.EC)(e.Network.id),".svg")),height:24,width:24,alt:(0,d.Oi)(e.Network.id),"icon-data":(0,d.Oi)(e.Network.id)})})})})}),(0,N.jsxs)("td",{children:[(0,N.jsx)("p",{className:"fs-8 text-gray-800 fw-semibold mb-0",children:f()(new Date(1e3*e.ConnectedAccounts.validity)).format("DD MMM YYYY")}),(0,N.jsx)("span",{className:"fs-9 text-gray-600",children:f()(new Date(1e3*e.ConnectedAccounts.validity)).format("hh:mm A")})]}),(0,N.jsx)("td",{children:e.ConnectedAccounts.child.length>0?(0,N.jsxs)("div",{className:"symbol-group symbol-hover flex-nowrap",children:[e.ConnectedAccounts.child.slice(0,6).map(((s,t)=>(0,N.jsx)(g.A,{placement:"top",overlay:(0,N.jsxs)(j.A,{className:"text-start",children:[(0,N.jsx)("p",{className:"text-gray-100 mb-0 w-100 fw-bold text-ellipsis text-start",children:s.ConnectedAccounts.name&&String(s.ConnectedAccounts.name).length>0?s.ConnectedAccounts.name:s.ConnectedAccounts.value2}),(0,N.jsxs)("p",{className:"mb-0 text-gray-300 text-ellipsis mb-0 fs-8 text-start",children:[18==s.ConnectedAccounts.networkId?"@":"",s.ConnectedAccounts.value2]})]}),children:(0,N.jsx)("span",{children:(0,N.jsx)(r.A,{className:"symbol symbol-36 symbol-circle bg-light",imageSize:36,symbolClass:"symbol-label text-light-alt fw-bold text-uppercase fs-7",name:s.ConnectedAccounts.value2,profileUrl:s.ConnectedAccounts.profilePicture,networkId:e.Network.id})})},t))),e.ConnectedAccounts.child.length>6?(0,N.jsx)("div",{className:"symbol symbol-36 symbol-circle cursor-pointer",onClick:this.handleModalShow(e.ConnectedAccounts.child),children:(0,N.jsxs)("span",{className:"symbol-label bg-dark fs-8 fw-semibold",children:["+",e.ConnectedAccounts.child.length]})}):null]}):"--"}),(0,N.jsx)("td",{children:(0,N.jsx)("span",{className:"badge badge-light-".concat(3==e.ConnectedAccounts.api||4==e.ConnectedAccounts.api?"danger":"success"," py-1 px-2"),children:3==e.ConnectedAccounts.api||4==e.ConnectedAccounts.api?"Reconnect":"Connected"})}),(0,N.jsx)("td",{className:"pr-0 text-end",children:(0,N.jsxs)("div",{className:"d-flex align-items-center justify-content-end",children:[(0,N.jsx)(g.A,{placement:"top",overlay:(0,N.jsx)(j.A,{children:4==e.ConnectedAccounts.api?"Reconnect":"Refresh"}),children:(0,N.jsx)(u.A,{variant:"icon",size:"sm",className:"btn-active-primary me-3",onClick:()=>this.reconnectAccount(e.Network,e.ConnectedAccounts.api),children:(0,N.jsx)(h.gc,{icon:"arrows-rotate"})})}),t?null:(0,N.jsx)(g.A,{placement:"top",overlay:(0,N.jsx)(j.A,{children:"Remove"}),children:(0,N.jsx)(u.A,{variant:"icon",size:"sm",className:"btn-active-primary",onClick:()=>this.onClickDeleteAccount(e.ConnectedAccounts.id,e.ConnectedAccounts.networkId),children:(0,N.jsx)(h.gc,{type:"solid",icon:"trash-can"})})})]})})]},s)))})]})}):(0,N.jsx)(n.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(i.A,{title:"Nothing to see here!",desc:"Uh-oh! No social networks connected. Link your connections and collect more content!",height:"calc(100vh - 415px)",icon:"product-NF"})}),t?null:(0,N.jsx)("div",{className:"col-lg-6",children:(0,N.jsxs)("div",{className:"mb-3 mb-xl-4",children:[(0,N.jsx)("p",{className:"mb-2 text-gray-800 fw-semibold",children:"Want to add social account without asking for credentials? Just share the link with the owner."}),(0,N.jsxs)("div",{className:"d-flex align-items-center w-100",children:[(0,N.jsx)("div",{className:"position-relative d-flex flex-grow-1 flex-column pe-2",children:(0,N.jsx)(g.A,{placement:"top",overlay:(0,N.jsx)(j.A,{children:l?"Url Copied":"Copy Url"}),children:(0,N.jsx)(A.A.Control,{type:"text",name:"ShareURL",id:"ShareURL",size:"lg",placeholder:"ShareURL",onClick:()=>this.codeCopy("ShareURL"),value:e.shareUrl})})}),(0,N.jsx)("button",{type:"button",className:"btn btn-lg btn-primary",onClick:this.shareUrlOpenModal,children:"Share"})]})]})}),(0,N.jsx)(b.A,{variant:"warning",className:"p-3 rounded-1",children:"Tagshop cannot access, store, or view any personal information or passwords that you may use to connect your social media accounts."})]}):(0,N.jsx)(o.a,{})})]}),a&&a.length>0?(0,N.jsx)(n.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(y,{modalCallback:this.handleCallback,modalToggle:C,childConnectionList:a})}):null,s&&s.length>0?(0,N.jsx)(n.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(U,{addAccountCallback:this.addAccountCallback,reconnectAccount:this.reconnectAccount,modalToggle:v,networkList:s})}):null,(0,N.jsx)(n.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:w?(0,N.jsx)(k.A,{text:"Send the connection URL to the account's owner. Enter the email id to share the link directly with them",heading:"Share Connection URL By Email",onClose:this.shareUrlCallback,codeId:"#buttonEmbedCode",shareUrl:e.shareUrl,isShare:!0}):null})]})]})}}const M=(0,l.Ng)((e=>{var s,t;return{socialAccountsData:null===(s=e.userAccountData)||void 0===s?void 0:s.socialAccounts,networkList:null===(t=e.userAccountData)||void 0===t?void 0:t.addAccount,social:e.socialAccounts}}),(e=>({TAGGSHOP_SOCIAL_ACCOUNT_DATA:()=>e((0,a.xv)()),TAGSHOP_SOCIAL_ACCOUNT_ADD_ACCOUNT_DATA:()=>e((0,a.CU)()),DELETE_USER_SOCIAL_ACCOUNT:(s,t,n)=>e((0,a.Cv)(s,t,n))})))(O)}}]);