"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[4928],{18038:(e,s,t)=>{t.d(s,{A:()=>d});var i=t(9950),l=t(97937),a=t(54810),n=t(44414);class o extends i.Component{constructor(e){super(e),this.handleClose=()=>{this.props.filterToggleCallback(!1)},this.state={width:window.innerWidth,isSavedList:!1},this.handleWindowResize=this.handleWindowResize.bind(this)}handleWindowResize(){this.setState({width:window.innerWidth})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{filterToggle:e,heading:s,redirectUrl:t,isHide:i,closeAside:o}=this.props,{width:d}=this.state;return(0,n.jsxs)("div",{className:"aside__ border-end ".concat(d<1280?"offcanvas offcanvas-start ".concat(e?"show":""):""),id:"aside__toggle",children:[(0,n.jsx)("div",{className:"d-flex justify-content-end d-xl-none p-3 border-bottom h-48px",children:(0,n.jsx)(l.A,{variant:"secondary",id:"toggle_aside",size:"sm",className:"d-flex border-0",onClick:()=>o(),children:(0,n.jsx)(a.gc,{icon:"xmark",iconClass:"me-0"})})}),(0,n.jsx)("div",{className:"aside__body w-100",children:this.props.children})]})}}const d=o},80692:(e,s,t)=>{t.d(s,{A:()=>A});var i=t(9950),l=t(34483),a=t(97937),n=t(21432),o=t(95942),d=t(54810),c=t(73878),r=t(28429),m=t(44268),u=t(17595),h=t(44414);const p=e=>{let{show:s,title:t,apiError:l,setApiError:n,onCreate:o,onUpdate:d,editContent:c,handleClose:r,isStatus:p,deleteContent:v,spinner:x}=e;const[g,b]=(0,i.useState)(""),[j,w]=(0,i.useState)(1),[f,y]=(0,i.useState)(1),[N,A]=(0,i.useState)(!1),C=()=>{g&&g.length>0?(A(!1),o(g,j,f)):A(!0)},k=e=>{g&&g.length>0?(A(!1),d(e,g,f,j)):A(!0)};(0,i.useEffect)((()=>{c&&Object.keys(c).length>0?(b(c.name),w(Number(c.autoUpdate)),y(Number(c.status))):S()}),[c]);const S=()=>{b(""),w(1),y(1),A(!1)};return(0,h.jsxs)(m.A,{show:s,size:"sm",onHide:r,id:"cont_modal",centered:!0,children:[(0,h.jsx)(m.A.Header,{closeButton:!0,children:(0,h.jsxs)(m.A.Title,{children:[c&&Object.keys(c).length>0?"Edit":"Create"," ",t]})}),(0,h.jsxs)(m.A.Body,{children:[(0,h.jsxs)(u.A.Group,{className:"mb-4",children:[(0,h.jsx)(u.A.Control,{id:"g_name",className:"fw-semibold  ".concat(N||l?"is-invalid":""),placeholder:"Enter Gallery Name",value:g,onChange:e=>{A(!1),n(""),b(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&(c&&Object.keys(c).length>0?k(c.id):C())}}),(0,h.jsx)("span",{className:"invalid-feedback",children:N?"".concat(t," name is required"):l?"".concat(l):""})]}),(0,h.jsxs)(u.A.Group,{className:"f-between mb-4",children:[(0,h.jsx)(u.A.Label,{htmlFor:"cont_a_u",children:"Auto Update"}),(0,h.jsx)(u.A.Check,{type:"switch",id:"cont_a_u",checked:j,onChange:()=>w(Number(!j))})]}),(0,h.jsxs)(u.A.Group,{className:"f-between mb-4",children:[(0,h.jsx)(u.A.Label,{htmlFor:"cont_s",children:"Status"}),(0,h.jsx)(u.A.Check,{type:"switch",id:"cont_s",checked:f,onClick:()=>y(Number(!f))})]})]}),(0,h.jsx)(m.A.Footer,{children:c&&Object.keys(c).length>0?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(a.A,{variant:"outline-danger",size:"sm",id:"con_delete_btn",onClick:()=>v(c),children:"Delete"}),(0,h.jsx)(a.A,{size:"sm",id:"con_update_btn",className:"".concat(x?"spinner":""),disabled:x,onClick:()=>k(c.id),children:"Update"})]}):(0,h.jsx)(a.A,{size:"sm",id:"con_save_btn",className:"".concat(x?"spinner":""),disabled:x,onClick:C,children:"Save"})})]})};var v=t(54480),x=t(58423),g=t(64323),b=t(33127);var j=t(59074),w=t(4695),f=t.n(w),y=t(80322),N=t(91615);const A=e=>{var s;let{contentList:t,selectedContent:m,title:u,iswebsite:w,onlySwitcher:A,modifyContent:C,selectLoader:k,header:S}=e;const _=(0,c.d4)((e=>{var s,t;return null===(s=e.dashboardData)||void 0===s||null===(t=s.dashboarddata)||void 0===t?void 0:t.allWalls})),{wallsLoader:E,addGalleryNow:I}=((0,c.d4)((e=>{var s,t;return null===(s=e.authorized)||void 0===s||null===(t=s.userData)||void 0===t?void 0:t.user_data})),(0,c.d4)((e=>null===e||void 0===e?void 0:e.dashboardData))),[F,L]=(0,i.useState)(null),[z,U]=(0,i.useState)(!1),[W,M]=(0,i.useState)([]),[G,D]=(0,i.useState)(!0),[O,T]=(0,i.useState)(!1),[B,P]=(0,i.useState)(!1),Y=(0,c.wA)(),q=(0,r.Zp)(),K=e=>{var s,t,i;if(L(e),localStorage.setItem("wallId",e.id),null!==u&&void 0!==u&&u.includes("Email")||null!==u&&void 0!==u&&u.includes("Shop")||null!==u&&void 0!==u&&u.includes("Website"))C(e);else if(null!==(s=window.location.pathname)&&void 0!==s&&s.includes("/more-apps"))q("/more-apps/".concat(e.id));else if(null!==(t=window.location.pathname)&&void 0!==t&&t.includes("/moderation")||null!==(i=window.location.pathname)&&void 0!==i&&i.includes("/reviewhub")){var l;Y({type:v.A6,payload:!0}),Y({type:v.vbo,payload:!0}),Y((0,g.LF)()),Y((0,x.ud)(!0)),Y((0,x.ww)(0)),null!==(l=window.location.pathname)&&void 0!==l&&l.includes("/moderation")?q("/content/moderation/".concat(e.id)):Y((0,N.QR)()),(e=>{e((0,b.lk)(!1)),e((0,b.aS)(!1))})(Y)}else Y({type:v.A6,payload:!0}),Y({type:v.vbo,payload:!0}),Y((0,g.LF)()),setTimeout((()=>{(null===e||void 0===e?void 0:e.totalPost)>0?q("/content/managefeed/".concat(e.id)):q("/content/addfeed/".concat(e.id))}),1e3)},R=e=>{e?(P(e),T(!1)):(H(!1),M([]),T(!1))},H=e=>{Y({type:v.GSH,payload:e})};return(0,i.useEffect)((()=>{const e=null===_||void 0===_?void 0:_.find((e=>e.id==localStorage.getItem("wallId")));m&&Object.keys(m).length>0?(L(m),D(!1)):k?D(!0):(L(e||(_&&_[0]?_[0]:"")),D(!1))}),[,m,k,_,localStorage.getItem("wallId")]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"d-flex align-items-center",children:[(0,h.jsxs)(l.A,{className:"w-100",children:[E||G?(0,h.jsx)("div",{className:"w-100 sk_rect rounded-1 h-34px"}):F&&Object.keys(F).length>0?(0,h.jsx)(l.A.Toggle,{id:"content_btn",variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between",style:{padding:S?2:4},children:(0,h.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,h.jsx)("div",{className:"symbol symbol-".concat(S?"28":"32"," radius-2 flex-shrink-0 me-2"),children:(0,h.jsx)("span",{className:"symbol-label fs-8",children:null===F||void 0===F||null===(s=F.name)||void 0===s?void 0:s.charAt(0).toUpperCase()})}),(0,h.jsxs)("div",{className:"overflow-hidden w-100 text-start d-flex flex-column",style:{maxWidth:130},children:[(0,h.jsx)("p",{className:"fw-bold mb-0 text-ellipsis fs-9 lh-sm",children:null===F||void 0===F?void 0:F.name}),(0,h.jsx)("span",{className:"fs-10 text-muted",children:null!==F&&void 0!==F&&F.totalPost?"".concat(null===F||void 0===F?void 0:F.totalPost," Posts"):"0 Post"})]})]})}):(0,h.jsxs)(a.A,{variant:"secondary",size:"lg",className:"w-100",onClick:()=>{window.location.href.includes("content/moderation")?(0,y.Yj)("contentGallery","editGallery",!0)&&H(!0):(0,y.Yj)("publish",u.includes("Website")?"website":u.includes("Shop")?"shopon":"email_camp",!0)&&q("/content/moderation/".concat(localStorage.getItem("wallId")?localStorage.getItem("wallId"):""))},children:[(0,h.jsx)(d.gc,{icon:"plus",iconClass:"me-1"}),"New Gallery"]}),_?(0,h.jsx)(l.A.Menu,{className:"w-100 p-0",children:(0,h.jsxs)("div",{className:"dropdown-height",children:[null===_||void 0===_?void 0:_.map(((e,s)=>{var t,i;const n=w?null===e||void 0===e||null===(t=e.wall)||void 0===t?void 0:t.Wall:e;return(0,h.jsxs)("div",{className:"position-relative",children:[(0,h.jsx)(l.A.Item,{eventKey:null===n||void 0===n?void 0:n.id,onClick:()=>(e=>{u?(0,y.Yj)("publish",u.includes("Website")?"website":u.includes("Shop")?"shopon":"email_camp",!0)&&K(e):K(e)})(n),className:"mb-1 rounded-0 ".concat((null===n||void 0===n?void 0:n.id)==localStorage.getItem("wallId")?"active":""),children:(0,h.jsxs)("div",{className:"d-flex align-items-center",children:[(0,h.jsx)("div",{className:"symbol symbol-".concat(S?"28":"32"," radius-2 flex-shrink-0 me-2"),children:(0,h.jsx)("span",{className:"symbol-label fs-8",children:null===n||void 0===n||null===(i=n.name)||void 0===i?void 0:i.charAt(0).toUpperCase()})}),(0,h.jsxs)("div",{className:"overflow-hidden w-100 text-start d-flex flex-column",style:{maxWidth:130},children:[(0,h.jsx)("p",{className:"fw-bold mb-0 text-ellipsis fs-9 lh-sm",children:null===n||void 0===n?void 0:n.name}),(0,h.jsx)("span",{className:"fs-10 text-muted lh-sm",children:null!==n&&void 0!==n&&n.totalPost?"".concat(null===n||void 0===n?void 0:n.totalPost," Posts"):"0 Post"})]}),(0,h.jsx)("div",{})]})}),!A&&(0,h.jsx)("div",{className:"dropdown-action pe-2",children:(0,h.jsx)(a.A,{variant:"dropdown-icon",className:"content_edit",onClick:()=>(0,y.Yj)("contentGallery","editGallery",!0,!1,e.id)?(e=>{M(e),H(!0)})(e):{},children:(0,h.jsx)(d.gc,{icon:"ellipsis-vertical",iconClass:"me-0"})})})]},s)})),!A&&(0,h.jsx)("div",{className:"mt-2 p-2 border-top",children:(0,h.jsxs)(l.A.Item,{id:"add_web_btn",onClick:()=>(0,y.Yj)("contentGallery","createGallery",!0)?H(!0):{},className:"f-center",children:[(0,h.jsx)("span",{className:"svg-icon svg-icon-9",children:(0,h.jsx)(d.gc,{icon:"plus"})}),(0,h.jsxs)("span",{className:"menu-title flex-grow-0",children:["New ",u]})]})})]})}):null]}),F&&Object.keys(F).length>1&&/\/(moderation|addfeed|managefeed|manual-upload)/.test(window.location.pathname)?(0,h.jsx)(n.A,{placement:"bottom",overlay:(0,h.jsx)(o.A,{children:"Add more content"}),children:(0,h.jsx)("button",{style:{cursor:"pointer"},onClick:()=>(0,y.Yj)("networkManager","manageFeed",!0)?q("/content/addfeed/".concat(localStorage.getItem("wallId")?localStorage.getItem("wallId"):"")):{},className:"btn btn-primary btn-sm ms-1",children:(0,h.jsx)(d.gc,{icon:"plus",iconClass:"me-0"})})}):null]}),(0,h.jsx)(p,{show:I,apiError:B,setApiError:P,title:"Gallery",onCreate:(e,s,t)=>{const i=null===e||void 0===e?void 0:e.trim();(e=>null===_||void 0===_?void 0:_.some((s=>{var t;return(null===s||void 0===s||null===(t=s.name)||void 0===t?void 0:t.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())})))(i)?P("Gallery name already exists."):i&&(T(!0),Y((0,j.kg)({name:i,status:t,autoUpdate:s||0,deleted:0,id:"",action:1},q,R)))},onUpdate:(e,s,t,i)=>{s&&s.length>0&&(T(!0),Y((0,j.kg)({name:null===s||void 0===s?void 0:s.trim(),status:t,id:e,autoUpdate:i||0,deleted:0,action:2},q,R)))},editContent:W,handleClose:()=>{M([]),H(!1),P("")},deleteContent:e=>{f().fire({title:"Are You Sure?",text:"You are about to delete a Gallery that is used in Publish. Deleting the gallery would also delete the corresponding Publish sections.",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete it"}).then((s=>{s.value?Y((0,j.kg)({name:e.name,status:e.status,autoUpdate:e.autoUpdate||0,id:e.id,deleted:0,action:3},q,R)):s.dismiss}))},spinner:O})]})}},36284:(e,s,t)=>{t.d(s,{A:()=>m});var i=t(9950),l=t(42074),a=t(45358),n=t(34483),o=t(1391),d=t(54810),c=t(44414);class r extends i.Component{isActive(e){return window.location.href.includes(e)?"active":""}render(){const{websiteUrl:e,navigate:s}=this.props;return(0,c.jsx)("div",{className:"subheader",children:(0,c.jsxs)(a.A,{fluid:!0,children:[(0,c.jsxs)("div",{className:"nav nav-underline d-none d-lg-flex",children:[(0,c.jsx)("div",{className:"nav-item",children:(0,c.jsxs)(l.N_,{to:"/website/".concat(e,"/").concat(localStorage.getItem("website_id")||""),className:"nav-link ".concat(this.isActive("website")),children:[(0,c.jsx)(d.gc,{icon:"browser",iconClass:"me-1"}),"Website"]})}),(0,c.jsx)("div",{className:"nav-item",children:(0,c.jsxs)(l.N_,{to:"/shopon-bio/preview/".concat(localStorage.getItem("shopOn_id")||""),className:"nav-link ".concat(this.isActive("shopon-bio")),children:[(0,c.jsx)(d.gc,{icon:"link",iconClass:"me-1"}),"Shopon.bio"]})}),(0,c.jsx)("div",{className:"nav-item",children:(0,c.jsxs)(l.N_,{to:"/email-campaign/publish/".concat(localStorage.getItem("emailCamp_id")||""),className:"nav-link ".concat(this.isActive("email-campaign")),children:[(0,c.jsx)(d.gc,{icon:"bullhorn",iconClass:"me-1"}),"Email Campaign"]})}),(0,c.jsx)("div",{className:"nav-item",children:(0,c.jsxs)(l.N_,{to:"/more-publish/",className:"nav-link ".concat(this.isActive("more-publish")),children:[(0,c.jsx)(d.gc,{icon:"ellipsis",iconClass:"me-1"}),"More"]})})]}),(0,c.jsxs)(n.A,{className:"d-flex d-lg-none",style:{marginTop:"5px"},children:[(0,c.jsx)(n.A.Toggle,{variant:"secondary",id:"subheader-tabs",children:window.location.href.includes("website")?"Website":window.location.href.includes("shopon-bio")?"Shopon.bio":window.location.href.includes("email-campaign")?"Email Campaign":window.location.href.includes("more-publish")?"More":""}),(0,c.jsxs)(n.A.Menu,{children:[(0,c.jsxs)(n.A.Item,{onClick:()=>s("/website/".concat(e,"/").concat(localStorage.getItem("website_id")||"")),className:this.isActive("website"),children:[(0,c.jsx)(d.gc,{icon:"browser",iconClass:"me-1"}),"Website"]}),(0,c.jsxs)(n.A.Item,{onClick:()=>s("/shopon-bio/preview/".concat(localStorage.getItem("shopOn_id")||"")),className:this.isActive("shopon-bio"),children:[(0,c.jsx)(d.gc,{icon:"link",iconClass:"me-1"}),"Shopon.bio"]}),(0,c.jsxs)(n.A.Item,{onClick:()=>s("/email-campaign/publish/".concat(localStorage.getItem("emailCamp_id")||"")),className:this.isActive("email-campaign"),children:[(0,c.jsx)(d.gc,{icon:"bullhorn",iconClass:"me-1"}),"Email Campaign"]}),(0,c.jsxs)(n.A.Item,{onClick:()=>s("/more-publish/"),className:this.isActive("more-publish"),children:[(0,c.jsx)(d.gc,{icon:"ellipsis",iconClass:"me-1"}),"More"]})]})]})]})})}}const m=(0,o.A)(r)},54524:(e,s,t)=>{t.d(s,{A:()=>E});var i=t(9950),l=t(54810),a=t(44268),n=t(86781),o=t(17595),d=t(68459),c=t(97937),r=t(73878),m=t(3302),u=t.n(m),h=t(75794),p=t(35131),v=t(21784),x=t(67972),g=t(44259),b=t(51960),j=t(66345),w=t(85608),f=t(44414);const y={uppyKey:"0701d3d7f8d94e92a65a9cba388b1d96",uppyBucket:"cloud.tagshop.ai",uppyAwsKey:"47ABVORKG52UYE1KB28S",uppyAwsSecret:"pcaTfeokaz28geAAns08H3yaGbOVz6ILgTptu19v",companionUrl:j.KO0?"https://app.taggbox.com":"https://test.taggbox.com"};class N extends i.Component{constructor(e){super(e),this.state={backgroundModal:!1,ext:"",fileName:""},this.onBackgroundClose=e=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},this.onBackgroundOpen=e=>{this.setState({backgroundModal:!0},(()=>{u()(".uppy-Dashboard-close").click((()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})}))}))},this.uppy=new h.A({debug:!0,autoProceed:!1,restrictions:{maxFileSize:5e7,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:this.props.allowFiles}}).use(p.Ay,{target:"#a",params:{auth:{key:y.uppyKey},steps:{store:{robot:"/wasabi/store",bucket_region:"us-west-1",bucket:y.uppyBucket,key:y.uppyAwsKey,secret:y.uppyAwsSecret,path:this.props.isLocation?"request-feature/${file.id}.${file.ext}":"tmp/${file.id}.${file.ext}"}}},waitForEncoding:!0}).use(v.A,{target:h.A.Dashboard,companionUrl:y.companionUrl}).use(x.A,{target:h.A.Dashboard,companionUrl:y.companionUrl})}componentDidMount(){var e=this;this.uppy.on("transloadit:result",((s,t)=>{this.setState({ext:t.ext,fileName:t.basename}),e.props.onClickToupload(this.props.isLocation?"".concat(w.GG,"request-feature/").concat(t.id,".").concat(t.ext):"".concat(w.$r).concat(t.id,".").concat(t.ext),(()=>{setTimeout((()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})}),300)}))}))}render(){const{imageStyle:e,uploadedMedia:s,id:t,text:i}=this.props,{backgroundModal:a,ext:n,fileName:o}=this.state,d=e=>{switch(e){case"docx":return"file-doc";case"pdf":return"file-pdf";case"mp4":case"mov":return"file-video";default:return!1}};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"d-flex align-items-start justify-content-between flex-column py-1",children:s?(0,f.jsxs)("div",{className:"f-between w-100 bg-gray-100 rounded-2 p-4 align-items-center",children:[(0,f.jsxs)("div",{className:"d-flex flex-grow-1 align-items-center",style:{width:"calc(100% - 30px)"},children:[d(n)?(0,f.jsx)("div",{className:"f-center flex-shrink-0 me-3",style:{fontSize:"3rem"},children:(0,f.jsx)(l.gc,{type:"solid",icon:d(n),iconClass:"text-gray-600"})}):(0,f.jsx)(b.A,{id:"bg_image",className:"object-fit-cover rounded-2 me-3",src:s,height:60,width:60,alt:"",style:{maxHeight:60}}),n?(0,f.jsxs)("p",{className:"text-ellipsis fs-8 mb-0",children:[o,".",n]}):null]}),(0,f.jsx)(c.A,{variant:"icon",size:"sm",className:"rounded-circle bg-danger border-danger text-white h-20px w-20px",onClick:()=>this.props.onClickToupload("",(()=>{})),children:(0,f.jsx)(l.gc,{icon:"xmark"})})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(c.A,{id:t,variant:"light",className:"w-100",onClick:()=>this.setState({backgroundModal:!0}),children:[(0,f.jsx)(l.gc,{icon:"arrow-up-from-bracket"}),i||"Upload"]}),(0,f.jsxs)("p",{className:"text-gray-500 mt-1 fw-medium fs-9",children:[(0,f.jsx)(l.gc,{type:"solid",icon:"info-circle",iconClass:"me-1"}),"Accepts ",this.props.allowFiles.join(", ")]})]})}),a?(0,f.jsx)(g.KG,{animateOpenClose:!0,open:a,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppy,onRequestClose:this.onBackgroundClose,closeAfterFinish:!0,plugins:["Url"]}):null]})}}var A=t(52867),C=t(14313);localStorage.getItem("token");class k extends i.Component{constructor(e){var s,t,i,l,a,n;super(e),this.submitForm=()=>{const{name:e,email:s,description:t,uploadedMedia:i}=this.state;let l=!(!e||(0,A.QT)(e)||0==String(e).trim()),a=!(!s||!(0,A.DT)(s)),n=!!(t&&t.length<=500);if(l&&a&&n){this.setState({isLoading:!0});(e=>(new C.A).post("".concat(j.xpU),{name:e.name,email:e.email,description:e.description,file:e.file}))({name:e,email:s,description:t,file:i}).then((e=>{200==e.data.responseCode?setTimeout((()=>{var e,s,t,i,l,a;(0,A.k1)("Request shared successfully"),this.setState({isLoading:!1,name:null===(e=this.props.authorized)||void 0===e||null===(s=e.userData)||void 0===s||null===(t=s.user_data)||void 0===t?void 0:t.user.name,email:null===(i=this.props.authorized)||void 0===i||null===(l=i.userData)||void 0===l||null===(a=l.user_data)||void 0===a?void 0:a.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1}),this.props.onCloseModel(!1)}),1e3):(this.setState({isLoading:!1}),(0,A.r$)(e.data.message))})).catch((e=>{this.setState({isLoading:!1}),(0,A.r$)("Something went wrong, please try again later.")}))}else this.setState({isLoading:!1,nameErr:!l,emailErr:!a,descriptionErr:!n})},this.onClickToupload=(e,s)=>this.setState({uploadedMedia:e},(()=>s())),this.onCloseModelFun=()=>{var e,s,t,i,l,a;this.setState({name:null===(e=this.props.authorized)||void 0===e||null===(s=e.userData)||void 0===s||null===(t=s.user_data)||void 0===t?void 0:t.user.name,email:null===(i=this.props.authorized)||void 0===i||null===(l=i.userData)||void 0===l||null===(a=l.user_data)||void 0===a?void 0:a.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1}),this.props.onCloseModel(!1)},this.state={name:null===(s=this.props.authorized)||void 0===s||null===(t=s.userData)||void 0===t||null===(i=t.user_data)||void 0===i?void 0:i.user.name,email:null===(l=this.props.authorized)||void 0===l||null===(a=l.userData)||void 0===a||null===(n=a.user_data)||void 0===n?void 0:n.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1,descriptionErr:!1,isLoading:!1}}render(){var e,s;const{show:t,onCloseModel:i,authorized:l}=this.props,{name:r,email:m,description:u,uploadedUrl:h,nameErr:p,emailErr:v,descriptionErr:x,isLoading:g,uploadedMedia:b}=(null===l||void 0===l||null===(e=l.userData)||void 0===e||null===(s=e.user_data)||void 0===s||s.user,this.state);return(0,f.jsxs)(a.A,{id:"reqFeature",size:"lg",show:t,"aria-labelledby":"reqFeature",tabIndex:"0",centered:!0,backdrop:"static",onHide:this.onCloseModelFun,children:[(0,f.jsx)(a.A.Header,{closeButton:!0,children:(0,f.jsx)(a.A.Title,{children:"Request New Feature"})}),(0,f.jsxs)(a.A.Body,{className:"p-lg-7 p-3 demo_schedule position-relative",children:[(0,f.jsxs)(n.A,{className:"mb-3",children:[(0,f.jsxs)(o.A.Group,{as:d.A,md:"6",children:[(0,f.jsxs)(o.A.Label,{children:["Full Name ",(0,f.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,f.jsx)(o.A.Control,{id:"r_f_name",required:!0,type:"text",placeholder:"Full name",className:p?"is-invalid":"",value:r,onChange:e=>this.setState({name:e.target.value,nameErr:!1})}),p&&(0,f.jsx)("div",{className:"invalid-feedback",children:"Name is required."})]}),(0,f.jsxs)(o.A.Group,{as:d.A,md:"6",children:[(0,f.jsxs)(o.A.Label,{children:["Email ",(0,f.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,f.jsx)(o.A.Control,{id:"r_f_email",required:!0,type:"email",placeholder:"example@example.com",className:v?"is-invalid":"",value:m,onChange:e=>this.setState({email:e.target.value,emailErr:!1})}),v&&(0,f.jsx)("div",{className:"invalid-feedback",children:""!=m?"Enter valid email.":"Email ID is required."})]})]}),(0,f.jsxs)(o.A.Group,{as:d.A,className:"mb-3",children:[(0,f.jsxs)(o.A.Label,{children:["Description ",(0,f.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,f.jsx)(o.A.Control,{as:"textarea",id:"r_f_desc",placeholder:"Enter Description",className:"".concat(x?"is-invalid":""," textarea-min-row-6"),maxLength:500,onChange:e=>this.setState({description:e.target.value,descriptionErr:!1}),value:u}),(0,f.jsxs)("div",{className:"f-between",children:[(0,f.jsx)("div",{className:"invalid-feedback d-block",children:x?"This field is required":""}),(0,f.jsxs)("span",{className:"fs-10 text-muted pt-1",children:[null===u||void 0===u?void 0:u.length,"/500"]})]})]}),(0,f.jsx)(o.A.Group,{as:d.A,className:"mb-3",children:(0,f.jsx)(N,{id:"sugg_doc",imageStyle:{paddingBottom:"66%"},uploadedMedia:b,onClickToupload:this.onClickToupload,text:"Upload File",allowFiles:["image/*",".docx",".pdf",".mp4",".mov"],isLocation:!0})})]}),(0,f.jsxs)(a.A.Footer,{children:[(0,f.jsx)(c.A,{id:"r_f_cancel",variant:"secondary",className:"ms-3 btn-min-w",onClick:this.onCloseModelFun,children:"Cancel"}),(0,f.jsx)(c.A,{id:"r_f_submit",className:"ms-3 btn-min-w ".concat(g?"spinner":""),onClick:this.submitForm,children:"Submit"})]})]})}}const S=(0,r.Ng)((e=>({authorized:e.authorized})),(e=>({})))(k);class _ extends i.Component{constructor(e){super(e),this.state={show:!1}}render(){const{text:e,variant:s,icon:t,isIcon:i,tooltip:l}=this.props,{show:a}=this.state;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{onClick:()=>this.setState({show:!a}),children:this.props.children}),(0,f.jsx)(S,{show:a,onCloseModel:()=>this.setState({show:!1})})]})}}const E=_},9676:(e,s,t)=>{t.d(s,{A:()=>w});var i=t(9950),l=t(34483),a=t(97937),n=t(54810),o=t(44268),d=t(17595),c=t(44414);const r=e=>{let{show:s,title:t,onCreate:l,onUpdate:n,editContent:r,handleClose:m,isStatus:u,contentList:h,spinner:p,onDelete:v}=e;const[x,g]=(0,i.useState)(null===r||void 0===r?void 0:r.name),[b,j]=(0,i.useState)(!1),[w,f]=(0,i.useState)(null===r||void 0===r?void 0:r.autoUpdate),[y,N]=(0,i.useState)(null===r||void 0===r?void 0:r.status),[A,C]=(0,i.useState)(!1),k=()=>{if(x&&x.length>0)if(h&&h.length>0){S(x).length>0?j(!0):l(x)}else l(x);else C(!0)},S=e=>h.filter((s=>String("Website"==t?s.wall.Wall.name:s.name).toLowerCase().trim()==String(e).toLowerCase().trim())),_=e=>{if(x&&x.length>0)if(h&&h.length>0){S(x).length>0?j(!0):n(e,x,y,w)}else n(e,x,y,w);else C(!0)};return(0,i.useEffect)((()=>{g(null===r||void 0===r?void 0:r.name),f(null===r||void 0===r?void 0:r.autoUpdate),N(null===r||void 0===r?void 0:r.status),C(!1),j(!1)}),[r]),(0,c.jsxs)(o.A,{show:s,size:"sm",onHide:m,id:"gallery_modal",centered:!0,children:[(0,c.jsx)(o.A.Header,{closeButton:!0,children:(0,c.jsxs)(o.A.Title,{children:[r&&Object.keys(r).length>0?"Edit":"Create"," ",t]})}),(0,c.jsxs)(o.A.Body,{children:[(0,c.jsxs)(d.A.Group,{className:"mb-4",children:[(0,c.jsx)(d.A.Control,{id:"g_name",className:"fw-semibold  ".concat(A||b?"is-invalid":""),placeholder:"Enter ".concat(t," Name"),value:x,onChange:e=>g(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(r&&Object.keys(r).length>0?_(r.id):k())}}),A||b?(0,c.jsx)("span",{className:"invalid-feedback",children:b?"Name already exists.":"".concat(t," name is required")}):""]}),u&&r&&Object.keys(r).length>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(d.A.Group,{className:"f-between mb-4",children:[(0,c.jsx)(d.A.Label,{htmlFor:"gallery_a_u",children:"Auto Update"}),(0,c.jsx)(d.A.Check,{type:"switch",id:"gallery_a_u",defaultChecked:w,onChange:()=>f(!w)})]}),(0,c.jsxs)(d.A.Group,{className:"f-between mb-4",children:[(0,c.jsx)(d.A.Label,{htmlFor:"gallery_s",children:"Status"}),(0,c.jsx)(d.A.Check,{type:"switch",id:"gallery_s",defaultChecked:y,onClick:()=>N(!y)})]})]}):null]}),(0,c.jsx)(o.A.Footer,{children:r&&Object.keys(r).length>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.A,{variant:"outline-danger",size:"sm",id:"web_close_btn",className:"me-3",onClick:()=>v(r.id),children:"Delete"}),(0,c.jsx)(a.A,{size:"sm",id:"web_update_btn",className:p?"spinner":"",onClick:()=>_(r.id),children:"Update"})]}):(0,c.jsx)(a.A,{size:"sm",id:"web_save_btn",className:p?"spinner":"",onClick:k,children:"Save"})})]})};var m=t(73878),u=t(28429),h=t(4695),p=t.n(h),v=t(22662),x=t(32417),g=t(25537),b=t(54480),j=t(80322);const w=e=>{let{contentList:s,changeWebsite:t,selectedContent:o,title:d,isWebsite:h,method:w,addNew:f,noList:y}=e;const[N,A]=(0,i.useState)(!1),[C,k]=(0,i.useState)([]),[S,_]=(0,i.useState)(!1),E=(0,m.wA)(),I=(0,u.Zp)();(0,i.useEffect)((()=>{f&&A(!0)}),[f]);const F=(e,s,t)=>{A(!1),k([]),(d.includes("ShopOn")||d.includes("Email")||d.includes("Website"))&&(w&&w(t||""),L(),_(!1))},L=()=>{k([]),A(!1),d.includes("ShopOn")&&E({type:b.NBv,payload:!1}),d.includes("Email")&&E({type:b.uZc,payload:!1}),d.includes("Website")&&E({type:b.VtD,payload:!1})};return(0,c.jsxs)(c.Fragment,{children:[y?null:(0,c.jsxs)(l.A,{className:"w-100",children:[o?(0,c.jsx)(l.A.Toggle,{id:"web_switcher_btn",variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between p-1",children:(0,c.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,c.jsx)("div",{className:"symbol symbol-24 radius-2 flex-shrink-0 me-1 fs-5",children:(0,c.jsx)(n.gc,{icon:"browser"})}),(0,c.jsxs)("div",{className:"overflow-hidden",style:{maxWidth:130},children:[(0,c.jsx)("p",{className:"fw-semibold mb-0 text-ellipsis fs-9 text-start",children:null===o||void 0===o?void 0:o.name}),(null===o||void 0===o?void 0:o.totalPost)&&(0,c.jsxs)("p",{className:"mb-0 fs-10 text-muted",children:[null===o||void 0===o?void 0:o.totalPost," Posts"]})]})]})}):(0,c.jsx)("div",{className:"w-100 sk_rect rounded-1 h-34px"}),(0,c.jsx)(l.A.Menu,{className:"w-100",children:(0,c.jsxs)("div",{className:"dropdown-height",children:[null===s||void 0===s?void 0:s.map(((e,s)=>{var i;const r=h?null===e||void 0===e||null===(i=e.wall)||void 0===i?void 0:i.Wall:e;return(0,c.jsxs)("div",{className:"position-relative mb-1",children:[(0,c.jsx)(l.A.Item,{eventKey:null===r||void 0===r?void 0:r.id,onClick:()=>(0,j.Yj)("publish",d.includes("Website")?"website":d.includes("ShopOn")?"shopon":"email_camp")?t(r):{},className:(null===r||void 0===r?void 0:r.id)==(null===o||void 0===o?void 0:o.id)?"active":"",children:(0,c.jsx)("div",{className:"menu-title",children:null===r||void 0===r?void 0:r.name})}),(0,c.jsx)("div",{className:"dropdown-action",children:(0,c.jsx)(a.A,{variant:"dropdown-icon",className:"web_edit",onClick:()=>{var s;return(0,j.Yj)("publish",d.includes("Website")?"website":d.includes("ShopOn")?"shopon":"email_camp",!0)?(e=>{k(e),A(!0)})(h?null===e||void 0===e||null===(s=e.wall)||void 0===s?void 0:s.Wall:e):{}},children:(0,c.jsx)(n.gc,{icon:"ellipsis-vertical",iconClass:"me-0"})})})]},s)})),(0,c.jsx)("div",{className:"mt-2 pt-2 border-top",children:(0,c.jsxs)(l.A.Item,{id:"add_web_btn",onClick:()=>(0,j.Yj)("publish",d.includes("Website")?"website":d.includes("ShopOn")?"shopon":"email_camp",!0)?A(!0):{},className:"f-center",children:[(0,c.jsx)(n.gc,{icon:"plus"}),(0,c.jsxs)("span",{className:"menu-title flex-grow-0 ms-1",children:["New ",d]})]})})]})})]}),(0,c.jsx)(r,{show:N,title:d,onCreate:e=>{_(!0),d.includes("Website")&&E((0,v.nE)(e,F,I)),d.includes("ShopOn")&&E((0,x.Lw)(e,F,I)),d.includes("Email")&&E((0,g.Gz)(e,F,I))},onUpdate:(e,s)=>{_(!0),d.includes("Website")&&E((0,v.G$)(e,s,F)),d.includes("ShopOn")&&E((0,x.wR)({action:1,id:e,name:s},F)),d.includes("Email")&&E((0,g.rK)(e,s,F))},editContent:C,handleClose:L,contentList:s,spinner:S,onDelete:e=>{p().fire({title:"Are You Sure?",text:"Are you sure you want to permanently delete this ".concat(d.toLowerCase()," template?"),icon:"warning",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete it"}).then((s=>{s.value&&(d.includes("Website")&&E((0,v.Q7)(e,F,I)),d.includes("ShopOn")&&E((0,x.IS)(e,F,I)),d.includes("Email")&&E((0,g.vt)(e,F,I)))}))}})]})}}}]);